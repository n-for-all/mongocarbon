import{j as e,r as d}from"./components-BPOIHgDc.js";const D=({className:s})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7 14.5L12 9.5L17 14.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),S=({className:s})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M17 9.5L12 14.5L7 9.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),_=()=>e.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",children:e.jsx("path",{d:"M26 24v4H6v-4H4v6h24v-6zM16 22l7-7-1.4-1.4-4.6 4.6V4h-2v14.2l-4.6-4.6L9 15z"})}),z=({className:s})=>e.jsxs("svg",{className:s,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[e.jsx("path",{d:"M4.603 5.347l5.653 7.11a10.347 10.347 0 0 1 .477-1.022L5.397 4.741zM18.244 5H15V4h5v5h-1V5.656l-4.872 5.265A7.91 7.91 0 0 0 12 16.294V21h-1v-4.706a8.908 8.908 0 0 1 2.394-6.051z"}),e.jsx("path",{fill:"none",d:"M0 0h24v24H0z"})]}),v=({className:s})=>e.jsx("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",children:e.jsx("path",{d:"M16 2.05a14 14 0 0 0-4.42 27.26c.7.13.96-.3.96-.66v-2.34c-3.9.85-4.72-1.88-4.72-1.88a3.72 3.72 0 0 0-1.56-2.05c-1.28-.88.1-.86.1-.86a2.94 2.94 0 0 1 2.14 1.44 3 3 0 0 0 4.1 1.17 3 3 0 0 1 .9-1.88c-3.11-.35-6.38-1.55-6.38-6.9a5.4 5.4 0 0 1 1.44-3.74 5 5 0 0 1 .14-3.68s1.17-.37 3.84 1.43a13.2 13.2 0 0 1 7 0c2.67-1.8 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.68 5.4 5.4 0 0 1 1.44 3.74c0 5.36-3.28 6.55-6.4 6.9a3.36 3.36 0 0 1 1 2.61v3.87c0 .36.26.8 1 .66A14 14 0 0 0 16 2.05z"})}),B=({className:s})=>e.jsxs("svg",{className:s,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:[e.jsx("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:1.5,d:"M29 16c0 3-5.82 9-13 9S3 19 3 16s5.82-9 13-9 13 6 13 9z"}),e.jsx("circle",{cx:16,cy:16,r:5,stroke:"currentColor",strokeLinejoin:"round",strokeWidth:1.5})]}),R=({className:s})=>e.jsx("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M14.65 8.93274L12.4852 4.30901C12.2923 3.89699 11.7077 3.897 11.5148 4.30902L9.35002 8.93274L4.45559 9.68243C4.02435 9.74848 3.84827 10.2758 4.15292 10.5888L7.71225 14.2461L6.87774 19.3749C6.80571 19.8176 7.27445 20.1487 7.66601 19.9317L12 17.5299L16.334 19.9317C16.7256 20.1487 17.1943 19.8176 17.1223 19.3749L16.2878 14.2461L19.8471 10.5888C20.1517 10.2758 19.9756 9.74848 19.5444 9.68243L14.65 8.93274Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),E=({repo:s,version:h,title:u})=>{const[p,t]=s.split("/"),n=`http://github.com/${p}/${t}`;return e.jsx("div",{className:"inline-flex items-center",children:e.jsxs("a",{target:"_blank",className:"inline-flex w-9 overflow-hidden lg:w-auto items-center gap-2 px-2 py-1.5 text-sm border border-solid  border-neutral-300 bg-neutral-50",href:n,children:[e.jsx(v,{className:"flex-shrink-0 w-5 h-5"})," ",u," ",h?e.jsxs("b",{children:["v",h]}):null]})})},H=({repo:s,travis:h,title:u,version:p})=>{const[t,n]=d.useState(null),[L,g]=d.useState(!0),[x,b]=d.useState(null),[o,m]=s.split("/"),k=`http://github.com/${o}`,r=`http://github.com/${o}/${m}`,$=`https://travis-ci.org/${o}/${m}.png?branch=master`,y=`https://travis-ci.org/${o}/${m}/builds`,[f,C]=d.useState(!1);if(d.useEffect(()=>{const c=`https://api.github.com/repos/${s}`;(async()=>{try{const a=localStorage.getItem(c);let w;if(a){const N=JSON.parse(a)._cachedAt;w=(new Date().getTime()-N)/1e3/60}if(w&&w<20&&a)n(JSON.parse(a)),g(!1);else{const l=await(await fetch(c)).json();l.message&&/Rate Limit/i.test(l.message)?a?n(JSON.parse(a)):b("Rate limit exceeded"):(l._cachedAt=new Date().getTime(),localStorage.setItem(c,JSON.stringify(l)),n(l)),g(!1)}}catch{b("Failed to fetch repository data"),g(!1)}})()},[s]),x)return e.jsx("div",{className:"text-red-500",children:x});if(!t)return null;const j=new Date(t.pushed_at),M=`${j.getMonth()+1}-${j.getDate()}-${j.getFullYear()}`;let i=null;return L?i=e.jsx("div",{children:"Loading..."}):x?i=e.jsx("div",{className:"text-red-500",children:x}):t?i=e.jsx("div",{className:"overflow-hidden transition-all duration-500 "+(f?"max-h-48":"max-h-0"),children:e.jsxs("div",{className:"p-4 overflow-auto h-full  border border-solid  border-neutral-300 bg-neutral-50 ",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pb-2 mb-2",children:[e.jsxs("h3",{className:"flex gap-0.5 font-semibold text-neutral-600 text-md",children:[e.jsx(v,{className:"w-6 h-6 mr-1"}),e.jsx("a",{className:"text-blue-500",href:k,children:o}),"/",e.jsx("a",{className:"text-blue-500",href:r,children:m})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("a",{target:"_blank",className:"flex items-center text-sm font-bold transition text-neutral-600 watchers hover:text-blue-600",href:`${r}/watchers`,children:[e.jsx(B,{className:"h-5 mr-1"}),t.watchers]}),e.jsxs("a",{target:"_blank",className:"flex items-center text-sm font-bold transition text-neutral-600 watchers hover:text-blue-600",href:`${r}/fork`,children:[e.jsx(z,{className:"h-5 mr-0.5"}),t.forks]}),e.jsxs("a",{target:"_blank",className:"flex items-center text-sm font-bold transition text-neutral-600 watchers hover:text-blue-600",href:`${r}/stargazers`,children:[e.jsx(R,{className:"h-5"}),t.stargazers_count]})]})]}),e.jsxs("div",{className:"mb-2 ",children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:[t.description,e.jsxs("span",{className:"block",children:["â€”"," ",e.jsx("a",{target:"_blank",className:"text-blue-500",href:`${r}#readme`,children:"Read More"})]})]}),t.homepage&&e.jsx("p",{className:"text-sm",children:e.jsx("a",{target:"_blank",className:"text-blue-500",href:t.homepage,children:t.homepage})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("p",{className:"text-sm text-neutral-600 updated",children:["Latest commit to the ",e.jsx("strong",{children:"master"})," branch on ",M]}),e.jsxs("div",{className:"flex items-center justify-start mt-2 ml-2 space-x-2",children:[h&&e.jsx("a",{href:y,children:e.jsx("img",{className:"travis",src:$,alt:"Build status"})}),e.jsx("a",{className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium border border-solid  text-neutral-600 border-neutral-200 hover:bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-neutral-200",href:`${r}/zipball/master`,children:e.jsx(_,{})})]})]})]})}):i=e.jsx("div",{className:"text-red-500",children:"No data"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"inline-flex mb-4 border border-solid  border-neutral-300 bg-neutral-50",children:[e.jsxs("a",{target:"_blank",className:"inline-flex items-center gap-2 px-2 py-1 my-1 text-sm ",href:r,children:[e.jsx(v,{className:"w-6 h-6"})," ",u," ",e.jsxs("b",{children:["v",p]})]}),e.jsx("a",{onClick:c=>{c.preventDefault(),C(!f)},className:"inline-flex items-center gap-2 px-2 py-1 my-1 ml-2 text-sm border-l border-solid border-neutral-200",href:r,children:f?e.jsx(D,{className:"w-5 h-5"}):e.jsx(S,{className:"w-5 h-5"})})]}),i]})};export{H as G,E as a};
