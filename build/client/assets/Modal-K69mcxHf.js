import{u as k,c as y,_ as B,P as e,d as ge,a as He,b as Me}from"./index-_rCr0AGk.js";import{R as n,r as p}from"./components-Cj7Yk1Hh.js";import{u as qe,B as z,e as ze,m as W,g as We,E as Ke,f as Ge,T as je}from"./Button-Bl4KegFP.js";import{c as Ue,C as Ve,a as ue,n as K,b as Je,g as Qe,w as Xe}from"./TextInput-CKh2Yhf_.js";import{L as me}from"./index-BgfNTfNX.js";import{d as Ye}from"./index-B37bIhWk.js";import{c as Ze}from"./bucket-3-B5cXRAyd.js";const G=n.forwardRef(function(r,o){let{children:u,className:c,stacked:f,...d}=r;const s=k(),l=y(c,`${s}--btn-set`,{[`${s}--btn-set--stacked`]:f});return n.createElement("div",B({},d,{className:l,ref:o}),u)});G.displayName="ButtonSet";G.propTypes={children:e.node,className:e.string,stacked:e.bool};function be(i){let{active:r=!0,className:o,withOverlay:u=!0,small:c=!1,description:f="loading",...d}=i;const s=k(),l=y(o,{[`${s}--loading`]:!0,[`${s}--loading--small`]:c,[`${s}--loading--stop`]:!r}),h=y({[`${s}--loading-overlay`]:!0,[`${s}--loading-overlay--stop`]:!r}),m=n.createElement("div",B({},d,{"aria-atomic":"true","aria-live":r?"assertive":"off",className:l}),n.createElement("svg",{className:`${s}--loading__svg`,viewBox:"0 0 100 100"},n.createElement("title",null,f),c?n.createElement("circle",{className:`${s}--loading__background`,cx:"50%",cy:"50%",r:"42"}):null,n.createElement("circle",{className:`${s}--loading__stroke`,cx:"50%",cy:"50%",r:c?"42":"44"})));return u?n.createElement("div",{className:h},m):m}be.propTypes={active:e.bool,className:e.string,description:e.string,id:ge(e.string),small:e.bool,withOverlay:e.bool};const pe=i=>{let{className:r,status:o="active",iconDescription:u,description:c,onSuccess:f,successDelay:d=1500,...s}=i;const l=k(),h=y(`${l}--inline-loading`,r),m=()=>{let E=u||o;if(o==="error")return n.createElement(Ue,{className:`${l}--inline-loading--error`},n.createElement("title",null,E));if(o==="finished")return setTimeout(()=>{f&&f()},d),n.createElement(Ve,{className:`${l}--inline-loading__checkmark-container`},n.createElement("title",null,E));if(o==="inactive"||o==="active")return u||(E=o==="active"?"loading":"not loading"),n.createElement(be,{small:!0,description:E,withOverlay:!1,active:o==="active"})},S=n.createElement("div",{className:`${l}--inline-loading__text`},c),L=m(),b=L&&n.createElement("div",{className:`${l}--inline-loading__animation`},L);return n.createElement("div",B({className:h},s,{"aria-live":"assertive"}),b,c&&S)};pe.propTypes={className:e.string,description:e.node,iconDescription:e.string,onSuccess:e.func,status:e.oneOf(["inactive","active","finished","error"]),successDelay:e.number};function fe(i,r,o){i.classList.contains(r)===!o&&i.classList[o?"add":"remove"](r)}function en(i,r){return function(u,c,f){for(var d=arguments.length,s=new Array(d>3?d-3:0),l=3;l<d;l++)s[l-3]=arguments[l];return r(u,c,f,...s)}}const nn=i=>{let{disabled:r=!1,legendId:o,legendText:u,invalid:c=!1,children:f,className:d,message:s=!1,messageText:l="",...h}=i;const m=k(),S=y(`${m}--fieldset`,d);return n.createElement("fieldset",B({disabled:r},c&&{"data-invalid":""},{className:S},h,{"aria-labelledby":h["aria-labelledby"]||o}),n.createElement("legend",{className:`${m}--label`,id:o||h["aria-labelledby"]},u),f,s?n.createElement("div",{className:`${m}--form__requirements`},l):null)};nn.propTypes={children:e.node,className:e.string,disabled:e.bool,invalid:e.bool,legendId:e.node,legendText:e.node.isRequired,message:e.bool,messageText:e.string};const tn=["xs","sm","md","lg"],an=n.forwardRef(function(r,o){let{"aria-label":u,children:c,className:f,decorator:d,modalHeading:s="",modalLabel:l="",modalAriaLabel:h,passiveModal:m=!1,secondaryButtonText:S,primaryButtonText:L,open:b,onRequestClose:E=K,onRequestSubmit:j=K,onSecondarySubmit:D,primaryButtonDisabled:ye=!1,danger:w,alert:U,secondaryButtons:T,selectorPrimaryFocus:V="[data-modal-primary-focus]",selectorsFloatingMenus:J,shouldSubmitOnEnter:he,size:Q,hasScrollingContent:X=!1,closeButtonLabel:Y="Close",preventCloseOnClickOutside:Ee=!1,isFullWidth:$e,launcherButtonRef:P,loadingStatus:I="inactive",loadingDescription:ve,loadingIconDescription:Ne,onLoadingSuccess:Ce=K,slug:_,...Z}=r;const t=k(),F=p.useRef(null),ee=p.useRef(),C=p.useRef(null),N=p.useRef(null),ne=p.useRef(null),te=p.useRef(null),[ae,oe]=p.useState(!1),H=`modal-${qe()}`,se=`${t}--modal-header__label--${H}`,le=`${t}--modal-header__heading--${H}`,re=`${t}--modal-body--${H}`,M=`${t}--modal-close`,Be=y({[`${t}--btn--loading`]:I!=="inactive"}),q=I!=="inactive",R=He("enable-experimental-focus-wrap-without-sentinels");function Se(a){return!D&&a===ee.current||a.classList.contains(M)}function xe(a){a.stopPropagation(),b&&(W(a,Ke)&&E(a),W(a,Ge)&&he&&!Se(a.target)&&j(a),R&&W(a,je)&&N.current&&Je({containerNode:N.current,currentActiveNode:a.target,event:a}))}function Te(a){const g=a.target;a.stopPropagation(),!Ee&&!Qe(g,J)&&N.current&&!N.current.contains(g)&&E(a)}function ke(a){let{target:g,relatedTarget:$}=a;if(b&&$&&g){const{current:v}=N,{current:O}=ne,{current:Pe}=te;Xe({bodyNode:v,startTrapNode:O,endTrapNode:Pe,currentActiveNode:$,oldActiveNode:g,selectorsFloatingMenus:J})}}const Le=D||E,we=y(`${t}--modal`,{[`${t}--modal-tall`]:!m,"is-visible":b,[`${t}--modal--danger`]:w,[`${t}--modal--slug`]:_,[`${t}--modal--decorator`]:d},f),Ie=y(`${t}--modal-container`,{[`${t}--modal-container--${Q}`]:Q,[`${t}--modal-container--full-width`]:$e}),_e=y(`${t}--modal-content`,{[`${t}--modal-scroll-content`]:X||ae}),Fe=y(`${t}--modal-footer`,{[`${t}--modal-footer--three-button`]:Array.isArray(T)&&T.length===2}),ie=a=>typeof a=="string"?a:void 0,Re=ie(l),Ae=ie(s),ce=Re||u||h||Ae,Oe=X||ae?{tabIndex:0,role:"region","aria-label":ce,"aria-labelledby":l?se:le}:{},A={};U&&m&&(A.role="alert"),U&&!m&&(A.role="alertdialog",A["aria-describedby"]=re),p.useEffect(()=>()=>{fe(document.body,`${t}--body--with-modal-open`,!1)},[t]),p.useEffect(()=>{fe(document.body,`${t}--body--with-modal-open`,b??!1)},[b,t]),p.useEffect(()=>{!b&&P&&setTimeout(()=>{P?.current?.focus()})},[b,P]),p.useEffect(()=>{const a=$=>{const v=$||N.current,O=v?v.querySelector(w?`.${t}--btn--secondary`:V):null;return O||F&&F.current};b&&($=>{const v=a($);v!==null&&v.focus()})(N.current)},[b,V,w,t]),Me(()=>{C.current&&oe(C.current.scrollHeight>C.current.clientHeight);function a(){C.current&&oe(C.current.scrollHeight>C.current.clientHeight)}const g=Ye(a,200);return window.addEventListener("resize",g),()=>{g.cancel(),window.removeEventListener("resize",g)}},[]);let x=n.isValidElement(_??d)?_??d:null;x&&x.type?.displayName==="AILabel"&&(x=n.cloneElement(x,{size:"sm"}));const de=n.createElement("div",{className:`${t}--modal-close-button`},n.createElement(We,{className:M,label:Y,onClick:E,"aria-label":Y,align:"left",ref:F},n.createElement(Ze,{size:20,"aria-hidden":"true",tabIndex:"-1",className:`${M}__icon`}))),De=n.createElement("div",B({ref:N,role:"dialog"},A,{className:Ie,"aria-label":ce,"aria-modal":"true",tabIndex:-1}),n.createElement("div",{className:`${t}--modal-header`},m&&de,l&&n.createElement(ue,{as:"h2",id:se,className:`${t}--modal-header__label`},l),n.createElement(ue,{as:"h2",id:le,className:`${t}--modal-header__heading`},s),_?x:d?n.createElement("div",{className:`${t}--modal--inner__decorator`},x):"",!m&&de),n.createElement(me,B({ref:C,id:re,className:_e},Oe),c),!m&&n.createElement(G,{className:Fe,"aria-busy":q},Array.isArray(T)&&T.length<=2?T.map((a,g)=>{let{buttonText:$,onClick:v}=a;return n.createElement(z,{key:`${$}-${g}`,kind:"secondary",onClick:v},$)}):S&&n.createElement(z,{disabled:q,kind:"secondary",onClick:Le,ref:ee},S),n.createElement(z,{className:Be,kind:w?"danger":"primary",disabled:q||ye,onClick:j,ref:F},I==="inactive"?L:n.createElement(pe,{status:I,description:ve,iconDescription:Ne,className:`${t}--inline-loading--btn`,onSuccess:Ce}))));return n.createElement(me,B({},Z,{level:0,onKeyDown:xe,onClick:ze([Z?.onClick,Te]),onBlur:R?()=>{}:ke,className:we,role:"presentation",ref:o}),!R&&n.createElement("span",{ref:ne,tabIndex:0,role:"link",className:`${t}--visually-hidden`},"Focus sentinel"),De,!R&&n.createElement("span",{ref:te,tabIndex:0,role:"link",className:`${t}--visually-hidden`},"Focus sentinel"))});an.propTypes={alert:e.bool,"aria-label":en("hasScrollingContent",e.string),children:e.node,className:e.string,closeButtonLabel:e.string,danger:e.bool,decorator:e.node,hasScrollingContent:e.bool,id:e.string,isFullWidth:e.bool,launcherButtonRef:e.oneOfType([e.func,e.shape({current:e.any})]),loadingDescription:e.string,loadingIconDescription:e.string,loadingStatus:e.oneOf(["inactive","active","finished","error"]),modalAriaLabel:e.string,modalHeading:e.node,modalLabel:e.node,onKeyDown:e.func,onLoadingSuccess:e.func,onRequestClose:e.func,onRequestSubmit:e.func,onSecondarySubmit:e.func,open:e.bool,passiveModal:e.bool,preventCloseOnClickOutside:e.bool,primaryButtonDisabled:e.bool,primaryButtonText:e.node,secondaryButtonText:e.node,secondaryButtons:(i,r,o)=>{if(i.secondaryButtons){if(!Array.isArray(i.secondaryButtons)||i.secondaryButtons.length!==2)return new Error(`${r} needs to be an array of two button config objects`);const u={buttonText:e.node,onClick:e.func};i[r].forEach(c=>{e.checkPropTypes(u,c,r,o)})}return null},selectorPrimaryFocus:e.string,selectorsFloatingMenus:e.arrayOf(e.string.isRequired),shouldSubmitOnEnter:e.bool,size:e.oneOf(tn),slug:ge(e.node)};export{nn as F,an as M};
