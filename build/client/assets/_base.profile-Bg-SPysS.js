import{u,r as o,a as f,c as x,j as e,F as w}from"./components-DSNIqDDq.js";import{B as i,A as h,P as j,V as v}from"./button-DJCNRe4M.js";import{A as b}from"./actionable-notification-m4TMj11n.js";import{I as n}from"./input-DUDTp-v9.js";import"./createLucideIcon-Dkhr3css.js";import"./utils-DcAaEMf9.js";import"./alert-B9YY_acf.js";function D(){const m=u(),[c,E]=o.useState(m?.user),l=f(),[r,a]=o.useState({password:"",confirm_password:""}),s=x(),[p,d]=o.useState(!1);return o.useEffect(()=>{s&&s.formError&&d(!0),s&&s.fields&&a(s.fields)},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full max-w-md p-6 mx-auto my-16 mb-16 bg-white border border-solid border-neutral-200",children:[e.jsx("h2",{className:"mb-2 text-4xl font-bold",children:"Welcome"}),e.jsx("p",{className:"mb-10 text-sm",children:"Please use the form below to update your profile"}),e.jsxs(w,{method:"post",children:[e.jsxs("div",{className:"flex flex-col gap-5 mb-2",children:[e.jsx(n,{id:"username",name:"username",readOnly:!0,labelText:"Username",type:"text",value:c.username,autoComplete:"new-password",required:!0}),e.jsx(n,{id:"password",name:"password",labelText:"Password",type:"password",value:r.password,onChange:t=>{a({...r,password:t.target.value})},required:!0,autoComplete:"new-password",invalid:!!s?.fieldErrors?.password||void 0,invalidText:s?.fieldErrors?.password?s?.fieldErrors?.password:void 0}),e.jsx(n,{id:"confirm_password",name:"confirm_password",labelText:"Confirm Password",type:"password",value:r.confirm_password,onChange:t=>{a({...r,confirm_password:t.target.value})},required:!0,autoComplete:"new-password",invalid:!!s?.fieldErrors?.confirm_password||void 0,invalidText:s?.fieldErrors?.confirm_password?s?.fieldErrors?.confirm_password:void 0}),e.jsx(i,{size:"sm",icon:e.jsx(h,{}),type:"submit",children:"Update"})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"mt-4",size:"sm",icon:e.jsx(j,{}),type:"button",variant:"secondary",onClick:()=>{l("/create")},children:"Add User"}),e.jsx(i,{hasIconOnly:!0,className:"mt-4",size:"sm",icon:e.jsx(v,{}),type:"button",variant:"ghost",onClick:()=>{l("/connections")},children:"Go to Connections"})]})]})]}),p&&e.jsx("div",{className:"fixed -translate-x-1/2 left-1/2 bottom-10",children:e.jsx(b,{variant:"error",title:"Error",subtitle:s?.formError,closeOnEscape:!0,inline:!1,onClose:()=>d(!1)})})]})}export{D as default};
