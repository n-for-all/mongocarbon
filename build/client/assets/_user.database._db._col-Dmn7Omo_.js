import{r as w,j as u,D as Bs,R as te,u as Us,b as js,a as Ps}from"./components-BPOIHgDc.js";import{B as bt,C as rn,f as ci,b as Rs,T as Un,j as ks,k as _s,P as Ls,X as jn,S as Ds,a as $s,u as li,l as Ms,h as Fs,L as Vs,m as Js,n as or,A as ar}from"./button-ZrFu6W_T.js";import{m as bn,T as Gs,n as Re}from"./functions-DMKVu1r-.js";import{a as Hs}from"./collection-CQRtENl6.js";import{A as zs,a as Ys,b as Ws,c as qs}from"./accordion-Cy3lx65E.js";import{T as cr,a as lr,b as pe,c as Q}from"./table-CX2GO18n.js";import{a as ui,u as Xs,b as fi,e as Ks,P as Ot,f as tt,d as Zs}from"./index-CZUknZXM.js";import{c as Qs}from"./x-OohQberg.js";import{u as di,S as ur,a as fr,b as dr,c as hi}from"./select-Cem4k-Od.js";import{c as St,i as eo}from"./utils-DcAaEMf9.js";import"./input-ChpOE9Lf.js";const Pn=({text:t,className:e})=>{const[n,r]=w.useState(!1),i=()=>{t&&navigator.clipboard.writeText(String(t)).then(()=>{r(!0),setTimeout(()=>{r(!1)},1e3)})};return u.jsx("span",{className:"cursor-pointer"+(e?" "+e:""),onClick:i,children:n?u.jsx(rn,{}):u.jsx(ci,{})})},to=({text:t,children:e,...n})=>{const[r,i]=w.useState(!1),s=o=>{o.preventDefault(),t&&navigator.clipboard.writeText(String(t)).then(()=>{i(!0),setTimeout(()=>{i(!1)},1e3)})};return u.jsx(bt,{icon:r?u.jsx(rn,{}):u.jsx(ci,{}),onClick:s,...n,children:e})};var mi={exports:{}};(function(t){(function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function i(s,o,a){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var c=a&&a.debug||!1;if(c){var l=document.querySelector("#input-textarea-caret-position-mirror-div");l&&l.parentNode.removeChild(l)}var d=document.createElement("div");d.id="input-textarea-caret-position-mirror-div",document.body.appendChild(d);var m=d.style,h=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,g=s.nodeName==="INPUT";m.whiteSpace="pre-wrap",g||(m.wordWrap="break-word"),m.position="absolute",c||(m.visibility="hidden"),e.forEach(function(E){g&&E==="lineHeight"?m.lineHeight=h.height:m[E]=h[E]}),r?s.scrollHeight>parseInt(h.height)&&(m.overflowY="scroll"):m.overflow="hidden",d.textContent=s.value.substring(0,o),g&&(d.textContent=d.textContent.replace(/\s/g,"Â "));var p=document.createElement("span");p.textContent=s.value.substring(o)||".",d.appendChild(p);var b={top:p.offsetTop+parseInt(h.borderTopWidth),left:p.offsetLeft+parseInt(h.borderLeftWidth),height:parseInt(h.lineHeight)};return c?p.style.backgroundColor="#aaa":document.body.removeChild(d),b}t.exports=i})()})(mi);var no=mi.exports;const ro=Bs(no);function io(t){let e=0,n=0;if(!t)return{start:e,end:n};if(typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number")return{start:t.selectionStart,end:t.selectionEnd};if(!document)return{start:e,end:n};const r=document.getSelection(),i=r?r.getRangeAt(0):null;if(!i||i.commonAncestorContainer!==t)return{start:e,end:n};const s=t.value.length,o=t.value.replace(/\r\n/g,`
`),a=t.createTextRange(),c=i.cloneRange();a.setStart(c.startContainer,c.startOffset),a.setEnd(c.endContainer,c.endOffset);const l=t.createTextRange();return l.collapse(!1),a.compareEndPoints("StartToEnd",l)>-1?e=n=s:(e=-a.moveStart("character",-s),e+=o.slice(0,e).split(`
`).length-1,a.compareEndPoints("EndToEnd",l)>-1?n=s:(n=-a.moveEnd("character",-s),n+=o.slice(0,n).split(`
`).length-1)),{start:e,end:n}}function so(t,e){if(t)if(t.createTextRange){const n=t.createTextRange();n.move("character",e),n.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()}const hr=t=>typeof t=="object"&&t!=null&&t.nodeType===1,mr=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",yn=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return mr(n.overflowY,e)||mr(n.overflowX,e)||(r=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},qt=(t,e,n,r,i,s,o,a)=>s<t&&o>e||s>t&&o<e?0:s<=t&&a<=n||o>=e&&a>=n?s-t-r:o>e&&a<n||s<t&&a>n?o-e+i:0,oo=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},gr=(t,e)=>{var n,r,i,s;if(typeof document>"u")return[];const{scrollMode:o,block:a,inline:c,boundary:l,skipOverflowHiddenElements:d}=e,m=typeof l=="function"?l:H=>H!==l;if(!hr(t))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,g=[];let p=t;for(;hr(p)&&m(p);){if(p=oo(p),p===h){g.push(p);break}p!=null&&p===document.body&&yn(p)&&!yn(document.documentElement)||p!=null&&yn(p,d)&&g.push(p)}const b=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,E=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:j,scrollY:T}=window,{height:D,width:S,top:U,right:L,bottom:V,left:P}=t.getBoundingClientRect(),{top:I,right:B,bottom:R,left:J}=(H=>{const Y=window.getComputedStyle(H);return{top:parseFloat(Y.scrollMarginTop)||0,right:parseFloat(Y.scrollMarginRight)||0,bottom:parseFloat(Y.scrollMarginBottom)||0,left:parseFloat(Y.scrollMarginLeft)||0}})(t);let x=a==="start"||a==="nearest"?U-I:a==="end"?V+R:U+D/2-I+R,O=c==="center"?P+S/2-J+B:c==="end"?L+B:P-J;const M=[];for(let H=0;H<g.length;H++){const Y=g[H],{height:ne,width:Ee,top:Ce,right:re,bottom:ae,left:le}=Y.getBoundingClientRect();if(o==="if-needed"&&U>=0&&P>=0&&V<=E&&L<=b&&U>=Ce&&V<=ae&&P>=le&&L<=re)return M;const he=getComputedStyle(Y),Pe=parseInt(he.borderLeftWidth,10),ct=parseInt(he.borderTopWidth,10),Se=parseInt(he.borderRightWidth,10),rt=parseInt(he.borderBottomWidth,10);let k=0,G=0;const F="offsetWidth"in Y?Y.offsetWidth-Y.clientWidth-Pe-Se:0,W="offsetHeight"in Y?Y.offsetHeight-Y.clientHeight-ct-rt:0,A="offsetWidth"in Y?Y.offsetWidth===0?0:Ee/Y.offsetWidth:0,X="offsetHeight"in Y?Y.offsetHeight===0?0:ne/Y.offsetHeight:0;if(h===Y)k=a==="start"?x:a==="end"?x-E:a==="nearest"?qt(T,T+E,E,ct,rt,T+x,T+x+D,D):x-E/2,G=c==="start"?O:c==="center"?O-b/2:c==="end"?O-b:qt(j,j+b,b,Pe,Se,j+O,j+O+S,S),k=Math.max(0,k+T),G=Math.max(0,G+j);else{k=a==="start"?x-Ce-ct:a==="end"?x-ae+rt+W:a==="nearest"?qt(Ce,ae,ne,ct,rt+W,x,x+D,D):x-(Ce+ne/2)+W/2,G=c==="start"?O-le-Pe:c==="center"?O-(le+Ee/2)+F/2:c==="end"?O-re+Se+F:qt(le,re,Ee,Pe,Se+F,O,O+S,S);const{scrollLeft:ie,scrollTop:ue}=Y;k=X===0?0:Math.max(0,Math.min(ue+k/X,Y.scrollHeight-ne/X+W)),G=A===0?0:Math.max(0,Math.min(ie+G/A,Y.scrollWidth-Ee/A+F)),x+=ue-k,O+=ie-G}M.push({el:Y,top:k,left:G})}return M},ao=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function co(t,e){if(!t.isConnected||!(i=>{let s=i;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(t))return;const n=(i=>{const s=window.getComputedStyle(i);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(gr(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:s,left:o}of gr(t,ao(e))){const a=s-n.top+n.bottom,c=o-n.left+n.right;i.scroll({top:a,left:c,behavior:r})}}const lo=38,uo=40,fo=13,ho=14,mo=27,go=9,po=100,wn=({Component:t="textarea",defaultValue:e="",disabled:n=!1,maxOptions:r=6,onBlur:i=()=>{},onChange:s=()=>{},onKeyDown:o=()=>{},onRequestOptions:a=()=>{},onSelect:c=()=>{},changeOnSelect:l=(R,J)=>J.substring(0,1)==R?J:R+J,options:d=[],regex:m="^[A-Za-z0-9\\-_]+$",matchAny:h=!1,minChars:g=0,requestOnlyIfNoOptions:p=!0,spaceRemovers:b=[",",".","!","?"],spacer:E="",trigger:j="@",offsetX:T=0,offsetY:D=0,value:S=null,passThroughEnter:U=!1,passThroughTab:L=!0,triggerMatchWholeWord:V=!1,triggerCaseInsensitive:P=!1,className:I,attributes:B})=>{const[R,J]=w.useState({helperVisible:!1,left:0,trigger:null,matchLength:0,matchStart:0,options:[],selection:0,top:0,caret:0}),x=w.useRef(e),O=w.useRef(!1),M=w.useRef(null),H=w.useRef(null),Y=w.useRef(null);w.useEffect(()=>{const k=()=>J(G=>({...G,helperVisible:!1}));return window.addEventListener("resize",k),window.addEventListener("scroll",k),()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",k)}},[]),w.useEffect(()=>{const{helperVisible:k}=R;k&&H.current&&co(H.current,{boundary:Y.current,scrollMode:"if-needed"})},[R.caret,R.helperVisible]);const ne=(k,G,F)=>{const W=new RegExp(m);let A=[];Array.isArray(j)?A=j:A=[j],A.sort();const X=F;Array.isArray(F)&&A.forEach(Ie=>{X[Ie]=F});const ie=Ee(A,W);let ue=null;for(let Ie=0;Ie<ie.length;Ie++){const{triggerStr:Be,triggerMatch:ht,triggerLength:me}=ie[Ie];for(let ge=G-1;ge>=0;--ge){const lt=k.substring(ge,G).match(W);let it=-1;if(me>0){const mt=ht?ge:ge-me+1;if(mt<0||(Ce(Be,k,mt)&&(it=mt+me),!lt&&it<0))break}else{if(lt&&ge>0)continue;if(it=ge===0&&lt?0:ge+1,G-it===0)break}if(it>=0){const mt=X[Be];if(mt==null)continue;const tr=k.substring(it-1,G),nr=mt.filter(Cs=>{const sr=Cs.toLowerCase().indexOf(tr.toLowerCase());return sr!==-1&&(h||sr===0)}),rr=Be,ir=tr.length;ue===null?ue={trigger:rr,matchStart:it-1,matchLength:ir,options:nr}:ue={...ue,trigger:rr,matchStart:it-1,matchLength:ir,options:nr}}}}return ue},Ee=(k,G)=>k.map(F=>({triggerStr:F,triggerMatch:F.match(G),triggerLength:F.length})),Ce=(k,G,F)=>!k||!k.length?!0:V&&F>0&&G.charAt(F-1).match(/[\w]/)?!1:!!(G.substr(F,k.length)===k||P&&G.substr(F,k.length).toLowerCase()===k.toLowerCase()),re=k=>{Se(),i&&i(k)},ae=k=>{const G=x.current,F=k.target.value,W=io(k.target).end;if(F.length||J(A=>({...A,helperVisible:!1})),x.current=F,J(A=>({...A,caret:W,value:k.target.value})),!F.length||!W)return s(k.target.value);if(O.current&&b.length&&F.length>2&&E.length){for(let A=0;A<Math.max(G.length,F.length);++A)if(G[A]!==F[A]){if(A>=2&&F[A-1]===E&&b.indexOf(F[A-2])===-1&&b.indexOf(F[A])!==-1&&ne(F.substring(0,A-2),W-3,d)){const X=`${F.slice(0,A-1)}${F.slice(A,A+1)}${F.slice(A-1,A)}${F.slice(A+1)}`;return Pe(A+1),M.current&&(M.current.value=X),S||J(ie=>({...ie,value:X})),s(X)}break}O.current=!1}return ct(F,W,d),S||J(A=>({...A,value:k.target.value})),s(k.target.value)},le=k=>{const{helperVisible:G,options:F,selection:W}=R,A=r>0?Math.min(F.length,r):F.length;if(G)switch(k.keyCode){case mo:k.preventDefault(),Se();break;case lo:k.preventDefault(),A>0&&J(X=>({...X,selection:Math.max(0,A+W-1)%A}));break;case uo:k.preventDefault(),A>0&&J(X=>({...X,selection:(W+1)%A}));break;case ho:case fo:U||k.preventDefault(),he(W);break;case go:L||k.preventDefault(),he(W);break;default:o(k);break}else o(k)},he=k=>{const{matchStart:G,matchLength:F,options:W,trigger:A}=R,X=W[k],ie=x.current;if(A){const ue=A.length===0?"":ie.substring(0,G-A.length),Ie=ie.substring(G+F),Be={target:M.current},ht=l(A,X);Be.target&&(Be.target.value=`${ue}${ht}${E}${Ie}`,ae(Be),c(Be.target.value)),Se();const me=ue.length+ht.length+(E?E.length:1);Pe(me),O.current=!0}},Pe=k=>{J(G=>{const F={...G,caret:k};return so(M.current,k),F})},ct=(k,G,F)=>{const W=M.current,A=ne(k,G,F);if(A&&W){const X=ro(W,G),ie=W.getBoundingClientRect(),ue=X.top+ie.top-W.scrollTop,Ie=Math.min(X.left+ie.left-W.scrollLeft,window.innerWidth-po);A.matchLength>=g&&(A.options.length>1||A.options.length===1&&(A.options[0].length!==A.matchLength||A.options[0].length===1))?J({...R,helperVisible:!0,top:ue,left:Ie,...A}):((!p||!A.options.length)&&a(k.substr(A.matchStart,A.matchLength)),Se())}else Se()},Se=()=>{J(k=>({...k,helperVisible:!1,selection:0}))},rt=()=>{const{helperVisible:k,left:G,matchStart:F,matchLength:W,options:A,selection:X,top:ie}=R;if(!k||A.length===0)return null;if(X>=A.length)return J(me=>({...me,selection:0})),null;const ue=r===0?A.length:r,Ie=A.slice(0,ue).map((me,ge)=>{let vt=0;return S&&(vt=me.toLowerCase().indexOf(S.substr(F,W).toLowerCase())),u.jsxs("li",{className:"cursor-pointer px-2 py-1 text-xs"+(ge===X?" bg-neutral-200":""),ref:ge===X?H:null,onClick:()=>{he(ge)},onMouseDown:lt=>{lt.preventDefault()},onMouseEnter:()=>{J(lt=>({...lt,selection:ge}))},children:[me.slice(0,vt),u.jsx("strong",{className:"font-bold",children:me.substr(vt,W)}),me.slice(vt+W)]},me)}),Be=window.innerWidth-G-T-5,ht=window.innerHeight-ie-D-5;return u.jsx("ul",{className:"fixed bottom-auto z-50 block p-px mt-1 overflow-y-scroll text-xs text-left bg-white border border-solid bg-clip-padding border-neutral-100",style:{left:G+T,top:ie+D,maxHeight:ht,maxWidth:Be},ref:Y,children:Ie})};return u.jsxs(u.Fragment,{children:[u.jsx(t,{...B,className:I,disabled:n,onBlur:re,onChange:ae,onKeyDown:le,ref:M,value:S}),rt()]})},bo="modulepreload",yo=function(t){return"/"+t},pr={},wo=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=yo(c),c in pr)return;pr[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":bo,l||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),l)return new Promise((h,g)=>{m.addEventListener("load",h),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Eo=(()=>{const t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return e=>t.call(e)})();function gi(t){return Eo(t)==="Uint8Array"}function So(t){return typeof t=="object"&&t!=null&&Symbol.toStringTag in t&&(t[Symbol.toStringTag]==="ArrayBuffer"||t[Symbol.toStringTag]==="SharedArrayBuffer")}function No(t){return t instanceof RegExp||Object.prototype.toString.call(t)==="[object RegExp]"}function pi(t){return typeof t=="object"&&t!=null&&Symbol.toStringTag in t&&t[Symbol.toStringTag]==="Map"}function xo(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function we(t,e){return JSON.stringify(t,(n,r)=>typeof r=="bigint"?{$numberLong:`${r}`}:pi(r)?Object.fromEntries(r):r)}function To(t){if(t!=null&&typeof t=="object"&&"stylize"in t&&typeof t.stylize=="function")return t.stylize}const zn=6,bi=Symbol.for("@@mdb.bson.version"),Yn=2147483647,Wn=-2147483648,yi=Math.pow(2,63)-1,wi=-Math.pow(2,63),Io=Math.pow(2,53),Ao=-Math.pow(2,53),Ei=4;class v extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(e,n){super(e,n)}static isBSONError(e){return e!=null&&typeof e=="object"&&"bsonError"in e&&e.bsonError===!0&&"name"in e&&"message"in e&&"stack"in e}}class Oo extends v{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${zn}.x.x`)}}class br extends v{get name(){return"BSONRuntimeError"}constructor(e){super(e)}}class ot extends v{get name(){return"BSONOffsetError"}constructor(e,n,r){super(`${e}. offset: ${n}`,r),this.offset=n}}let yr,wr;function Si(t,e,n,r){if(r){yr??=new TextDecoder("utf8",{fatal:!0});try{return yr.decode(t.subarray(e,n))}catch(i){throw new v("Invalid UTF-8 string in BSON document",{cause:i})}}return wr??=new TextDecoder("utf8",{fatal:!1}),wr.decode(t.subarray(e,n))}function Ni(t,e,n){if(t.length===0)return"";const r=n-e;if(r===0)return"";if(r>20)return null;if(r===1&&t[e]<128)return String.fromCharCode(t[e]);if(r===2&&t[e]<128&&t[e+1]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1]);if(r===3&&t[e]<128&&t[e+1]<128&&t[e+2]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1])+String.fromCharCode(t[e+2]);const i=[];for(let s=e;s<n;s++){const o=t[s];if(o>127)return null;i.push(o)}return String.fromCharCode(...i)}function vo(t,e,n){if(e.length===0)return 0;if(e.length>25||t.length-n<e.length)return null;for(let r=0,i=n;r<e.length;r++,i++){const s=e.charCodeAt(r);if(s>127)return null;t[i]=s}return e.length}function Co(t){return _e.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}const Bo=await(async()=>{try{return(await wo(async()=>{const{randomBytes:t}=await import("./logout-D0ECua74.js").then(e=>e._);return{randomBytes:t}},[])).randomBytes}catch{return Co}})(),_e={toLocalBufferType(t){if(Buffer.isBuffer(t))return t;if(ArrayBuffer.isView(t))return Buffer.from(t.buffer,t.byteOffset,t.byteLength);const e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return Buffer.from(t);throw new v("Cannot create Buffer from the passed potentialBuffer.")},allocate(t){return Buffer.alloc(t)},allocateUnsafe(t){return Buffer.allocUnsafe(t)},equals(t,e){return _e.toLocalBufferType(t).equals(e)},fromNumberArray(t){return Buffer.from(t)},fromBase64(t){return Buffer.from(t,"base64")},toBase64(t){return _e.toLocalBufferType(t).toString("base64")},fromISO88591(t){return Buffer.from(t,"binary")},toISO88591(t){return _e.toLocalBufferType(t).toString("binary")},fromHex(t){return Buffer.from(t,"hex")},toHex(t){return _e.toLocalBufferType(t).toString("hex")},toUTF8(t,e,n,r){const i=n-e<=20?Ni(t,e,n):null;if(i!=null)return i;const s=_e.toLocalBufferType(t).toString("utf8",e,n);if(r){for(let o=0;o<s.length;o++)if(s.charCodeAt(o)===65533){Si(t,e,n,!0);break}}return s},utf8ByteLength(t){return Buffer.byteLength(t,"utf8")},encodeUTF8Into(t,e,n){const r=vo(t,e,n);return r??_e.toLocalBufferType(t).write(e,n,void 0,"utf8")},randomBytes:Bo,swap32(t){return _e.toLocalBufferType(t).swap32()}};function Uo(){const{navigator:t}=globalThis;return typeof t=="object"&&t.product==="ReactNative"}function jo(t){if(t<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${t}`);return $t.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}const Po=(()=>{const{crypto:t}=globalThis;if(t!=null&&typeof t.getRandomValues=="function")return e=>t.getRandomValues($t.allocate(e));if(Uo()){const{console:e}=globalThis;e?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return jo})(),Er=/(\d|[a-f])/i,$t={toLocalBufferType(t){const e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="Uint8Array")return t;if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return new Uint8Array(t);throw new v("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(t){if(typeof t!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(t)}`);return new Uint8Array(t)},allocateUnsafe(t){return $t.allocate(t)},equals(t,e){if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},fromNumberArray(t){return Uint8Array.from(t)},fromBase64(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))},toBase64(t){return btoa($t.toISO88591(t))},fromISO88591(t){return Uint8Array.from(t,e=>e.charCodeAt(0)&255)},toISO88591(t){return Array.from(Uint16Array.from(t),e=>String.fromCharCode(e)).join("")},fromHex(t){const e=t.length%2===0?t:t.slice(0,t.length-1),n=[];for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(!Er.test(i)||!Er.test(s))break;const o=Number.parseInt(`${i}${s}`,16);n.push(o)}return Uint8Array.from(n)},toHex(t){return Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")},toUTF8(t,e,n,r){const i=n-e<=20?Ni(t,e,n):null;return i??Si(t,e,n,r)},utf8ByteLength(t){return new TextEncoder().encode(t).byteLength},encodeUTF8Into(t,e,n){const r=new TextEncoder().encode(e);return t.set(r,n),r.byteLength},randomBytes:Po,swap32(t){if(t.length%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t.length;e+=4){const n=t[e],r=t[e+1],i=t[e+2],s=t[e+3];t[e]=s,t[e+1]=i,t[e+2]=r,t[e+3]=n}return t}},Ro=typeof Buffer=="function"&&Buffer.prototype?._isBuffer!==!0,_=Ro?_e:$t;class Te{get[bi](){return zn}[Symbol.for("nodejs.util.inspect.custom")](e,n,r){return this.inspect(e,n,r)}}const yt=new Float64Array(1),z=new Uint8Array(yt.buffer,0,8);yt[0]=-1;const En=z[7]===0,nt={isBigEndian:En,getNonnegativeInt32LE(t,e){if(t[e+3]>127)throw new RangeError(`Size cannot be negative at offset: ${e}`);return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getInt32LE(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getUint32LE(t,e){return t[e]+t[e+1]*256+t[e+2]*65536+t[e+3]*16777216},getUint32BE(t,e){return t[e+3]+t[e+2]*256+t[e+1]*65536+t[e]*16777216},getBigInt64LE(t,e){const n=nt.getUint32LE(t,e),r=nt.getUint32LE(t,e+4);return(BigInt(r)<<BigInt(32))+BigInt(n)},getFloat64LE:En?(t,e)=>(z[7]=t[e],z[6]=t[e+1],z[5]=t[e+2],z[4]=t[e+3],z[3]=t[e+4],z[2]=t[e+5],z[1]=t[e+6],z[0]=t[e+7],yt[0]):(t,e)=>(z[0]=t[e],z[1]=t[e+1],z[2]=t[e+2],z[3]=t[e+3],z[4]=t[e+4],z[5]=t[e+5],z[6]=t[e+6],z[7]=t[e+7],yt[0]),setInt32BE(t,e,n){return t[e+3]=n,n>>>=8,t[e+2]=n,n>>>=8,t[e+1]=n,n>>>=8,t[e]=n,4},setInt32LE(t,e,n){return t[e]=n,n>>>=8,t[e+1]=n,n>>>=8,t[e+2]=n,n>>>=8,t[e+3]=n,4},setBigInt64LE(t,e,n){const r=BigInt(4294967295);let i=Number(n&r);t[e]=i,i>>=8,t[e+1]=i,i>>=8,t[e+2]=i,i>>=8,t[e+3]=i;let s=Number(n>>BigInt(32)&r);return t[e+4]=s,s>>=8,t[e+5]=s,s>>=8,t[e+6]=s,s>>=8,t[e+7]=s,8},setFloat64LE:En?(t,e,n)=>(yt[0]=n,t[e]=z[7],t[e+1]=z[6],t[e+2]=z[5],t[e+3]=z[4],t[e+4]=z[3],t[e+5]=z[2],t[e+6]=z[1],t[e+7]=z[0],8):(t,e,n)=>(yt[0]=n,t[e]=z[0],t[e+1]=z[1],t[e+2]=z[2],t[e+3]=z[3],t[e+4]=z[4],t[e+5]=z[5],t[e+6]=z[6],t[e+7]=z[7],8)};class $ extends Te{get _bsontype(){return"Binary"}constructor(e,n){if(super(),e!=null&&typeof e=="string"&&!ArrayBuffer.isView(e)&&!So(e)&&!Array.isArray(e))throw new v("Binary can only be constructed from Uint8Array or number[]");this.sub_type=n??$.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=_.allocate($.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(e)?_.fromNumberArray(e):_.toLocalBufferType(e),this.position=this.buffer.byteLength)}put(e){if(typeof e=="string"&&e.length!==1)throw new v("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new v("only accepts single character Uint8Array or Array");let n;if(typeof e=="string"?n=e.charCodeAt(0):typeof e=="number"?n=e:n=e[0],n<0||n>255)throw new v("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=n;else{const r=_.allocate($.BUFFER_SIZE+this.buffer.length);r.set(this.buffer,0),this.buffer=r,this.buffer[this.position++]=n}}write(e,n){if(n=typeof n=="number"?n:this.position,this.buffer.byteLength<n+e.length){const r=_.allocate(this.buffer.byteLength+e.length);r.set(this.buffer,0),this.buffer=r}if(ArrayBuffer.isView(e))this.buffer.set(_.toLocalBufferType(e),n),this.position=n+e.byteLength>this.position?n+e.length:this.position;else if(typeof e=="string")throw new v("input cannot be string")}read(e,n){n=n&&n>0?n:this.position;const r=e+n;return this.buffer.subarray(e,r>this.position?this.position:r)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return _.toBase64(this.buffer.subarray(0,this.position))}toString(e){return e==="hex"?_.toHex(this.buffer.subarray(0,this.position)):e==="base64"?_.toBase64(this.buffer.subarray(0,this.position)):e==="utf8"||e==="utf-8"?_.toUTF8(this.buffer,0,this.position,!1):_.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(e){e=e||{},this.sub_type===$.SUBTYPE_VECTOR&&ko(this);const n=_.toBase64(this.buffer),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:n,$type:r.length===1?"0"+r:r}:{$binary:{base64:n,subType:r.length===1?"0"+r:r}}}toUUID(){if(this.sub_type===$.SUBTYPE_UUID)return new fe(this.buffer.subarray(0,this.position));throw new v(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${$.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(e,n){return new $(_.fromHex(e),n)}static createFromBase64(e,n){return new $(_.fromBase64(e),n)}static fromExtendedJSON(e,n){n=n||{};let r,i;if("$binary"in e?n.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,r=_.fromBase64(e.$binary)):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,r=_.fromBase64(e.$binary.base64)):"$uuid"in e&&(i=4,r=fe.bytesFromString(e.$uuid)),!r)throw new v(`Unexpected Binary Extended JSON format ${JSON.stringify(e)}`);return i===Ei?new fe(r):new $(r,i)}inspect(e,n,r){r??=we;const i=_.toBase64(this.buffer.subarray(0,this.position)),s=r(i,n),o=r(this.sub_type,n);return`Binary.createFromBase64(${s}, ${o})`}toInt8Array(){if(this.sub_type!==$.SUBTYPE_VECTOR)throw new v("Binary sub_type is not Vector");if(this.buffer[0]!==$.VECTOR_TYPE.Int8)throw new v("Binary datatype field is not Int8");return new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==$.SUBTYPE_VECTOR)throw new v("Binary sub_type is not Vector");if(this.buffer[0]!==$.VECTOR_TYPE.Float32)throw new v("Binary datatype field is not Float32");const e=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return nt.isBigEndian&&_.swap32(e),new Float32Array(e.buffer)}toPackedBits(){if(this.sub_type!==$.SUBTYPE_VECTOR)throw new v("Binary sub_type is not Vector");if(this.buffer[0]!==$.VECTOR_TYPE.PackedBit)throw new v("Binary datatype field is not packed bit");return new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==$.SUBTYPE_VECTOR)throw new v("Binary sub_type is not Vector");if(this.buffer[0]!==$.VECTOR_TYPE.PackedBit)throw new v("Binary datatype field is not packed bit");const n=(this.length()-2)*8-this.buffer[1],r=new Int8Array(n);for(let i=0;i<r.length;i++){const s=i/8|0,o=this.buffer[s+2],a=7-i%8,c=o>>a&1;r[i]=c}return r}static fromInt8Array(e){const n=_.allocate(e.byteLength+2);n[0]=$.VECTOR_TYPE.Int8,n[1]=0;const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return n.set(r,2),new this(n,this.SUBTYPE_VECTOR)}static fromFloat32Array(e){const n=_.allocate(e.byteLength+2);n[0]=$.VECTOR_TYPE.Float32,n[1]=0;const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return n.set(r,2),nt.isBigEndian&&_.swap32(new Uint8Array(n.buffer,2)),new this(n,this.SUBTYPE_VECTOR)}static fromPackedBits(e,n=0){const r=_.allocate(e.byteLength+2);return r[0]=$.VECTOR_TYPE.PackedBit,r[1]=n,r.set(e,2),new this(r,this.SUBTYPE_VECTOR)}static fromBits(e){const n=e.length+7>>>3,r=new Uint8Array(n+2);r[0]=$.VECTOR_TYPE.PackedBit;const i=e.length%8;r[1]=i===0?0:8-i;for(let s=0;s<e.length;s++){const o=s>>>3,a=e[s];if(a!==0&&a!==1)throw new v(`Invalid bit value at ${s}: must be 0 or 1, found ${e[s]}`);if(a===0)continue;const c=7-s%8;r[o+2]|=a<<c}return new this(r,$.SUBTYPE_VECTOR)}}$.BSON_BINARY_SUBTYPE_DEFAULT=0;$.BUFFER_SIZE=256;$.SUBTYPE_DEFAULT=0;$.SUBTYPE_FUNCTION=1;$.SUBTYPE_BYTE_ARRAY=2;$.SUBTYPE_UUID_OLD=3;$.SUBTYPE_UUID=4;$.SUBTYPE_MD5=5;$.SUBTYPE_ENCRYPTED=6;$.SUBTYPE_COLUMN=7;$.SUBTYPE_SENSITIVE=8;$.SUBTYPE_VECTOR=9;$.SUBTYPE_USER_DEFINED=128;$.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});function ko(t){if(t.sub_type!==$.SUBTYPE_VECTOR)return;const e=t.position,n=t.buffer[0],r=t.buffer[1];if((n===$.VECTOR_TYPE.Float32||n===$.VECTOR_TYPE.Int8)&&r!==0)throw new v("Invalid Vector: padding must be zero for int8 and float32 vectors");if(n===$.VECTOR_TYPE.PackedBit&&r!==0&&e===2)throw new v("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(n===$.VECTOR_TYPE.PackedBit&&r>7)throw new v(`Invalid Vector: padding must be a value between 0 and 7. found: ${r}`)}const Sn=16,_o=/^[0-9A-F]{32}$/i,Lo=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class fe extends ${constructor(e){let n;if(e==null)n=fe.generate();else if(e instanceof fe)n=_.toLocalBufferType(new Uint8Array(e.buffer));else if(ArrayBuffer.isView(e)&&e.byteLength===Sn)n=_.toLocalBufferType(e);else if(typeof e=="string")n=fe.bytesFromString(e);else throw new v("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(n,Ei)}get id(){return this.buffer}set id(e){this.buffer=e}toHexString(e=!0){return e?[_.toHex(this.buffer.subarray(0,4)),_.toHex(this.buffer.subarray(4,6)),_.toHex(this.buffer.subarray(6,8)),_.toHex(this.buffer.subarray(8,10)),_.toHex(this.buffer.subarray(10,16))].join("-"):_.toHex(this.buffer)}toString(e){return e==="hex"?_.toHex(this.id):e==="base64"?_.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(!e)return!1;if(e instanceof fe)return _.equals(e.id,this.id);try{return _.equals(new fe(e).id,this.id)}catch{return!1}}toBinary(){return new $(this.id,$.SUBTYPE_UUID)}static generate(){const e=_.randomBytes(Sn);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e}static isValid(e){return e?typeof e=="string"?fe.isValidUUIDString(e):gi(e)?e.byteLength===Sn:e._bsontype==="Binary"&&e.sub_type===this.SUBTYPE_UUID&&e.buffer.byteLength===16:!1}static createFromHexString(e){const n=fe.bytesFromString(e);return new fe(n)}static createFromBase64(e){return new fe(_.fromBase64(e))}static bytesFromString(e){if(!fe.isValidUUIDString(e))throw new v("UUID string representation must be 32 hex digits or canonical hyphenated representation");return _.fromHex(e.replace(/-/g,""))}static isValidUUIDString(e){return _o.test(e)||Lo.test(e)}inspect(e,n,r){return r??=we,`new UUID(${r(this.toHexString(),n)})`}}let qn=class xi extends Te{get _bsontype(){return"Code"}constructor(e,n){super(),this.code=e.toString(),this.scope=n??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new xi(e.$code,e.$scope)}inspect(e,n,r){r??=we;let i=r(this.code,n);const s=i.includes(`
`);this.scope!=null&&(i+=`,${s?`
`:" "}${r(this.scope,n)}`);const o=s&&this.scope===null;return`new Code(${s?`
`:""}${i}${o?`
`:""})`}};function Do(t){return t!=null&&typeof t=="object"&&"$id"in t&&t.$id!=null&&"$ref"in t&&typeof t.$ref=="string"&&(!("$db"in t)||"$db"in t&&typeof t.$db=="string")}class Nt extends Te{get _bsontype(){return"DBRef"}constructor(e,n,r,i){super();const s=e.split(".");s.length===2&&(r=s.shift(),e=s.shift()),this.collection=e,this.oid=n,this.db=r,this.fields=i||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){const e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let n={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(n.$db=this.db),n=Object.assign(n,this.fields)),n}static fromExtendedJSON(e){const n=Object.assign({},e);return delete n.$ref,delete n.$id,delete n.$db,new Nt(e.$ref,e.$id,e.$db,n)}inspect(e,n,r){r??=we;const i=[r(this.namespace,n),r(this.oid,n),...this.db?[r(this.db,n)]:[],...Object.keys(this.fields).length>0?[r(this.fields,n)]:[]];return i[1]=r===we?`new ObjectId(${i[1]})`:i[1],`new DBRef(${i.join(", ")})`}}function Ti(t){if(t==="")return t;let e=0;const n=t[e]==="-",r=t[e]==="+";(r||n)&&(e+=1);let i=!1;for(;e<t.length&&t[e]==="0";++e)i=!0;return i?`${n?"-":""}${t.length===e?"0":t.slice(e)}`:r?t.slice(1):t}function $o(t,e){e=e??10;const n="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,e);return new RegExp(`[^-+${n}]`,"i").test(t)?!1:t}let Ne;try{Ne=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const Sr=65536,Mo=1<<24,wt=Sr*Sr,Ii=wt*wt,Nr=Ii/2,xr={},Tr={},Fo=20,Vo=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class f extends Te{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(e=0,n,r){super();const i=typeof n=="boolean"?n:!!r,s=typeof n=="number"?n:0,o=typeof e=="string"?f.fromString(e,i):typeof e=="bigint"?f.fromBigInt(e,i):{low:e|0,high:s|0,unsigned:i};this.low=o.low,this.high=o.high,this.unsigned=o.unsigned}static fromBits(e,n,r){return new f(e,n,r)}static fromInt(e,n){let r,i,s;return n?(e>>>=0,(s=0<=e&&e<256)&&(i=Tr[e],i)?i:(r=f.fromBits(e,(e|0)<0?-1:0,!0),s&&(Tr[e]=r),r)):(e|=0,(s=-128<=e&&e<128)&&(i=xr[e],i)?i:(r=f.fromBits(e,e<0?-1:0,!1),s&&(xr[e]=r),r))}static fromNumber(e,n){if(isNaN(e))return n?f.UZERO:f.ZERO;if(n){if(e<0)return f.UZERO;if(e>=Ii)return f.MAX_UNSIGNED_VALUE}else{if(e<=-Nr)return f.MIN_VALUE;if(e+1>=Nr)return f.MAX_VALUE}return e<0?f.fromNumber(-e,n).neg():f.fromBits(e%wt|0,e/wt|0,n)}static fromBigInt(e,n){const r=BigInt(4294967295),i=BigInt(32);return new f(Number(e&r),Number(e>>i&r),n)}static _fromString(e,n,r){if(e.length===0)throw new v("empty string");if(r<2||36<r)throw new v("radix");let i;if((i=e.indexOf("-"))>0)throw new v("interior hyphen");if(i===0)return f._fromString(e.substring(1),n,r).neg();const s=f.fromNumber(Math.pow(r,8));let o=f.ZERO;for(let a=0;a<e.length;a+=8){const c=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+c),r);if(c<8){const d=f.fromNumber(Math.pow(r,c));o=o.mul(d).add(f.fromNumber(l))}else o=o.mul(s),o=o.add(f.fromNumber(l))}return o.unsigned=n,o}static fromStringStrict(e,n,r){let i=!1;if(typeof n=="number"?(r=n,n=!1):i=!!n,r??=10,e.trim()!==e)throw new v(`Input: '${e}' contains leading and/or trailing whitespace`);if(!$o(e,r))throw new v(`Input: '${e}' contains invalid characters for radix: ${r}`);const s=Ti(e),o=f._fromString(s,i,r);if(o.toString(r).toLowerCase()!==s.toLowerCase())throw new v(`Input: ${e} is not representable as ${o.unsigned?"an unsigned":"a signed"} 64-bit Long ${r!=null?`with radix: ${r}`:""}`);return o}static fromString(e,n,r){let i=!1;return typeof n=="number"?(r=n,n=!1):i=!!n,r??=10,e==="NaN"&&r<24||(e==="Infinity"||e==="+Infinity"||e==="-Infinity")&&r<35?f.ZERO:f._fromString(e,i,r)}static fromBytes(e,n,r){return r?f.fromBytesLE(e,n):f.fromBytesBE(e,n)}static fromBytesLE(e,n){return new f(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}static fromBytesBE(e,n){return new f(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}static isLong(e){return e!=null&&typeof e=="object"&&"__isLong__"in e&&e.__isLong__===!0}static fromValue(e,n){return typeof e=="number"?f.fromNumber(e,n):typeof e=="string"?f.fromString(e,n):f.fromBits(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}add(e){f.isLong(e)||(e=f.fromValue(e));const n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,c=e.low>>>16,l=e.low&65535;let d=0,m=0,h=0,g=0;return g+=s+l,h+=g>>>16,g&=65535,h+=i+c,m+=h>>>16,h&=65535,m+=r+a,d+=m>>>16,m&=65535,d+=n+o,d&=65535,f.fromBits(h<<16|g,d<<16|m,this.unsigned)}and(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(f.isLong(e)||(e=f.fromValue(e)),this.eq(e))return 0;const n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){if(f.isLong(e)||(e=f.fromValue(e)),e.isZero())throw new v("division by zero");if(Ne){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;const s=(this.unsigned?Ne.div_u:Ne.div_s)(this.low,this.high,e.low,e.high);return f.fromBits(s,Ne.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?f.UZERO:f.ZERO;let n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return f.UZERO;if(e.gt(this.shru(1)))return f.UONE;i=f.UZERO}else{if(this.eq(f.MIN_VALUE))return e.eq(f.ONE)||e.eq(f.NEG_ONE)?f.MIN_VALUE:e.eq(f.MIN_VALUE)?f.ONE:(n=this.shr(1).div(e).shl(1),n.eq(f.ZERO)?e.isNegative()?f.ONE:f.NEG_ONE:(r=this.sub(e.mul(n)),i=n.add(r.div(e)),i));if(e.eq(f.MIN_VALUE))return this.unsigned?f.UZERO:f.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=f.ZERO}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));const s=Math.ceil(Math.log(n)/Math.LN2),o=s<=48?1:Math.pow(2,s-48);let a=f.fromNumber(n),c=a.mul(e);for(;c.isNegative()||c.gt(r);)n-=o,a=f.fromNumber(n,this.unsigned),c=a.mul(e);a.isZero()&&(a=f.ONE),i=i.add(a),r=r.sub(c)}return i}div(e){return this.divide(e)}equals(e){return f.isLong(e)||(e=f.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(f.MIN_VALUE)?64:this.neg().getNumBitsAbs();const e=this.high!==0?this.high:this.low;let n;for(n=31;n>0&&!(e&1<<n);n--);return this.high!==0?n+33:n+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(e){return this.comp(e)<0}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return this.comp(e)<=0}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(f.isLong(e)||(e=f.fromValue(e)),Ne){const n=(this.unsigned?Ne.rem_u:Ne.rem_s)(this.low,this.high,e.low,e.high);return f.fromBits(n,Ne.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return f.ZERO;if(f.isLong(e)||(e=f.fromValue(e)),Ne){const p=Ne.mul(this.low,this.high,e.low,e.high);return f.fromBits(p,Ne.get_high(),this.unsigned)}if(e.isZero())return f.ZERO;if(this.eq(f.MIN_VALUE))return e.isOdd()?f.MIN_VALUE:f.ZERO;if(e.eq(f.MIN_VALUE))return this.isOdd()?f.MIN_VALUE:f.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f.TWO_PWR_24)&&e.lt(f.TWO_PWR_24))return f.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);const n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,c=e.low>>>16,l=e.low&65535;let d=0,m=0,h=0,g=0;return g+=s*l,h+=g>>>16,g&=65535,h+=i*l,m+=h>>>16,h&=65535,h+=s*c,m+=h>>>16,h&=65535,m+=r*l,d+=m>>>16,m&=65535,m+=i*c,d+=m>>>16,m&=65535,m+=s*a,d+=m>>>16,m&=65535,d+=n*l+r*c+i*a+s*o,d&=65535,f.fromBits(h<<16|g,d<<16|m,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(f.MIN_VALUE)?f.MIN_VALUE:this.not().add(f.ONE)}neg(){return this.negate()}not(){return f.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return f.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?f.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):f.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return f.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?f.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):f.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(f.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;{const n=this.high;if(e<32){const r=this.low;return f.fromBits(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?f.fromBits(n,0,this.unsigned):f.fromBits(n>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return f.isLong(e)||(e=f.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*wt+(this.low>>>0):this.high*wt+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){const e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){const e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]}toSigned(){return this.unsigned?f.fromBits(this.low,this.high,!1):this}toString(e){if(e=e||10,e<2||36<e)throw new v("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(f.MIN_VALUE)){const s=f.fromNumber(e),o=this.div(s),a=o.mul(s).sub(this);return o.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);const n=f.fromNumber(Math.pow(e,6),this.unsigned);let r=this,i="";for(;;){const s=r.div(n);let a=(r.sub(s.mul(n)).toInt()>>>0).toString(e);if(r=s,r.isZero())return a+i;for(;a.length<6;)a="0"+a;i=""+a+i}}toUnsigned(){return this.unsigned?this:f.fromBits(this.low,this.high,!0)}xor(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,n){const{useBigInt64:r=!1,relaxed:i=!0}={...n};if(e.$numberLong.length>Fo)throw new v("$numberLong string is too long");if(!Vo.test(e.$numberLong))throw new v(`$numberLong string "${e.$numberLong}" is in an invalid format`);if(r){const o=BigInt(e.$numberLong);return BigInt.asIntN(64,o)}const s=f.fromString(e.$numberLong);return i?s.toNumber():s}inspect(e,n,r){r??=we;const i=r(this.toString(),n),s=this.unsigned?`, ${r(this.unsigned,n)}`:"";return`new Long(${i}${s})`}}f.TWO_PWR_24=f.fromInt(Mo);f.MAX_UNSIGNED_VALUE=f.fromBits(-1,-1,!0);f.ZERO=f.fromInt(0);f.UZERO=f.fromInt(0,!0);f.ONE=f.fromInt(1);f.UONE=f.fromInt(1,!0);f.NEG_ONE=f.fromInt(-1);f.MAX_VALUE=f.fromBits(-1,2147483647,!1);f.MIN_VALUE=f.fromBits(0,-2147483648,!1);const Jo=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Go=/^(\+|-)?(Infinity|inf)$/i,Ho=/^(\+|-)?NaN$/i,gt=6111,Ct=-6176,Ir=6176,Ar=34,Nn=_.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Or=_.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),vr=_.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),zo=/^([-+])?(\d+)?$/,Yo=31,Cr=16383,Wo=30,qo=31;function Br(t){return!isNaN(parseInt(t,10))}function Xo(t){const e=f.fromNumber(1e9);let n=f.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:n};for(let r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new f(t.parts[r],0)),t.parts[r]=n.div(e).low,n=n.modulo(e);return{quotient:t,rem:n}}function Ko(t,e){if(!t&&!e)return{high:f.fromNumber(0),low:f.fromNumber(0)};const n=t.shiftRightUnsigned(32),r=new f(t.getLowBits(),0),i=e.shiftRightUnsigned(32),s=new f(e.getLowBits(),0);let o=n.multiply(i),a=n.multiply(s);const c=r.multiply(i);let l=r.multiply(s);return o=o.add(a.shiftRightUnsigned(32)),a=new f(a.getLowBits(),0).add(c).add(l.shiftRightUnsigned(32)),o=o.add(a.shiftRightUnsigned(32)),l=a.shiftLeft(32).add(new f(l.getLowBits(),0)),{high:o,low:l}}function Zo(t,e){const n=t.high>>>0,r=e.high>>>0;if(n<r)return!0;if(n===r){const i=t.low>>>0,s=e.low>>>0;if(i<s)return!0}return!1}function Ae(t,e){throw new v(`"${t}" is not a valid Decimal128 string - ${e}`)}class be extends Te{get _bsontype(){return"Decimal128"}constructor(e){if(super(),typeof e=="string")this.bytes=be.fromString(e).bytes;else if(e instanceof Uint8Array||gi(e)){if(e.byteLength!==16)throw new v("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new v("Decimal128 must take a Buffer or string")}static fromString(e){return be._fromString(e,{allowRounding:!1})}static fromStringWithRounding(e){return be._fromString(e,{allowRounding:!0})}static _fromString(e,n){let r=!1,i=!1,s=!1,o=!1,a=0,c=0,l=0,d=0,m=0;const h=[0];let g=0,p=0,b=0,E=0,j=new f(0,0),T=new f(0,0),D=0,S=0;if(e.length>=7e3)throw new v(""+e+" not a valid Decimal128 string");const U=e.match(Jo),L=e.match(Go),V=e.match(Ho);if(!U&&!L&&!V||e.length===0)throw new v(""+e+" not a valid Decimal128 string");if(U){const R=U[2],J=U[4],x=U[5],O=U[6];J&&O===void 0&&Ae(e,"missing exponent power"),J&&R===void 0&&Ae(e,"missing exponent base"),J===void 0&&(x||O)&&Ae(e,"missing e before exponent")}if((e[S]==="+"||e[S]==="-")&&(i=!0,r=e[S++]==="-"),!Br(e[S])&&e[S]!=="."){if(e[S]==="i"||e[S]==="I")return new be(r?Or:vr);if(e[S]==="N")return new be(Nn)}for(;Br(e[S])||e[S]===".";){if(e[S]==="."){s&&Ae(e,"contains multiple periods"),s=!0,S=S+1;continue}g<Ar&&(e[S]!=="0"||o)&&(o||(m=c),o=!0,h[p++]=parseInt(e[S],10),g=g+1),o&&(l=l+1),s&&(d=d+1),c=c+1,S=S+1}if(s&&!c)throw new v(""+e+" not a valid Decimal128 string");if(e[S]==="e"||e[S]==="E"){const R=e.substr(++S).match(zo);if(!R||!R[2])return new be(Nn);E=parseInt(R[0],10),S=S+R[0].length}if(e[S])return new be(Nn);if(!g)h[0]=0,l=1,g=1,a=0;else if(b=g-1,a=l,a!==1)for(;e[m+a-1+Number(i)+Number(s)]==="0";)a=a-1;for(E<=d&&d>E+16384?E=Ct:E=E-d;E>gt;){if(b=b+1,b>=Ar){if(a===0){E=gt;break}Ae(e,"overflow")}E=E-1}if(n.allowRounding){for(;E<Ct||g<l;){if(b===0&&a<g){E=Ct,a=0;break}if(g<l?l=l-1:b=b-1,E<gt)E=E+1;else{if(h.join("").match(/^0+$/)){E=gt;break}Ae(e,"overflow")}}if(b+1<a){let R=c;s&&(m=m+1,R=R+1),i&&(m=m+1,R=R+1);const J=parseInt(e[m+b+1],10);let x=0;if(J>=5&&(x=1,J===5)){x=h[b]%2===1?1:0;for(let O=m+b+2;O<R;O++)if(parseInt(e[O],10)){x=1;break}}if(x){let O=b;for(;O>=0&&++h[O]>9;O--)if(h[O]=0,O===0)if(E<gt)E=E+1,h[O]=1;else return new be(r?Or:vr)}}}else{for(;E<Ct||g<l;){if(b===0){if(a===0){E=Ct;break}Ae(e,"exponent underflow")}g<l?(e[l-1+Number(i)+Number(s)]!=="0"&&a!==0&&Ae(e,"inexact rounding"),l=l-1):(h[b]!==0&&Ae(e,"inexact rounding"),b=b-1),E<gt?E=E+1:Ae(e,"overflow")}b+1<a&&(s&&(m=m+1),i&&(m=m+1),parseInt(e[m+b+1],10)!==0&&Ae(e,"inexact rounding"))}if(j=f.fromNumber(0),T=f.fromNumber(0),a===0)j=f.fromNumber(0),T=f.fromNumber(0);else if(b<17){let R=0;for(T=f.fromNumber(h[R++]),j=new f(0,0);R<=b;R++)T=T.multiply(f.fromNumber(10)),T=T.add(f.fromNumber(h[R]))}else{let R=0;for(j=f.fromNumber(h[R++]);R<=b-17;R++)j=j.multiply(f.fromNumber(10)),j=j.add(f.fromNumber(h[R]));for(T=f.fromNumber(h[R++]);R<=b;R++)T=T.multiply(f.fromNumber(10)),T=T.add(f.fromNumber(h[R]))}const P=Ko(j,f.fromString("100000000000000000"));P.low=P.low.add(T),Zo(P.low,T)&&(P.high=P.high.add(f.fromNumber(1))),D=E+Ir;const I={low:f.fromNumber(0),high:f.fromNumber(0)};P.high.shiftRightUnsigned(49).and(f.fromNumber(1)).equals(f.fromNumber(1))?(I.high=I.high.or(f.fromNumber(3).shiftLeft(61)),I.high=I.high.or(f.fromNumber(D).and(f.fromNumber(16383).shiftLeft(47))),I.high=I.high.or(P.high.and(f.fromNumber(0x7fffffffffff)))):(I.high=I.high.or(f.fromNumber(D&16383).shiftLeft(49)),I.high=I.high.or(P.high.and(f.fromNumber(562949953421311)))),I.low=P.low,r&&(I.high=I.high.or(f.fromString("9223372036854775808")));const B=_.allocateUnsafe(16);return S=0,B[S++]=I.low.low&255,B[S++]=I.low.low>>8&255,B[S++]=I.low.low>>16&255,B[S++]=I.low.low>>24&255,B[S++]=I.low.high&255,B[S++]=I.low.high>>8&255,B[S++]=I.low.high>>16&255,B[S++]=I.low.high>>24&255,B[S++]=I.high.low&255,B[S++]=I.high.low>>8&255,B[S++]=I.high.low>>16&255,B[S++]=I.high.low>>24&255,B[S++]=I.high.high&255,B[S++]=I.high.high>>8&255,B[S++]=I.high.high>>16&255,B[S++]=I.high.high>>24&255,new be(B)}toString(){let e,n=0;const r=new Array(36);for(let S=0;S<r.length;S++)r[S]=0;let i=0,s=!1,o,a={parts:[0,0,0,0]},c,l;const d=[];i=0;const m=this.bytes,h=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24,g=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24,p=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24,b=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24;i=0,{low:new f(h,g),high:new f(p,b)}.high.lessThan(f.ZERO)&&d.push("-");const j=b>>26&Yo;if(j>>3===3){if(j===Wo)return d.join("")+"Infinity";if(j===qo)return"NaN";e=b>>15&Cr,o=8+(b>>14&1)}else o=b>>14&7,e=b>>17&Cr;const T=e-Ir;if(a.parts[0]=(b&16383)+((o&15)<<14),a.parts[1]=p,a.parts[2]=g,a.parts[3]=h,a.parts[0]===0&&a.parts[1]===0&&a.parts[2]===0&&a.parts[3]===0)s=!0;else for(l=3;l>=0;l--){let S=0;const U=Xo(a);if(a=U.quotient,S=U.rem.low,!!S)for(c=8;c>=0;c--)r[l*9+c]=S%10,S=Math.floor(S/10)}if(s)n=1,r[i]=0;else for(n=36;!r[i];)n=n-1,i=i+1;const D=n-1+T;if(D>=34||D<=-7||T>0){if(n>34)return d.push("0"),T>0?d.push(`E+${T}`):T<0&&d.push(`E${T}`),d.join("");d.push(`${r[i++]}`),n=n-1,n&&d.push(".");for(let S=0;S<n;S++)d.push(`${r[i++]}`);d.push("E"),D>0?d.push(`+${D}`):d.push(`${D}`)}else if(T>=0)for(let S=0;S<n;S++)d.push(`${r[i++]}`);else{let S=n+T;if(S>0)for(let U=0;U<S;U++)d.push(`${r[i++]}`);else d.push("0");for(d.push(".");S++<0;)d.push("0");for(let U=0;U<n-Math.max(S-1,0);U++)d.push(`${r[i++]}`)}return d.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return be.fromString(e.$numberDecimal)}inspect(e,n,r){return r??=we,`new Decimal128(${r(this.toString(),n)})`}}class De extends Te{get _bsontype(){return"Double"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e}static fromString(e){const n=Number(e);if(e==="NaN")return new De(NaN);if(e==="Infinity")return new De(1/0);if(e==="-Infinity")return new De(-1/0);if(!Number.isFinite(n))throw new v(`Input: ${e} is not representable as a Double`);if(e.trim()!==e)throw new v(`Input: '${e}' contains whitespace`);if(e==="")throw new v("Input is an empty string");if(/[^-0-9.+eE]/.test(e))throw new v(`Input: '${e}' is not in decimal or exponential notation`);return new De(n)}valueOf(){return this.value}toJSON(){return this.value}toString(e){return this.value.toString(e)}toExtendedJSON(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(e,n){const r=parseFloat(e.$numberDouble);return n&&n.relaxed?r:new De(r)}inspect(e,n,r){return r??=we,`new Double(${r(this.value,n)})`}}class xt extends Te{get _bsontype(){return"Int32"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e|0}static fromString(e){const n=Ti(e),r=Number(e);if(Yn<r)throw new v(`Input: '${e}' is larger than the maximum value for Int32`);if(Wn>r)throw new v(`Input: '${e}' is smaller than the minimum value for Int32`);if(Number.isSafeInteger(r)){if(r.toString()!==n)throw new v(`Input: '${e}' is not a valid Int32 string`)}else throw new v(`Input: '${e}' is not a safe integer`);return new xt(r)}valueOf(){return this.value}toString(e){return this.value.toString(e)}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,n){return n&&n.relaxed?parseInt(e.$numberInt,10):new xt(e.$numberInt)}inspect(e,n,r){return r??=we,`new Int32(${r(this.value,n)})`}}class cn extends Te{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new cn}inspect(){return"new MaxKey()"}}class ln extends Te{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new ln}inspect(){return"new MinKey()"}}let ut=null;const Bt=new WeakMap;class K extends Te{get _bsontype(){return"ObjectId"}constructor(e){super();let n;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new v("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?n=_.fromHex(e.toHexString()):n=e.id}else n=e;if(n==null||typeof n=="number")this.buffer=K.generate(typeof n=="number"?n:void 0);else if(ArrayBuffer.isView(n)&&n.byteLength===12)this.buffer=_.toLocalBufferType(n);else if(typeof n=="string")if(K.validateHexString(n))this.buffer=_.fromHex(n),K.cacheHexString&&Bt.set(this,n);else throw new v("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new v("Argument passed in does not match the accepted types")}get id(){return this.buffer}set id(e){this.buffer=e,K.cacheHexString&&Bt.set(this,_.toHex(e))}static validateHexString(e){if(e?.length!==24)return!1;for(let n=0;n<24;n++){const r=e.charCodeAt(n);if(!(r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70))return!1}return!0}toHexString(){if(K.cacheHexString){const n=Bt.get(this);if(n)return n}const e=_.toHex(this.id);return K.cacheHexString&&Bt.set(this,e),e}static getInc(){return K.index=(K.index+1)%16777215}static generate(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));const n=K.getInc(),r=_.allocateUnsafe(12);return nt.setInt32BE(r,0,e),ut===null&&(ut=_.randomBytes(5)),r[4]=ut[0],r[5]=ut[1],r[6]=ut[2],r[7]=ut[3],r[8]=ut[4],r[11]=n&255,r[10]=n>>8&255,r[9]=n>>16&255,r}toString(e){return e==="base64"?_.toBase64(this.id):e==="hex"?this.toHexString():this.toHexString()}toJSON(){return this.toHexString()}static is(e){return e!=null&&typeof e=="object"&&"_bsontype"in e&&e._bsontype==="ObjectId"}equals(e){if(e==null)return!1;if(K.is(e))return this.buffer[11]===e.buffer[11]&&_.equals(this.buffer,e.buffer);if(typeof e=="string")return e.toLowerCase()===this.toHexString();if(typeof e=="object"&&typeof e.toHexString=="function"){const n=e.toHexString(),r=this.toHexString();return typeof n=="string"&&n.toLowerCase()===r}return!1}getTimestamp(){const e=new Date,n=nt.getUint32BE(this.buffer,0);return e.setTime(Math.floor(n)*1e3),e}static createPk(){return new K}serializeInto(e,n){return e[n]=this.buffer[0],e[n+1]=this.buffer[1],e[n+2]=this.buffer[2],e[n+3]=this.buffer[3],e[n+4]=this.buffer[4],e[n+5]=this.buffer[5],e[n+6]=this.buffer[6],e[n+7]=this.buffer[7],e[n+8]=this.buffer[8],e[n+9]=this.buffer[9],e[n+10]=this.buffer[10],e[n+11]=this.buffer[11],12}static createFromTime(e){const n=_.allocate(12);for(let r=11;r>=4;r--)n[r]=0;return nt.setInt32BE(n,0,e),new K(n)}static createFromHexString(e){if(e?.length!==24)throw new v("hex string must be 24 characters");return new K(_.fromHex(e))}static createFromBase64(e){if(e?.length!==16)throw new v("base64 string must be 16 characters");return new K(_.fromBase64(e))}static isValid(e){if(e==null)return!1;if(typeof e=="string")return K.validateHexString(e);try{return new K(e),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new K(e.$oid)}isCached(){return K.cacheHexString&&Bt.has(this)}inspect(e,n,r){return r??=we,`new ObjectId(${r(this.toHexString(),n)})`}}K.index=Math.floor(Math.random()*16777215);function Qo(t){return t.split("").sort().join("")}class Fe extends Te{get _bsontype(){return"BSONRegExp"}constructor(e,n){if(super(),this.pattern=e,this.options=Qo(n??""),this.pattern.indexOf("\0")!==-1)throw new v(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new v(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let r=0;r<this.options.length;r++)if(!(this.options[r]==="i"||this.options[r]==="m"||this.options[r]==="x"||this.options[r]==="l"||this.options[r]==="s"||this.options[r]==="u"))throw new v(`The regular expression option [${this.options[r]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new Fe(e.$regex,Fe.parseOptions(e.$options));if("$regularExpression"in e)return new Fe(e.$regularExpression.pattern,Fe.parseOptions(e.$regularExpression.options));throw new v(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(e)}`)}inspect(e,n,r){const i=To(n)??(a=>a);r??=we;const s=i(r(this.pattern),"regexp"),o=i(r(this.options),"regexp");return`new BSONRegExp(${s}, ${o})`}}class un extends Te{get _bsontype(){return"BSONSymbol"}constructor(e){super(),this.value=e}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new un(e.$symbol)}inspect(e,n,r){return r??=we,`new BSONSymbol(${r(this.value,n)})`}}const ea=f;class $e extends ea{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(e){if(e==null)super(0,0,!0);else if(typeof e=="bigint")super(e,!0);else if(f.isLong(e))super(e.low,e.high,!0);else if(typeof e=="object"&&"t"in e&&"i"in e){if(typeof e.t!="number"&&(typeof e.t!="object"||e.t._bsontype!=="Int32"))throw new v("Timestamp constructed from { t, i } must provide t as a number");if(typeof e.i!="number"&&(typeof e.i!="object"||e.i._bsontype!=="Int32"))throw new v("Timestamp constructed from { t, i } must provide i as a number");const n=Number(e.t),r=Number(e.i);if(n<0||Number.isNaN(n))throw new v("Timestamp constructed from { t, i } must provide a positive t");if(r<0||Number.isNaN(r))throw new v("Timestamp constructed from { t, i } must provide a positive i");if(n>4294967295)throw new v("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(r>4294967295)throw new v("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(r,n,!0)}else throw new v("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new $e(f.fromInt(e,!0))}static fromNumber(e){return new $e(f.fromNumber(e,!0))}static fromBits(e,n){return new $e({i:e,t:n})}static fromString(e,n){return new $e(f.fromString(e,!0,n))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(e){const n=f.isLong(e.$timestamp.i)?e.$timestamp.i.getLowBitsUnsigned():e.$timestamp.i,r=f.isLong(e.$timestamp.t)?e.$timestamp.t.getLowBitsUnsigned():e.$timestamp.t;return new $e({t:r,i:n})}inspect(e,n,r){r??=we;const i=r(this.t,n),s=r(this.i,n);return`new Timestamp({ t: ${i}, i: ${s} })`}}$e.MAX_VALUE=f.MAX_UNSIGNED_VALUE;f.fromNumber(Io);f.fromNumber(Ao);function ta(t){return t!=null&&typeof t=="object"&&"_bsontype"in t&&typeof t._bsontype=="string"}const na={$oid:K,$binary:$,$uuid:$,$symbol:un,$numberInt:xt,$numberDecimal:be,$numberDouble:De,$numberLong:f,$minKey:ln,$maxKey:cn,$regex:Fe,$regularExpression:Fe,$timestamp:$e};function Ai(t,e={}){if(typeof t=="number"){const r=t<=Yn&&t>=Wn,i=t<=yi&&t>=wi;if(e.relaxed||e.legacy)return t;if(Number.isInteger(t)&&!Object.is(t,-0)){if(r)return new xt(t);if(i)return e.useBigInt64?BigInt(t):f.fromNumber(t)}return new De(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;const n=Object.keys(t).filter(r=>r.startsWith("$")&&t[r]!=null);for(let r=0;r<n.length;r++){const i=na[n[r]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){const r=t.$date,i=new Date;if(e.legacy)if(typeof r=="number")i.setTime(r);else if(typeof r=="string")i.setTime(Date.parse(r));else if(typeof r=="bigint")i.setTime(Number(r));else throw new br(`Unrecognized type for EJSON date: ${typeof r}`);else if(typeof r=="string")i.setTime(Date.parse(r));else if(f.isLong(r))i.setTime(r.toNumber());else if(typeof r=="number"&&e.relaxed)i.setTime(r);else if(typeof r=="bigint")i.setTime(Number(r));else throw new br(`Unrecognized type for EJSON date: ${typeof r}`);return i}if(t.$code!=null){const r=Object.assign({},t);return t.$scope&&(r.$scope=Ai(t.$scope)),qn.fromExtendedJSON(t)}if(Do(t)||t.$dbPointer){const r=t.$ref?t:t.$dbPointer;if(r instanceof Nt)return r;const i=Object.keys(r).filter(o=>o.startsWith("$"));let s=!0;if(i.forEach(o=>{["$ref","$id","$db"].indexOf(o)===-1&&(s=!1)}),s)return Nt.fromExtendedJSON(r)}return t}function ra(t,e){return t.map((n,r)=>{e.seenObjects.push({propertyName:`index ${r}`,obj:null});try{return Le(n,e)}finally{e.seenObjects.pop()}})}function Ur(t){const e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function Le(t,e){if(t instanceof Map||pi(t)){const n=Object.create(null);for(const[r,i]of t){if(typeof r!="string")throw new v("Can only serialize maps with string keys");n[r]=i}return Le(n,e)}if((typeof t=="object"||typeof t=="function")&&t!==null){const n=e.seenObjects.findIndex(r=>r.obj===t);if(n!==-1){const r=e.seenObjects.map(d=>d.propertyName),i=r.slice(0,n).map(d=>`${d} -> `).join(""),s=r[n],o=" -> "+r.slice(n+1,r.length-1).map(d=>`${d} -> `).join(""),a=r[r.length-1],c=" ".repeat(i.length+s.length/2),l="-".repeat(o.length+(s.length+a.length)/2-1);throw new v(`Converting circular structure to EJSON:
    ${i}${s}${o}${a}
    ${c}\\${l}/`)}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return ra(t,e);if(t===void 0)return null;if(t instanceof Date||xo(t)){const n=t.getTime(),r=n>-1&&n<2534023188e5;return e.legacy?e.relaxed&&r?{$date:t.getTime()}:{$date:Ur(t)}:e.relaxed&&r?{$date:Ur(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Number.isInteger(t)&&!Object.is(t,-0)){if(t>=Wn&&t<=Yn)return{$numberInt:t.toString()};if(t>=wi&&t<=yi)return{$numberLong:t.toString()}}return{$numberDouble:Object.is(t,-0)?"-0.0":t.toString()}}if(typeof t=="bigint")return e.relaxed?Number(BigInt.asIntN(64,t)):{$numberLong:BigInt.asIntN(64,t).toString()};if(t instanceof RegExp||No(t)){let n=t.flags;if(n===void 0){const i=t.toString().match(/[gimuy]*$/);i&&(n=i[0])}return new Fe(t.source,n).toExtendedJSON(e)}return t!=null&&typeof t=="object"?sa(t,e):t}const ia={Binary:t=>new $(t.value(),t.sub_type),Code:t=>new qn(t.code,t.scope),DBRef:t=>new Nt(t.collection||t.namespace,t.oid,t.db,t.fields),Decimal128:t=>new be(t.bytes),Double:t=>new De(t.value),Int32:t=>new xt(t.value),Long:t=>f.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_),MaxKey:()=>new cn,MinKey:()=>new ln,ObjectId:t=>new K(t),BSONRegExp:t=>new Fe(t.pattern,t.options),BSONSymbol:t=>new un(t.value),Timestamp:t=>$e.fromBits(t.low,t.high)};function sa(t,e){if(t==null||typeof t!="object")throw new v("not an object instance");const n=t._bsontype;if(typeof n>"u"){const r={};for(const i of Object.keys(t)){e.seenObjects.push({propertyName:i,obj:null});try{const s=Le(t[i],e);i==="__proto__"?Object.defineProperty(r,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):r[i]=s}finally{e.seenObjects.pop()}}return r}else{if(t!=null&&typeof t=="object"&&typeof t._bsontype=="string"&&t[bi]!==zn)throw new Oo;if(ta(t)){let r=t;if(typeof r.toExtendedJSON!="function"){const i=ia[t._bsontype];if(!i)throw new v("Unrecognized or invalid _bsontype: "+t._bsontype);r=i(r)}return n==="Code"&&r.scope?r=new qn(r.code,Le(r.scope,e)):n==="DBRef"&&r.oid&&(r=new Nt(Le(r.collection,e),Le(r.oid,e),Le(r.db,e),Le(r.fields,e))),r.toExtendedJSON(e)}else throw new v("_bsontype must be a string, but was: "+typeof n)}}function Oi(t,e){const n={useBigInt64:e?.useBigInt64??!1,relaxed:e?.relaxed??!0,legacy:e?.legacy??!1};return JSON.parse(t,(r,i)=>{if(r.indexOf("\0")!==-1)throw new v(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(r)}`);return Ai(i,n)})}function vi(t,e,n,r){n!=null&&typeof n=="object"&&(r=n,n=0),e!=null&&typeof e=="object"&&!Array.isArray(e)&&(r=e,e=void 0,n=0);const i=Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]}),s=Le(t,i);return JSON.stringify(s,e,n)}function oa(t,e){return e=e||{},JSON.parse(vi(t,e))}function aa(t,e){return e=e||{},Oi(JSON.stringify(t),e)}const oe=Object.create(null);oe.parse=Oi;oe.stringify=vi;oe.serialize=oa;oe.deserialize=aa;Object.freeze(oe);function xn(t,e){try{return nt.getNonnegativeInt32LE(t,e)}catch(n){throw new ot("BSON size cannot be negative",e,{cause:n})}}function Tn(t,e){let n=e;for(;t[n]!==0;n++);if(n===t.length-1)throw new ot("Null terminator not found",e);return n}function ca(t,e=0){if(e??=0,t.length<5)throw new ot(`Input must be at least 5 bytes, got ${t.length} bytes`,e);const n=xn(t,e);if(n>t.length-e)throw new ot(`Parsed documentSize (${n} bytes) does not match input length (${t.length} bytes)`,e);if(t[e+n-1]!==0)throw new ot("BSON documents must end in 0x00",e+n);const r=[];let i=e+4;for(;i<=n+e;){const s=t[i];if(i+=1,s===0){if(i-e!==n)throw new ot("Invalid 0x00 type byte",i);break}const o=i,a=Tn(t,i)-o;i+=a+1;let c;if(s===1||s===18||s===9||s===17)c=8;else if(s===16)c=4;else if(s===7)c=12;else if(s===19)c=16;else if(s===8)c=1;else if(s===10||s===6||s===127||s===255)c=0;else if(s===11)c=Tn(t,Tn(t,i)+1)+1-i;else if(s===3||s===4||s===15)c=xn(t,i);else if(s===2||s===5||s===12||s===13||s===14)c=xn(t,i)+4,s===5&&(c+=1),s===12&&(c+=12);else throw new ot(`Invalid 0x${s.toString(16).padStart(2,"0")} type byte`,i);if(c>n)throw new ot("value reports length larger than document",i);r.push([s,o,a,i,c]),i+=c}return r}const fn=Object.create(null);fn.parseToElements=ca;fn.ByteUtils=_;fn.NumberUtils=nt;Object.freeze(fn);const la=1024*1024*17;_.allocate(la);const ke=({children:t,...e})=>u.jsx("button",{...e,className:"px-1 py-1 hover:bg-neutral-200"+(e.className?" "+e.className:""),children:t}),Ci=({expanded:t,allowEdit:e,data:n,path:r,autocompleteItems:i,onUpdate:s,onDelete:o,onAdd:a})=>{const[c,l]=w.useState(t),[d,m]=w.useState(!1),[h,g]=w.useState(""),[p,b]=w.useState(""),[E,j]=w.useState(""),[T,D]=w.useState(!1),S=w.useRef(null),U=()=>l(!c),L=()=>{g(oe.stringify(n)),m(!0)},V=()=>{try{const x=oe.parse(h);s?.(r,x),m(!1)}catch{s?.(r,h),m(!1)}l(!0)},P=()=>{try{const x=E.trim()===""?"":oe.parse(E);a?.(r,p,x),b(()=>""),j(()=>""),D(!1)}catch{a?.(r,p,E),b(()=>""),j(()=>""),D(!1)}l(!0)},I=()=>{if(d&&e){let x={};return S.current&&(x={minWidth:S.current.clientWidth+5+"px"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wn,{className:"w-32 h-6 px-1 pt-0.5 text-xs font-medium border border-solid  border-neutral-300",trigger:["$"].concat(i.map(O=>O.substring(0,1))),options:bn.map(O=>O.substring(1)).concat(i),attributes:{placeholder:"Value (JSON or String or Number ...)",style:{resize:"both",...x}},value:h,Component:"textarea",onChange:O=>g(O)}),u.jsx(ke,{onClick:V,className:"",children:u.jsx(rn,{className:"w-4 h-4"})}),u.jsx(ke,{onClick:()=>m(!1),className:"",children:u.jsx(jn,{className:"w-4 h-4"})})]})}if(typeof n!="object"||n===null||n instanceof K||n instanceof Date){let x=n;return n instanceof K?x=`ObjectId("${n.toHexString()}")`:n instanceof Date?x=n.toISOString():x=oe.stringify(n),u.jsx("span",{ref:S,className:["px-1 rounded",typeof n=="string"&&"text-green-600",typeof n=="number"&&"text-blue-600",n instanceof K&&"text-red-600 font-medium",n instanceof Date&&"text-yellow-600 font-medium",typeof n=="boolean"&&"text-purple-600",n===null&&"text-neutral-600"].filter(Boolean).join(" "),children:x})}return null},B=()=>T?u.jsxs("div",{className:"flex items-center gap-1 mt-1 mb-1 ml-4",children:[u.jsx(wn,{className:"w-32 h-6 px-1 text-xs font-medium border border-solid  border-neutral-300",trigger:["$"].concat(i.map(x=>x.substring(0,1))),options:bn.concat(i),attributes:{placeholder:"Key"},value:p,Component:"input",onChange:x=>b(x)}),u.jsx("span",{className:"text-xs",children:":"}),u.jsx(wn,{className:"w-32 h-6 px-1 pt-0.5 text-xs font-medium border border-solid  border-neutral-300",trigger:["$"].concat(i.map(x=>x.substring(0,1))),options:bn.map(x=>x.substring(1)).concat(i),attributes:{placeholder:"Value (JSON or String or Number ...)",style:{resize:"both"}},value:E,Component:"textarea",onChange:x=>j(x)}),u.jsx(ke,{onClick:P,disabled:!p.trim(),children:u.jsx(rn,{className:"w-4 h-4"})}),u.jsx(ke,{onClick:()=>{b(()=>""),j(()=>""),D(!1)},children:u.jsx(jn,{className:"w-4 h-4"})})]}):null;if(typeof n!="object"||n===null||n instanceof K||n instanceof Date)return u.jsxs("div",{className:"relative flex items-center gap-1 py-0.5 text-sm hover:bg-neutral-100 group",children:[u.jsx("div",{className:"w-4"}),u.jsxs("span",{className:"flex gap-1",children:[u.jsx("span",{className:"font-medium text-center text-right min-w-4",children:r[r.length-1]}),u.jsx("span",{className:"font-medium text-center",children:":"})]}),I(),u.jsxs("div",{className:"flex items-center h-5 gap-1 ml-10 opacity-0 group-hover:opacity-100 left-full",children:[!d&&e&&u.jsxs(u.Fragment,{children:[u.jsx(ke,{onClick:L,title:"Edit",children:u.jsx(Rs,{className:"w-4 h-4"})}),u.jsx(ke,{onClick:()=>o?.(r),className:"px-1 py-1 text-red-600 hover:bg-neutral-200",children:u.jsx(Un,{className:"w-4 h-4"})})]}),u.jsx(ke,{className:"px-1 py-1 hover:bg-neutral-200",children:u.jsx(Pn,{text:oe.stringify(n)})})]})]});let R=null,J=!1;return r.length?R=`${r[r.length-1]}:`:(J=!0,R=u.jsx("span",{children:Array.isArray(n)&&n&&n._id?` #${String(n._id)}:`:n&&n._id?` #${String(n._id)}:`:null})),u.jsxs("div",{children:[u.jsxs("div",{className:"relative flex items-center gap-1 py-0.5 text-sm group"+(J?" mb-1":""),children:[u.jsx("button",{onClick:U,className:"w-4 h-4",children:c?u.jsx(ks,{className:"w-4 h-4"}):u.jsx(_s,{className:"w-4 h-4"})}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"flex font-medium",children:R}),u.jsxs("span",{className:"text-xs text-neutral-400 whitespace-nowrap",children:[Array.isArray(n)?"Array":"Object"," (",Array.isArray(n)?n.length:Object.keys(n).length," items)"]})]}),!d&&e&&u.jsxs("div",{className:"flex items-center h-5 gap-1 ml-10 opacity-0 group-hover:opacity-100 left-full",children:[u.jsx(ke,{onClick:()=>D(!0),children:u.jsx(Ls,{className:"w-4 h-4"})}),u.jsx(ke,{onClick:()=>o?.(r),className:"text-red-600",children:u.jsx(Un,{className:"w-4 h-4"})})]})]}),e&&B(),c&&u.jsx("div",{className:"ml-4",children:Object.entries(n).map(([x,O])=>u.jsx(Ci,{autocompleteItems:i,allowEdit:e,data:O,path:[...r,x],onUpdate:s,onDelete:o,onAdd:a},x))})]})},Rn=({autocompleteItems:t,isExpanded:e,allowEdit:n=!0,data:r={},onChange:i})=>{const s=(c,l)=>{const d={...r};let m=d;for(let h=0;h<c.length-1;h++)m=m[c[h]];m[c[c.length-1]]=l,i?.(d)},o=c=>{if(c.length===0){i?.({});return}const l={...r};let d=l;for(let m=0;m<c.length-1;m++)d=d[c[m]];Array.isArray(d)?d.splice(parseInt(c[c.length-1]),1):delete d[c[c.length-1]],i?.(l)},a=(c,l,d)=>{const m={...r};let h=m;for(const g of c)h=h[g];Array.isArray(h)?h.push(d):h[l]=d,i?.(m)};return u.jsx(Ci,{autocompleteItems:t,allowEdit:!!(i&&n),expanded:e,data:r,path:[],onUpdate:i?s:void 0,onDelete:i?o:void 0,onAdd:i?a:void 0})},ua=({sort:t,rows:e,allowEdit:n=!1,onSort:r})=>{const i=[];return e.length>0&&e.forEach(s=>{Object.keys(s).forEach(o=>{i.includes(o)||i.push(o)})}),u.jsx("div",{className:"w-full max-w-full overflow-auto",children:u.jsxs("table",{border:1,className:"bg-neutral-50",children:[u.jsx("thead",{children:u.jsx("tr",{children:i.map((s,o)=>u.jsx("th",{className:"px-4 py-2 text-left cursor-pointer text-md bg-neutral-100 group",onClick:()=>{r(s)},id:`${s}-${o}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s,u.jsx("span",{className:t.field==s?"opacity-60 group-hover:opacity-100":" opacity-0 group-hover:opacity-40",children:t.field==s&&t.direction>0?u.jsx(Ds,{}):u.jsx($s,{})})]})},s))})}),u.jsx("tbody",{children:e.map((s,o)=>u.jsx("tr",{className:"opacity-80 hover:opacity-100 border-b "+(o%2==0?"bg-white":""),children:Object.keys(s).map(a=>{if((Array.isArray(s[a])||s[a]instanceof Object)&&!(s[a]instanceof K||s[a]instanceof Date))return u.jsx("td",{className:"px-4 py-2",children:u.jsxs("div",{className:"flex items-start gap-2 group/item",children:[u.jsx(Rn,{autocompleteItems:[],allowEdit:n,data:s[a]}),u.jsx(Pn,{className:"p-1 ml-auto opacity-0 group-hover/item:opacity-100 hover:bg-white",text:oe.stringify(s[a])})]})},a);let c="";return s[a]instanceof K?c=`ObjectId("${s[a].toHexString()}")`:s[a]instanceof Date?c=s[a].toISOString():c=oe.stringify(s[a]),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("div",{className:"flex items-center gap-1 px-1 text-md group hover:bg-white",children:[oe.stringify(s[a]),u.jsx(Pn,{className:"p-1 ml-auto opacity-0 group-hover:opacity-100 hover:bg-neutral-200",text:c})]})},a)})},s._id))})]})})};var jr={};typeof window<"u"&&(window.CODEIUM_REACT_CODE_VERSION="1.0.12");function Bi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xn(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(m){o(m)}}function c(d){try{l(r.throw(d))}catch(m){o(m)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(t,[])).next())})}function de(t,e){if(!t)throw new Error(e)}const fa=34028234663852886e22,da=-34028234663852886e22,ha=4294967295,ma=2147483647,ga=-2147483648;function en(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>ma||t<ga)throw new Error("invalid int 32: "+t)}function kn(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>ha||t<0)throw new Error("invalid uint 32: "+t)}function Ui(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>fa||t<da))throw new Error("invalid float 32: "+t)}const ji=Symbol("@bufbuild/protobuf/enum-type");function pa(t){const e=t[ji];return de(e,"missing enum type on enum object"),e}function Pi(t,e,n,r){t[ji]=Ri(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function Ri(t,e,n){const r=Object.create(null),i=Object.create(null),s=[];for(const o of e){const a=ki(o);s.push(a),r[o.name]=a,i[o.no]=a}return{typeName:t,values:s,findName(o){return r[o]},findNumber(o){return i[o]}}}function ba(t,e,n){const r={};for(const i of e){const s=ki(i);r[s.localName]=s.no,r[s.no]=s.localName}return Pi(r,t,e),r}function ki(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class ee{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,s=i.makeReadOptions(n);return i.readMessage(this,s.readerFactory(e),e.byteLength,s),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,s=i.makeReadOptions(n);return i.readMessage(r,e,s,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),s=i.writerFactory();return r.writeMessage(this,s,i),s.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function ya(t,e,n,r){var i;const s=(i=r?.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),o={[s]:function(a){t.util.initFields(this),t.util.initPartial(a,this)}}[s];return Object.setPrototypeOf(o.prototype,new ee),Object.assign(o,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(a,c){return new o().fromBinary(a,c)},fromJson(a,c){return new o().fromJson(a,c)},fromJsonString(a,c){return new o().fromJsonString(a,c)},equals(a,c){return t.util.equals(o,a,c)}}),o}function wa(t,e,n,r){return{syntax:t,json:e,bin:n,util:r,makeMessageType(i,s,o){return ya(this,i,s,o)},makeEnum:ba,makeEnumType:Ri,getEnumType:pa}}var y;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(y||(y={}));var dt;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(dt||(dt={}));function Ea(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function In(t,e,n){for(let s=0;s<28;s=s+7){const o=t>>>s,a=!(!(o>>>7)&&e==0),c=(a?o|128:o)&255;if(n.push(c),!a)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let s=3;s<31;s=s+7){const o=e>>>s,a=!!(o>>>7),c=(a?o|128:o)&255;if(n.push(c),!a)return}n.push(e>>>31&1)}}const tn=4294967296;function Pr(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function s(o,a){const c=Number(t.slice(o,a));i*=n,r=r*n+c,r>=tn&&(i=i+(r/tn|0),r=r%tn)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?Li(r,i):Kn(r,i)}function Sa(t,e){let n=Kn(t,e);const r=n.hi&2147483648;r&&(n=Li(n.lo,n.hi));const i=_i(n.lo,n.hi);return r?"-"+i:i}function _i(t,e){if({lo:t,hi:e}=Na(t,e),e<=2097151)return String(tn*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let s=n+r*6777216+i*6710656,o=r+i*8147497,a=i*2;const c=1e7;return s>=c&&(o+=Math.floor(s/c),s%=c),o>=c&&(a+=Math.floor(o/c),o%=c),a.toString()+Rr(o)+Rr(s)}function Na(t,e){return{lo:t>>>0,hi:e>>>0}}function Kn(t,e){return{lo:t|0,hi:e|0}}function Li(t,e){return e=~e,t?t=~t+1:e+=1,Kn(t,e)}const Rr=t=>{const e=String(t);return"0000000".slice(e.length)+e};function kr(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function xa(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function Ta(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof jr!="object"||jr.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>s||l<i)throw new Error(`int64 invalid: ${c}`);return l},uParse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>a||l<o)throw new Error(`uint64 invalid: ${c}`);return l},enc(c){return t.setBigInt64(0,this.parse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(c){return t.setBigInt64(0,this.uParse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(c,l){return t.setInt32(0,c,!0),t.setInt32(4,l,!0),t.getBigInt64(0,!0)},uDec(c,l){return t.setInt32(0,c,!0),t.setInt32(4,l,!0),t.getBigUint64(0,!0)}}}const n=i=>de(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),r=i=>de(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),Pr(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),Pr(i)},dec(i,s){return Sa(i,s)},uDec(i,s){return _i(i,s)}}}const Z=Ta();var se;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(se||(se={}));class Ia{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(kn(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return en(e),kr(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){Ui(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){kn(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){en(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return en(e),e=(e<<1^e>>31)>>>0,kr(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Z.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Z.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=Z.enc(e);return In(n.lo,n.hi,this.buf),this}sint64(e){let n=Z.enc(e),r=n.hi>>31,i=n.lo<<1^r,s=(n.hi<<1|n.lo>>>31)^r;return In(i,s,this.buf),this}uint64(e){let n=Z.uEnc(e);return In(n.lo,n.hi,this.buf),this}}class Aa{constructor(e,n){this.varint64=Ea,this.uint32=xa,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e){let n=this.pos;switch(e){case se.Varint:for(;this.buf[this.pos++]&128;);break;case se.Bit64:this.pos+=4;case se.Bit32:this.pos+=4;break;case se.LengthDelimited:let r=this.uint32();this.pos+=r;break;case se.StartGroup:let i;for(;(i=this.tag()[1])!==se.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Z.dec(...this.varint64())}uint64(){return Z.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,Z.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Z.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Z.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function _n(t,e){return e instanceof ee||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}y.DOUBLE,y.FLOAT,y.INT64,y.UINT64,y.INT32,y.UINT32,y.BOOL,y.STRING,y.BYTES;function st(t,e,n){if(e===n)return!0;if(t==y.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case y.UINT64:case y.FIXED64:case y.INT64:case y.SFIXED64:case y.SINT64:return e==n}return!1}function Ln(t,e){switch(t){case y.BOOL:return!1;case y.UINT64:case y.FIXED64:case y.INT64:case y.SFIXED64:case y.SINT64:return e==0?Z.zero:"0";case y.DOUBLE:case y.FLOAT:return 0;case y.BYTES:return new Uint8Array(0);case y.STRING:return"";default:return 0}}function Di(t,e){const n=e===void 0;let r=se.Varint,i=e===0;switch(t){case y.STRING:i=n||!e.length,r=se.LengthDelimited;break;case y.BOOL:i=e===!1;break;case y.DOUBLE:r=se.Bit64;break;case y.FLOAT:r=se.Bit32;break;case y.INT64:i=n||e==0;break;case y.UINT64:i=n||e==0;break;case y.FIXED64:i=n||e==0,r=se.Bit64;break;case y.BYTES:i=n||!e.byteLength,r=se.LengthDelimited;break;case y.FIXED32:r=se.Bit32;break;case y.SFIXED32:r=se.Bit32;break;case y.SFIXED64:i=n||e==0,r=se.Bit64;break;case y.SINT64:i=n||e==0;break}const s=y[t].toLowerCase();return[r,s,n||i]}const pt=Symbol("@bufbuild/protobuf/unknown-fields"),_r={readUnknownFields:!0,readerFactory:t=>new Aa(t)},Lr={writeUnknownFields:!0,writerFactory:()=>new Ia};function Oa(t){return t?Object.assign(Object.assign({},_r),t):_r}function va(t){return t?Object.assign(Object.assign({},Lr),t):Lr}function Ca(){return{makeReadOptions:Oa,makeWriteOptions:va,listUnknownFields(t){var e;return(e=t[pt])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[pt]},writeUnknownFields(t,e){const r=t[pt];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[pt])||(i[pt]=[]),i[pt].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r){const i=t.getType(),s=n===void 0?e.len:e.pos+n;for(;e.pos<s;){const[o,a]=e.tag(),c=i.fields.find(o);if(!c){const h=e.skip(a);r.readUnknownFields&&this.onUnknownField(t,o,a,h);continue}let l=t,d=c.repeated,m=c.localName;switch(c.oneof&&(l=l[c.oneof.localName],l.case!=m&&delete l.value,l.case=m,m="value"),c.kind){case"scalar":case"enum":const h=c.kind=="enum"?y.INT32:c.T;let g=sn;if(c.kind=="scalar"&&c.L>0&&(g=Ua),d){let j=l[m];if(a==se.LengthDelimited&&h!=y.STRING&&h!=y.BYTES){let T=e.uint32()+e.pos;for(;e.pos<T;)j.push(g(e,h))}else j.push(g(e,h))}else l[m]=g(e,h);break;case"message":const p=c.T;d?l[m].push(nn(e,new p,r)):l[m]instanceof ee?nn(e,l[m],r):(l[m]=nn(e,new p,r),p.fieldWrapper&&!c.oneof&&!c.repeated&&(l[m]=p.fieldWrapper.unwrapField(l[m])));break;case"map":let[b,E]=Ba(c,e,r);l[m][b]=E;break}}}}}function nn(t,e,n){return e.getType().runtime.bin.readMessage(e,t,t.uint32(),n),e}function Ba(t,e,n){const r=e.uint32(),i=e.pos+r;let s,o;for(;e.pos<i;){let[a]=e.tag();switch(a){case 1:s=sn(e,t.K);break;case 2:switch(t.V.kind){case"scalar":o=sn(e,t.V.T);break;case"enum":o=e.int32();break;case"message":o=nn(e,new t.V.T,n);break}break}}if(s===void 0){let a=Ln(t.K,dt.BIGINT);s=t.K==y.BOOL?a.toString():a}if(typeof s!="string"&&typeof s!="number"&&(s=s.toString()),o===void 0)switch(t.V.kind){case"scalar":o=Ln(t.V.T,dt.BIGINT);break;case"enum":o=0;break;case"message":o=new t.V.T;break}return[s,o]}function Ua(t,e){const n=sn(t,e);return typeof n=="bigint"?n.toString():n}function sn(t,e){switch(e){case y.STRING:return t.string();case y.BOOL:return t.bool();case y.DOUBLE:return t.double();case y.FLOAT:return t.float();case y.INT32:return t.int32();case y.INT64:return t.int64();case y.UINT64:return t.uint64();case y.FIXED64:return t.fixed64();case y.BYTES:return t.bytes();case y.FIXED32:return t.fixed32();case y.SFIXED32:return t.sfixed32();case y.SFIXED64:return t.sfixed64();case y.SINT64:return t.sint64();case y.UINT32:return t.uint32();case y.SINT32:return t.sint32()}}function ja(t,e,n,r,i){t.tag(n.no,se.LengthDelimited),t.fork();let s=r;switch(n.K){case y.INT32:case y.FIXED32:case y.UINT32:case y.SFIXED32:case y.SINT32:s=Number.parseInt(r);break;case y.BOOL:de(r=="true"||r=="false"),s=r=="true";break}switch(Lt(t,n.K,1,s,!0),n.V.kind){case"scalar":Lt(t,n.V.T,2,i,!0);break;case"enum":Lt(t,y.INT32,2,i,!0);break;case"message":Dn(t,e,n.V.T,2,i);break}t.join()}function Dn(t,e,n,r,i){if(i!==void 0){const s=_n(n,i);t.tag(r,se.LengthDelimited).bytes(s.toBinary(e))}}function Lt(t,e,n,r,i){let[s,o,a]=Di(e,r);(!a||i)&&t.tag(n,s)[o](r)}function Pa(t,e,n,r){if(!r.length)return;t.tag(n,se.LengthDelimited).fork();let[,i]=Di(e);for(let s=0;s<r.length;s++)t[i](r[s]);t.join()}function Ra(){return Object.assign(Object.assign({},Ca()),{writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){let s,o=i.repeated,a=i.localName;if(i.oneof){const c=t[i.oneof.localName];if(c.case!==a)continue;s=c.value}else s=t[a];switch(i.kind){case"scalar":case"enum":let c=i.kind=="enum"?y.INT32:i.T;if(o)if(i.packed)Pa(e,c,i.no,s);else for(const l of s)Lt(e,c,i.no,l,!0);else s!==void 0&&Lt(e,c,i.no,s,!!i.oneof||i.opt);break;case"message":if(o)for(const l of s)Dn(e,n,i.T,i.no,l);else Dn(e,n,i.T,i.no,s);break;case"map":for(const[l,d]of Object.entries(s))ja(e,n,i,l,d);break}}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}let Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),dn=[];for(let t=0;t<Me.length;t++)dn[Me[t].charCodeAt(0)]=t;dn[45]=Me.indexOf("+");dn[95]=Me.indexOf("/");const hn={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,s,o=0;for(let a=0;a<t.length;a++){if(s=dn[t.charCodeAt(a)],s===void 0)switch(t[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=s,i=1;break;case 1:n[r++]=o<<2|(s&48)>>4,o=s,i=2;break;case 2:n[r++]=(o&15)<<4|(s&60)>>2,o=s,i=3;break;case 3:n[r++]=(o&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let s=0;s<t.length;s++)switch(r=t[s],n){case 0:e+=Me[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=Me[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=Me[i|r>>6],e+=Me[r&63],n=0;break}return n&&(e+=Me[i],e+="=",n==1&&(e+="=")),e}},Dr={ignoreUnknownFields:!1},$r={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function ka(t){return t?Object.assign(Object.assign({},Dr),t):Dr}function _a(t){return t?Object.assign(Object.assign({},$r),t):$r}function La(t){const e=t(Da,Mr);return{makeReadOptions:ka,makeWriteOptions:_a,readMessage(n,r,i,s){if(r==null||Array.isArray(r)||typeof r!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(r)}`);s=s??new n;const o={};for(const[a,c]of Object.entries(r)){const l=n.fields.findJsonName(a);if(!l){if(!i.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${a}" is unknown`);continue}let d=l.localName,m=s;if(l.oneof){if(c===null&&l.kind=="scalar")continue;const h=o[l.oneof.localName];if(h)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${h}", "${a}"`);o[l.oneof.localName]=a,m=m[l.oneof.localName]={case:d},d="value"}if(l.repeated){if(c===null)continue;if(!Array.isArray(c))throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`);const h=m[d];for(const g of c){if(g===null)throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(g)}`);let p;switch(l.kind){case"message":p=l.T.fromJson(g,i);break;case"enum":if(p=An(l.T,g,i.ignoreUnknownFields),p===void 0)continue;break;case"scalar":try{p=Ut(l.T,g,l.L)}catch(b){let E=`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(g)}`;throw b instanceof Error&&b.message.length>0&&(E+=`: ${b.message}`),new Error(E)}break}h.push(p)}}else if(l.kind=="map"){if(c===null)continue;if(Array.isArray(c)||typeof c!="object")throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`);const h=m[d];for(const[g,p]of Object.entries(c)){if(p===null)throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: map value null`);let b;switch(l.V.kind){case"message":b=l.V.T.fromJson(p,i);break;case"enum":if(b=An(l.V.T,p,i.ignoreUnknownFields),b===void 0)continue;break;case"scalar":try{b=Ut(l.V.T,p,dt.BIGINT)}catch(E){let j=`cannot decode map value for field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`;throw E instanceof Error&&E.message.length>0&&(j+=`: ${E.message}`),new Error(j)}break}try{h[Ut(l.K,l.K==y.BOOL?g=="true"?!0:g=="false"?!1:g:g,dt.BIGINT).toString()]=b}catch(E){let j=`cannot decode map key for field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`;throw E instanceof Error&&E.message.length>0&&(j+=`: ${E.message}`),new Error(j)}}}else switch(l.kind){case"message":const h=l.T;if(c===null&&h.typeName!="google.protobuf.Value"){if(l.oneof)throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: null is invalid for oneof field "${a}"`);continue}m[d]instanceof ee?m[d].fromJson(c,i):(m[d]=h.fromJson(c,i),h.fieldWrapper&&!l.oneof&&(m[d]=h.fieldWrapper.unwrapField(m[d])));break;case"enum":const g=An(l.T,c,i.ignoreUnknownFields);g!==void 0&&(m[d]=g);break;case"scalar":try{m[d]=Ut(l.T,c,l.L)}catch(p){let b=`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`;throw p instanceof Error&&p.message.length>0&&(b+=`: ${p.message}`),new Error(b)}break}}return s},writeMessage(n,r){const i=n.getType(),s={};let o;try{for(const a of i.fields.byMember()){let c;if(a.kind=="oneof"){const l=n[a.localName];if(l.value===void 0)continue;if(o=a.findField(l.case),!o)throw"oneof case not found: "+l.case;c=e(o,l.value,r)}else o=a,c=e(o,n[o.localName],r);c!==void 0&&(s[r.useProtoFieldName?o.name:o.jsonName]=c)}}catch(a){const c=o?`cannot encode field ${i.typeName}.${o.name} to JSON`:`cannot encode message ${i.typeName} to JSON`,l=a instanceof Error?a.message:String(a);throw new Error(c+(l.length>0?`: ${l}`:""))}return s},readScalar:Ut,writeScalar:Mr,debug:$i}}function $i(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function Ut(t,e,n){switch(t){case y.DOUBLE:case y.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==y.FLOAT&&Ui(r),r;case y.INT32:case y.FIXED32:case y.SFIXED32:case y.SINT32:case y.UINT32:if(e===null)return 0;let i;if(typeof e=="number"?i=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(i=Number(e)),i===void 0)break;return t==y.UINT32?kn(i):en(i),i;case y.INT64:case y.SFIXED64:case y.SINT64:if(e===null)return Z.zero;if(typeof e!="number"&&typeof e!="string")break;const s=Z.parse(e);return n?s.toString():s;case y.FIXED64:case y.UINT64:if(e===null)return Z.zero;if(typeof e!="number"&&typeof e!="string")break;const o=Z.uParse(e);return n?o.toString():o;case y.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case y.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case y.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return hn.dec(e)}throw new Error}function An(t,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.findName(e);if(r||n)return r?.no;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${$i(e)}`)}function Da(t,e,n,r){var i;if(e===void 0)return e;if(e===0&&!n)return;if(r)return e;if(t.typeName=="google.protobuf.NullValue")return null;const s=t.findNumber(e);return(i=s?.name)!==null&&i!==void 0?i:e}function Mr(t,e,n){if(e!==void 0)switch(t){case y.INT32:case y.SFIXED32:case y.SINT32:case y.FIXED32:case y.UINT32:return de(typeof e=="number"),e!=0||n?e:void 0;case y.FLOAT:case y.DOUBLE:return de(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case y.STRING:return de(typeof e=="string"),e.length>0||n?e:void 0;case y.BOOL:return de(typeof e=="boolean"),e||n?e:void 0;case y.UINT64:case y.FIXED64:case y.INT64:case y.SFIXED64:case y.SINT64:return de(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case y.BYTES:return de(e instanceof Uint8Array),n||e.byteLength>0?hn.enc(e):void 0}}function $a(){return La((t,e)=>function(r,i,s){if(r.kind=="map"){const o={};switch(r.V.kind){case"scalar":for(const[c,l]of Object.entries(i)){const d=e(r.V.T,l,!0);de(d!==void 0),o[c.toString()]=d}break;case"message":for(const[c,l]of Object.entries(i))o[c.toString()]=l.toJson(s);break;case"enum":const a=r.V.T;for(const[c,l]of Object.entries(i)){de(l===void 0||typeof l=="number");const d=t(a,l,!0,s.enumAsInteger);de(d!==void 0),o[c.toString()]=d}break}return s.emitDefaultValues||Object.keys(o).length>0?o:void 0}else if(r.repeated){const o=[];switch(r.kind){case"scalar":for(let a=0;a<i.length;a++)o.push(e(r.T,i[a],!0));break;case"enum":for(let a=0;a<i.length;a++)o.push(t(r.T,i[a],!0,s.enumAsInteger));break;case"message":for(let a=0;a<i.length;a++)o.push(_n(r.T,i[a]).toJson(s));break}return s.emitDefaultValues||o.length>0?o:void 0}else switch(r.kind){case"scalar":return e(r.T,i,!!r.oneof||r.opt||s.emitDefaultValues);case"enum":return t(r.T,i,!!r.oneof||r.opt||s.emitDefaultValues,s.enumAsInteger);case"message":return i!==void 0?_n(r.T,i).toJson(s):void 0}})}function Ma(){return{setEnumType:Pi,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,s=e,o=t;if(o[i]!==void 0)switch(r.kind){case"oneof":const a=o[i].case;if(a===void 0)continue;const c=r.findField(a);let l=o[i].value;c&&c.kind=="message"&&!(l instanceof c.T)?l=new c.T(l):c&&c.kind==="scalar"&&c.T===y.BYTES&&(l=jt(l)),s[i]={case:a,value:l};break;case"scalar":case"enum":let d=o[i];r.T===y.BYTES&&(d=r.repeated?d.map(jt):jt(d)),s[i]=d;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===y.BYTES)for(const[g,p]of Object.entries(o[i]))s[i][g]=jt(p);else Object.assign(s[i],o[i]);break;case"message":const h=r.V.T;for(const g of Object.keys(o[i])){let p=o[i][g];h.fieldWrapper||(p=new h(p)),s[i][g]=p}break}break;case"message":const m=r.T;if(r.repeated)s[i]=o[i].map(h=>h instanceof m?h:new m(h));else if(o[i]!==void 0){const h=o[i];m.fieldWrapper?m.typeName==="google.protobuf.BytesValue"?s[i]=jt(h):s[i]=h:s[i]=h instanceof m?h:new m(h)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],s=n[r.localName];if(r.repeated){if(i.length!==s.length)return!1;switch(r.kind){case"message":return i.every((o,a)=>r.T.equals(o,s[a]));case"scalar":return i.every((o,a)=>st(r.T,o,s[a]));case"enum":return i.every((o,a)=>st(y.INT32,o,s[a]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(i,s);case"enum":return st(y.INT32,i,s);case"scalar":return st(r.T,i,s);case"oneof":if(i.case!==s.case)return!1;const o=r.findField(i.case);if(o===void 0)return!0;switch(o.kind){case"message":return o.T.equals(i.value,s.value);case"enum":return st(y.INT32,i.value,s.value);case"scalar":return st(o.T,i.value,s.value)}throw new Error(`oneof cannot contain ${o.kind}`);case"map":const a=Object.keys(i).concat(Object.keys(s));switch(r.V.kind){case"message":const c=r.V.T;return a.every(d=>c.equals(i[d],s[d]));case"enum":return a.every(d=>st(y.INT32,i[d],s[d]));case"scalar":const l=r.V.T;return a.every(d=>st(l,i[d],s[d]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const s=t[i.localName];let o;if(i.repeated)o=s.map(Xt);else if(i.kind=="map"){o=r[i.localName];for(const[a,c]of Object.entries(s))o[a]=Xt(c)}else i.kind=="oneof"?o=i.findField(s.case)?{case:s.case,value:Xt(s.value)}:{case:void 0}:o=Xt(s);r[i.localName]=o}return n}}}function Xt(t){if(t===void 0)return t;if(t instanceof ee)return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function jt(t){return t instanceof Uint8Array?t:new Uint8Array(t)}class Fa{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function Mi(t,e){const n=Fi(t);return e?n:Ya(za(n))}function Va(t){return Mi(t,!1)}const Ja=Fi;function Fi(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const Ga=new Set(["constructor","toString","toJSON","valueOf"]),Ha=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Vi=t=>`${t}$`,za=t=>Ha.has(t)?Vi(t):t,Ya=t=>Ga.has(t)?Vi(t):t;class Wa{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Va(e)}addField(e){de(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const N=wa("proto3",$a(),Ra(),Object.assign(Object.assign({},Ma()),{newFieldList(t){return new Fa(t,qa)},initFields(t){for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=Ln(e.T,e.L);break}}}}));function qa(t){var e,n,r,i;const s=[];let o;for(const a of typeof t=="function"?t():t){const c=a;if(c.localName=Mi(a.name,a.oneof!==void 0),c.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:Ja(a.name),c.repeated=(n=a.repeated)!==null&&n!==void 0?n:!1,a.kind=="scalar"&&(c.L=(r=a.L)!==null&&r!==void 0?r:dt.BIGINT),c.packed=(i=a.packed)!==null&&i!==void 0?i:a.kind=="enum"||a.kind=="scalar"&&a.T!=y.BYTES&&a.T!=y.STRING,a.oneof!==void 0){const l=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!o||o.name!=l)&&(o=new Wa(l)),c.oneof=o,o.addField(c)}s.push(c)}return s}var xe;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(xe||(xe={}));var $n;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})($n||($n={}));var q;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(q||(q={}));function Mn(t){const e=q[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let Kt;function Xa(t){if(!Kt){Kt={};for(const e of Object.values(q))typeof e!="string"&&(Kt[Mn(e)]=e)}return Kt[t]}class ce extends Error{constructor(e,n=q.Unknown,r,i,s){super(Ka(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(r??{}),this.details=i??[],this.cause=s}static from(e,n=q.Unknown){return e instanceof ce?e:e instanceof Error?e.name=="AbortError"?new ce(e.message,q.Canceled):new ce(e.message,n,void 0,void 0,e):new ce(String(e),n,void 0,void 0,e)}findDetails(e){const n="typeName"in e?{findMessage:i=>i===e.typeName?e:void 0}:e,r=[];for(const i of this.details){if(i instanceof ee){n.findMessage(i.getType().typeName)&&r.push(i);continue}const s=n.findMessage(i.type);if(s)try{r.push(s.fromBinary(i.value))}catch{}}return r}}function Ka(t,e){return t.length?`[${Mn(e)}] ${t}`:`[${Mn(e)}]`}function Za(...t){const e=new Headers;for(const n of t)n.forEach((r,i)=>{e.append(i,r)});return e}function Qa(t,e){const n={};for(const[r,i]of Object.entries(t.methods)){const s=e(Object.assign(Object.assign({},i),{localName:r,service:t}));s!=null&&(n[r]=s)}return n}function ec(t){let e,n=new Uint8Array(0);function r(i){const s=new Uint8Array(n.length+i.length);s.set(n),s.set(i,n.length),n=s}return new ReadableStream({start(){e=t.getReader()},async pull(i){let s;for(;;){if(s===void 0&&n.byteLength>=5){let c=0;for(let l=1;l<5;l++)c=(c<<8)+n[l];s={flags:n[0],length:c}}if(s!==void 0&&n.byteLength>=s.length+5)break;const a=await e.read();if(a.done)break;r(a.value)}if(s===void 0){if(n.byteLength==0){i.close();return}i.error(new ce("premature end of stream",q.DataLoss));return}const o=n.subarray(5,5+s.length);n=n.subarray(5+s.length),i.enqueue({flags:s.flags,data:o})}})}function tc(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const r=new DataView(n.buffer,n.byteOffset,n.byteLength);return r.setUint8(0,t),r.setUint32(1,e.length),n}var nc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}},Mt=function(t){return this instanceof Mt?(this.v=t,this):new Mt(t)},rc=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(g){return new Promise(function(p,b){s.push([h,g,p,b])>1||a(h,g)})})}function a(h,g){try{c(r[h](g))}catch(p){m(s[0][3],p)}}function c(h){h.value instanceof Mt?Promise.resolve(h.value.v).then(l,d):m(s[0][2],h)}function l(h){a("next",h)}function d(h){a("throw",h)}function m(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}},ic=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Mt(t[i](o)),done:!1}:s?s(o):o}:s}};function sc(t){return rc(this,arguments,function*(){yield Mt(yield*ic(nc(t)))})}var Ji=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}},Tt=function(t){return this instanceof Tt?(this.v=t,this):new Tt(t)},oc=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Tt(t[i](o)),done:!1}:s?s(o):o}:s}},ac=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(g){return new Promise(function(p,b){s.push([h,g,p,b])>1||a(h,g)})})}function a(h,g){try{c(r[h](g))}catch(p){m(s[0][3],p)}}function c(h){h.value instanceof Tt?Promise.resolve(h.value.v).then(l,d):m(s[0][2],h)}function l(h){a("next",h)}function d(h){a("throw",h)}function m(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}};function cc(t,e){return Qa(t,n=>{switch(n.kind){case xe.Unary:return lc(e,t,n);case xe.ServerStreaming:return uc(e,t,n);case xe.ClientStreaming:return fc(e,t,n);case xe.BiDiStreaming:return dc(e,t,n);default:return null}})}function lc(t,e,n){return async function(r,i){var s,o;const a=await t.unary(e,n,i?.signal,i?.timeoutMs,i?.headers,r,i?.contextValues);return(s=i?.onHeader)===null||s===void 0||s.call(i,a.header),(o=i?.onTrailer)===null||o===void 0||o.call(i,a.trailer),a.message}}function uc(t,e,n){return function(r,i){return Gi(t.stream(e,n,i?.signal,i?.timeoutMs,i?.headers,sc([r]),i?.contextValues),i)}}function fc(t,e,n){return async function(r,i){var s,o,a,c,l,d;const m=await t.stream(e,n,i?.signal,i?.timeoutMs,i?.headers,r,i?.contextValues);(l=i?.onHeader)===null||l===void 0||l.call(i,m.header);let h;try{for(var g=!0,p=Ji(m.message),b;b=await p.next(),s=b.done,!s;g=!0)c=b.value,g=!1,h=c}catch(E){o={error:E}}finally{try{!g&&!s&&(a=p.return)&&await a.call(p)}finally{if(o)throw o.error}}if(!h)throw new ce("protocol error: missing response message",q.Internal);return(d=i?.onTrailer)===null||d===void 0||d.call(i,m.trailer),h}}function dc(t,e,n){return function(r,i){return Gi(t.stream(e,n,i?.signal,i?.timeoutMs,i?.headers,r,i?.contextValues),i)}}function Gi(t,e){const n=function(){var r,i;return ac(this,arguments,function*(){const s=yield Tt(t);(r=e?.onHeader)===null||r===void 0||r.call(e,s.header),yield Tt(yield*oc(Ji(s.message))),(i=e?.onTrailer)===null||i===void 0||i.call(e,s.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function hc(...t){const e=new AbortController,n=t.filter(i=>i!==void 0).concat(e.signal);for(const i of n){if(i.aborted){r.apply(i);break}i.addEventListener("abort",r)}function r(){e.signal.aborted||e.abort(Hi(this));for(const i of n)i.removeEventListener("abort",r)}return e}function mc(t){const e=new AbortController,n=()=>{e.abort(new ce("the operation timed out",q.DeadlineExceeded))};let r;return t!==void 0&&(t<=0?n():r=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(r)}}function Hi(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Fr(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function Vr(t,e,n){const r=typeof e=="string"?e:e.typeName,i=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${r}/${i}`)}function zi(t,e){return e instanceof ee?e:new t(e)}function gc(t,e){function n(r){return r.done===!0?r:{done:r.done,value:zi(t,r.value)}}return{[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator](),i={next:()=>r.next().then(n)};return r.throw!==void 0&&(i.throw=s=>r.throw(s).then(n)),r.return!==void 0&&(i.return=s=>r.return(s).then(n)),i}}}function Yi(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function Jr(t,e,n,r){const i=e?Gr(t.I,r):Hr(t.I,n);return{parse:(e?Gr(t.O,r):Hr(t.O,n)).parse,serialize:i.serialize}}function Gr(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new ce(`parse binary: ${i}`,q.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new ce(`serialize binary: ${i}`,q.Internal)}}}}function Hr(t,e){var n,r;const i=(n=e?.textEncoder)!==null&&n!==void 0?n:new TextEncoder,s=(r=e?.textDecoder)!==null&&r!==void 0?r:new TextDecoder,o=Yi(e);return{parse(a){try{const c=s.decode(a);return t.fromJsonString(c,o)}catch(c){throw ce.from(c,q.InvalidArgument)}},serialize(a){try{const c=a.toJsonString(o);return i.encode(c)}catch(c){throw ce.from(c,q.Internal)}}}}const pc=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,bc="application/proto",yc="application/json",wc="application/connect+proto",Ec="application/connect+json";function Sc(t){const e=t?.match(pc);if(!e)return;const n=!!e[1],r=!!e[3];return{stream:n,binary:r}}function Wi(t,e,n){if(e&&new Headers(e).forEach((o,a)=>n.metadata.append(a,o)),typeof t!="object"||t==null||Array.isArray(t)||!("code"in t)||typeof t.code!="string")throw n;const r=Xa(t.code);if(r===void 0)throw n;const i=t.message;if(i!=null&&typeof i!="string")throw n;const s=new ce(i??"",r,e);if("details"in t&&Array.isArray(t.details))for(const o of t.details){if(o===null||typeof o!="object"||Array.isArray(o)||typeof o.type!="string"||typeof o.value!="string"||"debug"in o&&typeof o.debug!="object")throw n;try{s.details.push({type:o.type,value:hn.dec(o.value),debug:o.debug})}catch{throw n}}return s}const zr=2;function Nc(t){const e=new ce("invalid end stream",q.InvalidArgument);let n;try{n=JSON.parse(typeof t=="string"?t:new TextDecoder().decode(t))}catch{throw e}if(typeof n!="object"||n==null||Array.isArray(n))throw e;const r=new Headers;if("metadata"in n){if(typeof n.metadata!="object"||n.metadata==null||Array.isArray(n.metadata))throw e;for(const[s,o]of Object.entries(n.metadata)){if(!Array.isArray(o)||o.some(a=>typeof a!="string"))throw e;for(const a of o)r.append(s,a)}}const i="error"in n?Wi(n.error,r,e):void 0;return{metadata:r,error:i}}const Fn="Content-Type",xc="Content-Length",Yr="Content-Encoding",Tc="Accept-Encoding",Ic="Connect-Timeout-Ms",qi="Connect-Protocol-Version",Ac="User-Agent";function Oc(t){switch(t){case 400:return q.InvalidArgument;case 401:return q.Unauthenticated;case 403:return q.PermissionDenied;case 404:return q.Unimplemented;case 408:return q.DeadlineExceeded;case 409:return q.Aborted;case 412:return q.FailedPrecondition;case 413:return q.ResourceExhausted;case 415:return q.Internal;case 429:return q.Unavailable;case 431:return q.ResourceExhausted;case 502:return q.Unavailable;case 503:return q.Unavailable;case 504:return q.Unavailable;default:return q.Unknown}}function Wr(t){const e=new Headers,n=new Headers;return t.forEach((r,i)=>{i.toLowerCase().startsWith("trailer-")?n.set(i.substring(8),r):e.set(i,r)}),[e,n]}const Xi="1";function qr(t,e,n,r){const i=new Headers(r??{});return n!==void 0&&i.set(Ic,`${n}`),i.set(Fn,t==xe.Unary?e?bc:yc:e?wc:Ec),i.set(qi,Xi),i.set(Ac,"connect-es/1.1.3"),i}function Xr(t,e,n){const r=n.get("Content-Type"),i=Sc(r);if(e!==200){const s=new ce(`HTTP ${e}`,Oc(e),n);if(t==xe.Unary&&i&&!i.binary)return{isUnaryError:!0,unaryError:s};throw s}return{isUnaryError:!1}}const Kr="application/";function vc(t,e){return e?hn.enc(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(t))}function Cc(t,e,n){let r=`?connect=v${Xi}`;const i=t.header.get(Fn);i?.indexOf(Kr)===0&&(r+="&encoding="+encodeURIComponent(i.slice(Kr.length)));const s=t.header.get(Yr);s!==null&&s!=="identity"&&(r+="&compression="+encodeURIComponent(s),n=!0),n&&(r+="&base64=1"),r+="&message="+vc(e,n);const o=t.url+r,a=new Headers(t.header);return[qi,Fn,xc,Yr,Tc].forEach(c=>a.delete(c)),Object.assign(Object.assign({},t),{init:Object.assign(Object.assign({},t.init),{method:"GET"}),url:o,header:a})}function Bc(t){const e=Zi(t.next,t.interceptors),[n,r,i]=Ki(t),s=Object.assign(Object.assign({},t.req),{message:zi(t.req.method.I,t.req.message),signal:n});return e(s).then(o=>(i(),o),r)}function Uc(t){const e=Zi(t.next,t.interceptors),[n,r,i]=Ki(t),s=Object.assign(Object.assign({},t.req),{message:gc(t.req.method.I,t.req.message),signal:n});let o=!1;return n.addEventListener("abort",function(){var a,c;const l=t.req.message[Symbol.asyncIterator]();o||(a=l.throw)===null||a===void 0||a.call(l,this.reason).catch(()=>{}),(c=l.return)===null||c===void 0||c.call(l).catch(()=>{})}),e(s).then(a=>Object.assign(Object.assign({},a),{message:{[Symbol.asyncIterator](){const c=a.message[Symbol.asyncIterator]();return{next(){return c.next().then(l=>(l.done==!0&&(o=!0,i()),l),r)}}}}}),r)}function Ki(t){const{signal:e,cleanup:n}=mc(t.timeoutMs),r=hc(t.signal,e);return[r.signal,function(s){const o=ce.from(e.aborted?Hi(e):s);return r.abort(o),n(),Promise.reject(o)},function(){n(),r.abort()}]}function Zi(t,e){var n;return(n=e?.concat().reverse().reduce((r,i)=>i(r),t))!==null&&n!==void 0?n:t}function jc(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var Ft=function(t){return this instanceof Ft?(this.v=t,this):new Ft(t)},Pc=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(g){return new Promise(function(p,b){s.push([h,g,p,b])>1||a(h,g)})})}function a(h,g){try{c(r[h](g))}catch(p){m(s[0][3],p)}}function c(h){h.value instanceof Ft?Promise.resolve(h.value.v).then(l,d):m(s[0][2],h)}function l(h){a("next",h)}function d(h){a("throw",h)}function m(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}};function Rc(t){var e;jc();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!1;return{async unary(r,i,s,o,a,c,l){var d;const{serialize:m,parse:h}=Jr(i,n,t.jsonOptions,t.binaryOptions);return o=o===void 0?t.defaultTimeoutMs:o<=0?void 0:o,await Bc({interceptors:t.interceptors,signal:s,timeoutMs:o,req:{stream:!1,service:r,method:i,url:Vr(t.baseUrl,r,i),init:{method:"POST",credentials:(d=t.credentials)!==null&&d!==void 0?d:"same-origin",redirect:"error",mode:"cors"},header:qr(i.kind,n,o,a),contextValues:l??Fr(),message:c},next:async g=>{var p;const b=t.useHttpGet===!0&&i.idempotency===$n.NoSideEffects;let E=null;b?g=Cc(g,m(g.message),n):E=m(g.message);const T=await((p=t.fetch)!==null&&p!==void 0?p:globalThis.fetch)(g.url,Object.assign(Object.assign({},g.init),{headers:g.header,signal:g.signal,body:E})),{isUnaryError:D,unaryError:S}=Xr(i.kind,T.status,T.headers);if(D)throw Wi(await T.json(),Za(...Wr(T.headers)),S);const[U,L]=Wr(T.headers);return{stream:!1,service:r,method:i,header:U,message:n?h(new Uint8Array(await T.arrayBuffer())):i.O.fromJson(await T.json(),Yi(t.jsonOptions)),trailer:L}}})},async stream(r,i,s,o,a,c,l){var d;const{serialize:m,parse:h}=Jr(i,n,t.jsonOptions,t.binaryOptions);function g(b,E){return Pc(this,arguments,function*(){const T=ec(b).getReader();let D=!1;for(;;){const S=yield Ft(T.read());if(S.done)break;const{flags:U,data:L}=S.value;if((U&zr)===zr){D=!0;const V=Nc(L);if(V.error)throw V.error;V.metadata.forEach((P,I)=>E.set(I,P));continue}yield yield Ft(h(L))}if(!D)throw"missing EndStreamResponse"})}async function p(b){if(i.kind!=xe.ServerStreaming)throw"The fetch API does not support streaming request bodies";const E=await b[Symbol.asyncIterator]().next();if(E.done==!0)throw"missing request message";return tc(0,m(E.value))}return o=o===void 0?t.defaultTimeoutMs:o<=0?void 0:o,await Uc({interceptors:t.interceptors,timeoutMs:o,signal:s,req:{stream:!0,service:r,method:i,url:Vr(t.baseUrl,r,i),init:{method:"POST",credentials:(d=t.credentials)!==null&&d!==void 0?d:"same-origin",redirect:"error",mode:"cors"},header:qr(i.kind,n,o,a),contextValues:l??Fr(),message:c},next:async b=>{var E;const T=await((E=t.fetch)!==null&&E!==void 0?E:globalThis.fetch)(b.url,Object.assign(Object.assign({},b.init),{headers:b.header,signal:b.signal,body:await p(b.message)}));if(Xr(i.kind,T.status,T.headers),T.body===null)throw"missing response body";const D=new Headers;return Object.assign(Object.assign({},b),{header:T.headers,trailer:D,message:g(T.body,D)})}})}}}var ft;(function(t){t.INACTIVE="inactive",t.PROCESSING="processing",t.SUCCESS="success",t.WARNING="warning",t.ERROR="error"})(ft||(ft={}));function kc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zr(Object(n),!0).forEach(function(r){kc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _c(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lc(t,e){if(t==null)return{};var n=_c(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dc(t,e){return $c(t)||Mc(t,e)||Fc(t,e)||Vc()}function $c(t){if(Array.isArray(t))return t}function Mc(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Fc(t,e){if(t){if(typeof t=="string")return ei(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(t,e)}}function ei(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ti(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ti(Object(n),!0).forEach(function(r){Jc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function Pt(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function on(t){return{}.toString.call(t).includes("Object")}function Hc(t){return!Object.keys(t).length}function Vt(t){return typeof t=="function"}function zc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yc(t,e){return on(e)||at("changeType"),Object.keys(e).some(function(n){return!zc(t,n)})&&at("changeField"),e}function Wc(t){Vt(t)||at("selectorType")}function qc(t){Vt(t)||on(t)||at("handlerType"),on(t)&&Object.values(t).some(function(e){return!Vt(e)})&&at("handlersType")}function Xc(t){t||at("initialIsRequired"),on(t)||at("initialType"),Hc(t)&&at("initialContent")}function Kc(t,e){throw new Error(t[e]||t.default)}var Zc={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},at=Pt(Kc)(Zc),Zt={changes:Yc,selector:Wc,handler:qc,initial:Xc};function Qc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zt.initial(t),Zt.handler(e);var n={current:t},r=Pt(nl)(n,e),i=Pt(tl)(n),s=Pt(Zt.changes)(t),o=Pt(el)(n);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return Zt.selector(l),l(n.current)}function c(l){Gc(r,i,s,o)(l)}return[a,c]}function el(t,e){return Vt(e)?e(t.current):e}function tl(t,e){return t.current=ni(ni({},t.current),e),e}function nl(t,e,n){return Vt(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var rl={create:Qc},il={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function sl(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function ol(t){return{}.toString.call(t).includes("Object")}function al(t){return t||ri("configIsRequired"),ol(t)||ri("configType"),t.urls?(cl(),{paths:{vs:t.urls.monacoBase}}):t}function cl(){console.warn(Qi.deprecation)}function ll(t,e){throw new Error(t[e]||t.default)}var Qi={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ri=sl(ll)(Qi),ul={config:al},fl=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,o){return o(s)},i)}};function es(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],es(t[n],e[n]))}),Qr(Qr({},t),e)}var dl={type:"cancelation",msg:"operation is manually canceled"};function On(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(dl):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var hl=rl.create({config:il,isInitialized:!1,resolve:null,reject:null,monaco:null}),ts=Dc(hl,2),Wt=ts[0],mn=ts[1];function ml(t){var e=ul.config(t),n=e.monaco,r=Lc(e,["monaco"]);mn(function(i){return{config:es(i.config,r),monaco:n}})}function gl(){var t=Wt(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(mn({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),On(vn);if(window.monaco&&window.monaco.editor)return ns(window.monaco),t.resolve(window.monaco),On(vn);fl(pl,yl)(wl)}return On(vn)}function pl(t){return document.body.appendChild(t)}function bl(t){var e=document.createElement("script");return t&&(e.src=t),e}function yl(t){var e=Wt(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=bl("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function wl(){var t=Wt(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){ns(n),t.resolve(n)},function(n){t.reject(n)})}function ns(t){Wt().monaco||mn({monaco:t})}function El(){return Wt(function(t){var e=t.monaco;return e})}var vn=new Promise(function(t,e){return mn({resolve:t,reject:e})}),rs={config:ml,init:gl,__getMonacoInstance:El},Sl={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Cn=Sl,Nl={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},xl=Nl;function Tl({children:t}){return te.createElement("div",{style:xl.container},t)}var Il=Tl,Al=Il;function Ol({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return te.createElement("section",{style:{...Cn.wrapper,width:t,height:e},...o},!n&&te.createElement(Al,null,r),te.createElement("div",{ref:i,style:{...Cn.fullWidth,...!n&&Cn.hide},className:s}))}var vl=Ol,is=w.memo(vl);function Cl(t){w.useEffect(t,[])}var ss=Cl;function Bl(t,e,n=!0){let r=w.useRef(!0);w.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var ye=Bl;function Dt(){}function Et(t,e,n,r){return Ul(t,r)||jl(t,e,n,r)}function Ul(t,e){return t.editor.getModel(os(t,e))}function jl(t,e,n,r){return t.editor.createModel(e,n,r?os(t,r):void 0)}function os(t,e){return t.Uri.parse(e)}function Pl({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:l="light",loading:d="Loading...",options:m={},height:h="100%",width:g="100%",className:p,wrapperProps:b={},beforeMount:E=Dt,onMount:j=Dt}){let[T,D]=w.useState(!1),[S,U]=w.useState(!0),L=w.useRef(null),V=w.useRef(null),P=w.useRef(null),I=w.useRef(j),B=w.useRef(E),R=w.useRef(!1);ss(()=>{let M=rs.init();return M.then(H=>(V.current=H)&&U(!1)).catch(H=>H?.type!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>L.current?O():M.cancel()}),ye(()=>{if(L.current&&V.current){let M=L.current.getOriginalEditor(),H=Et(V.current,t||"",r||n||"text",s||"");H!==M.getModel()&&M.setModel(H)}},[s],T),ye(()=>{if(L.current&&V.current){let M=L.current.getModifiedEditor(),H=Et(V.current,e||"",i||n||"text",o||"");H!==M.getModel()&&M.setModel(H)}},[o],T),ye(()=>{let M=L.current.getModifiedEditor();M.getOption(V.current.editor.EditorOption.readOnly)?M.setValue(e||""):e!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),M.pushUndoStop())},[e],T),ye(()=>{L.current?.getModel()?.original.setValue(t||"")},[t],T),ye(()=>{let{original:M,modified:H}=L.current.getModel();V.current.editor.setModelLanguage(M,r||n||"text"),V.current.editor.setModelLanguage(H,i||n||"text")},[n,r,i],T),ye(()=>{V.current?.editor.setTheme(l)},[l],T),ye(()=>{L.current?.updateOptions(m)},[m],T);let J=w.useCallback(()=>{if(!V.current)return;B.current(V.current);let M=Et(V.current,t||"",r||n||"text",s||""),H=Et(V.current,e||"",i||n||"text",o||"");L.current?.setModel({original:M,modified:H})},[n,e,i,t,r,s,o]),x=w.useCallback(()=>{!R.current&&P.current&&(L.current=V.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...m}),J(),V.current?.editor.setTheme(l),D(!0),R.current=!0)},[m,l,J]);w.useEffect(()=>{T&&I.current(L.current,V.current)},[T]),w.useEffect(()=>{!S&&!T&&x()},[S,T,x]);function O(){let M=L.current?.getModel();a||M?.original?.dispose(),c||M?.modified?.dispose(),L.current?.dispose()}return te.createElement(is,{width:g,height:h,isEditorReady:T,loading:d,_ref:P,className:p,wrapperProps:b})}var Rl=Pl;w.memo(Rl);function kl(t){let e=w.useRef();return w.useEffect(()=>{e.current=t},[t]),e.current}var _l=kl,Qt=new Map;function Ll({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:a,loading:c="Loading...",options:l={},overrideServices:d={},saveViewState:m=!0,keepCurrentModel:h=!1,width:g="100%",height:p="100%",className:b,wrapperProps:E={},beforeMount:j=Dt,onMount:T=Dt,onChange:D,onValidate:S=Dt}){let[U,L]=w.useState(!1),[V,P]=w.useState(!0),I=w.useRef(null),B=w.useRef(null),R=w.useRef(null),J=w.useRef(T),x=w.useRef(j),O=w.useRef(),M=w.useRef(r),H=_l(s),Y=w.useRef(!1),ne=w.useRef(!1);ss(()=>{let re=rs.init();return re.then(ae=>(I.current=ae)&&P(!1)).catch(ae=>ae?.type!=="cancelation"&&console.error("Monaco initialization: error:",ae)),()=>B.current?Ce():re.cancel()}),ye(()=>{let re=Et(I.current,t||r||"",e||i||"",s||n||"");re!==B.current?.getModel()&&(m&&Qt.set(H,B.current?.saveViewState()),B.current?.setModel(re),m&&B.current?.restoreViewState(Qt.get(s)))},[s],U),ye(()=>{B.current?.updateOptions(l)},[l],U),ye(()=>{!B.current||r===void 0||(B.current.getOption(I.current.editor.EditorOption.readOnly)?B.current.setValue(r):r!==B.current.getValue()&&(ne.current=!0,B.current.executeEdits("",[{range:B.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),B.current.pushUndoStop(),ne.current=!1))},[r],U),ye(()=>{let re=B.current?.getModel();re&&i&&I.current?.editor.setModelLanguage(re,i)},[i],U),ye(()=>{a!==void 0&&B.current?.revealLine(a)},[a],U),ye(()=>{I.current?.editor.setTheme(o)},[o],U);let Ee=w.useCallback(()=>{if(!(!R.current||!I.current)&&!Y.current){x.current(I.current);let re=s||n,ae=Et(I.current,r||t||"",e||i||"",re||"");B.current=I.current?.editor.create(R.current,{model:ae,automaticLayout:!0,...l},d),m&&B.current.restoreViewState(Qt.get(re)),I.current.editor.setTheme(o),a!==void 0&&B.current.revealLine(a),L(!0),Y.current=!0}},[t,e,n,r,i,s,l,d,m,o,a]);w.useEffect(()=>{U&&J.current(B.current,I.current)},[U]),w.useEffect(()=>{!V&&!U&&Ee()},[V,U,Ee]),M.current=r,w.useEffect(()=>{U&&D&&(O.current?.dispose(),O.current=B.current?.onDidChangeModelContent(re=>{ne.current||D(B.current.getValue(),re)}))},[U,D]),w.useEffect(()=>{if(U){let re=I.current.editor.onDidChangeMarkers(ae=>{let le=B.current.getModel()?.uri;if(le&&ae.find(he=>he.path===le.path)){let he=I.current.editor.getModelMarkers({resource:le});S?.(he)}});return()=>{re?.dispose()}}return()=>{}},[U,S]);function Ce(){O.current?.dispose(),h?m&&Qt.set(s,B.current.saveViewState()):B.current.getModel()?.dispose(),B.current.dispose()}return te.createElement(is,{width:g,height:p,isEditorReady:U,loading:c,_ref:R,className:b,wrapperProps:E})}var Dl=Ll,$l=w.memo(Dl),Ml=$l;const Fl=t=>{switch(t){case"typescript":case"tsx":case"javascript":case"java":return`// Welcome to Codeium Editor!
// Press Enter and use Tab to accept AI suggestions. Here's an example:

// fib(n) function to calculate the n-th fibonacci number`;case"python":return`# Welcome to Codeium Editor!
# Press Enter and use Tab to accept AI suggestions. Here's an example:

# fib(n) function to calculate the n-th fibonacci number`;case"css":return`/* Welcome to Codeium Editor!
Press Enter and use Tab to accept AI suggestions. Here's an example:*/

/* .action-button class with a hover effect. */`;default:return""}};var an;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.JUPYTER_FORMAT=77]="JUPYTER_FORMAT"})(an||(an={}));N.util.setEnumType(an,"exa.codeium_common_pb.ExperimentKey",[{no:0,name:"UNSPECIFIED"},{no:77,name:"JUPYTER_FORMAT"}]);var Jt;(function(t){t[t.CODEIUM=0]="CODEIUM"})(Jt||(Jt={}));N.util.setEnumType(Jt,"exa.codeium_common_pb.AuthSource",[{no:0,name:"AUTH_SOURCE_CODEIUM"}]);var Gt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ENABLE_CODEIUM=1]="ENABLE_CODEIUM",t[t.DISABLE_CODEIUM=2]="DISABLE_CODEIUM",t[t.SHOW_PREVIOUS_COMPLETION=3]="SHOW_PREVIOUS_COMPLETION",t[t.SHOW_NEXT_COMPLETION=4]="SHOW_NEXT_COMPLETION"})(Gt||(Gt={}));N.util.setEnumType(Gt,"exa.codeium_common_pb.EventType",[{no:0,name:"EVENT_TYPE_UNSPECIFIED"},{no:1,name:"EVENT_TYPE_ENABLE_CODEIUM"},{no:2,name:"EVENT_TYPE_DISABLE_CODEIUM"},{no:3,name:"EVENT_TYPE_SHOW_PREVIOUS_COMPLETION"},{no:4,name:"EVENT_TYPE_SHOW_NEXT_COMPLETION"}]);var Ht;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.TYPING_AS_SUGGESTED=1]="TYPING_AS_SUGGESTED",t[t.CACHE=2]="CACHE",t[t.NETWORK=3]="NETWORK"})(Ht||(Ht={}));N.util.setEnumType(Ht,"exa.codeium_common_pb.CompletionSource",[{no:0,name:"COMPLETION_SOURCE_UNSPECIFIED"},{no:1,name:"COMPLETION_SOURCE_TYPING_AS_SUGGESTED"},{no:2,name:"COMPLETION_SOURCE_CACHE"},{no:3,name:"COMPLETION_SOURCE_NETWORK"}]);var C;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.C=1]="C",t[t.CLOJURE=2]="CLOJURE",t[t.COFFEESCRIPT=3]="COFFEESCRIPT",t[t.CPP=4]="CPP",t[t.CSHARP=5]="CSHARP",t[t.CSS=6]="CSS",t[t.CUDACPP=7]="CUDACPP",t[t.DOCKERFILE=8]="DOCKERFILE",t[t.GO=9]="GO",t[t.GROOVY=10]="GROOVY",t[t.HANDLEBARS=11]="HANDLEBARS",t[t.HASKELL=12]="HASKELL",t[t.HCL=13]="HCL",t[t.HTML=14]="HTML",t[t.INI=15]="INI",t[t.JAVA=16]="JAVA",t[t.JAVASCRIPT=17]="JAVASCRIPT",t[t.JSON=18]="JSON",t[t.JULIA=19]="JULIA",t[t.KOTLIN=20]="KOTLIN",t[t.LATEX=21]="LATEX",t[t.LESS=22]="LESS",t[t.LUA=23]="LUA",t[t.MAKEFILE=24]="MAKEFILE",t[t.MARKDOWN=25]="MARKDOWN",t[t.OBJECTIVEC=26]="OBJECTIVEC",t[t.OBJECTIVECPP=27]="OBJECTIVECPP",t[t.PERL=28]="PERL",t[t.PHP=29]="PHP",t[t.PLAINTEXT=30]="PLAINTEXT",t[t.PROTOBUF=31]="PROTOBUF",t[t.PBTXT=32]="PBTXT",t[t.PYTHON=33]="PYTHON",t[t.R=34]="R",t[t.RUBY=35]="RUBY",t[t.RUST=36]="RUST",t[t.SASS=37]="SASS",t[t.SCALA=38]="SCALA",t[t.SCSS=39]="SCSS",t[t.SHELL=40]="SHELL",t[t.SQL=41]="SQL",t[t.STARLARK=42]="STARLARK",t[t.SWIFT=43]="SWIFT",t[t.TSX=44]="TSX",t[t.TYPESCRIPT=45]="TYPESCRIPT",t[t.VISUALBASIC=46]="VISUALBASIC",t[t.VUE=47]="VUE",t[t.XML=48]="XML",t[t.XSL=49]="XSL",t[t.YAML=50]="YAML",t[t.SVELTE=51]="SVELTE",t[t.TOML=52]="TOML",t[t.DART=53]="DART",t[t.RST=54]="RST",t[t.OCAML=55]="OCAML",t[t.CMAKE=56]="CMAKE",t[t.PASCAL=57]="PASCAL",t[t.ELIXIR=58]="ELIXIR",t[t.FSHARP=59]="FSHARP",t[t.LISP=60]="LISP",t[t.MATLAB=61]="MATLAB",t[t.POWERSHELL=62]="POWERSHELL",t[t.SOLIDITY=63]="SOLIDITY",t[t.ADA=64]="ADA",t[t.OCAML_INTERFACE=65]="OCAML_INTERFACE"})(C||(C={}));N.util.setEnumType(C,"exa.codeium_common_pb.Language",[{no:0,name:"LANGUAGE_UNSPECIFIED"},{no:1,name:"LANGUAGE_C"},{no:2,name:"LANGUAGE_CLOJURE"},{no:3,name:"LANGUAGE_COFFEESCRIPT"},{no:4,name:"LANGUAGE_CPP"},{no:5,name:"LANGUAGE_CSHARP"},{no:6,name:"LANGUAGE_CSS"},{no:7,name:"LANGUAGE_CUDACPP"},{no:8,name:"LANGUAGE_DOCKERFILE"},{no:9,name:"LANGUAGE_GO"},{no:10,name:"LANGUAGE_GROOVY"},{no:11,name:"LANGUAGE_HANDLEBARS"},{no:12,name:"LANGUAGE_HASKELL"},{no:13,name:"LANGUAGE_HCL"},{no:14,name:"LANGUAGE_HTML"},{no:15,name:"LANGUAGE_INI"},{no:16,name:"LANGUAGE_JAVA"},{no:17,name:"LANGUAGE_JAVASCRIPT"},{no:18,name:"LANGUAGE_JSON"},{no:19,name:"LANGUAGE_JULIA"},{no:20,name:"LANGUAGE_KOTLIN"},{no:21,name:"LANGUAGE_LATEX"},{no:22,name:"LANGUAGE_LESS"},{no:23,name:"LANGUAGE_LUA"},{no:24,name:"LANGUAGE_MAKEFILE"},{no:25,name:"LANGUAGE_MARKDOWN"},{no:26,name:"LANGUAGE_OBJECTIVEC"},{no:27,name:"LANGUAGE_OBJECTIVECPP"},{no:28,name:"LANGUAGE_PERL"},{no:29,name:"LANGUAGE_PHP"},{no:30,name:"LANGUAGE_PLAINTEXT"},{no:31,name:"LANGUAGE_PROTOBUF"},{no:32,name:"LANGUAGE_PBTXT"},{no:33,name:"LANGUAGE_PYTHON"},{no:34,name:"LANGUAGE_R"},{no:35,name:"LANGUAGE_RUBY"},{no:36,name:"LANGUAGE_RUST"},{no:37,name:"LANGUAGE_SASS"},{no:38,name:"LANGUAGE_SCALA"},{no:39,name:"LANGUAGE_SCSS"},{no:40,name:"LANGUAGE_SHELL"},{no:41,name:"LANGUAGE_SQL"},{no:42,name:"LANGUAGE_STARLARK"},{no:43,name:"LANGUAGE_SWIFT"},{no:44,name:"LANGUAGE_TSX"},{no:45,name:"LANGUAGE_TYPESCRIPT"},{no:46,name:"LANGUAGE_VISUALBASIC"},{no:47,name:"LANGUAGE_VUE"},{no:48,name:"LANGUAGE_XML"},{no:49,name:"LANGUAGE_XSL"},{no:50,name:"LANGUAGE_YAML"},{no:51,name:"LANGUAGE_SVELTE"},{no:52,name:"LANGUAGE_TOML"},{no:53,name:"LANGUAGE_DART"},{no:54,name:"LANGUAGE_RST"},{no:55,name:"LANGUAGE_OCAML"},{no:56,name:"LANGUAGE_CMAKE"},{no:57,name:"LANGUAGE_PASCAL"},{no:58,name:"LANGUAGE_ELIXIR"},{no:59,name:"LANGUAGE_FSHARP"},{no:60,name:"LANGUAGE_LISP"},{no:61,name:"LANGUAGE_MATLAB"},{no:62,name:"LANGUAGE_POWERSHELL"},{no:63,name:"LANGUAGE_SOLIDITY"},{no:64,name:"LANGUAGE_ADA"},{no:65,name:"LANGUAGE_OCAML_INTERFACE"}]);class Ve extends ee{constructor(e){super(),this.completionId="",this.text="",this.prefix="",this.stop="",this.score=0,this.tokens=[],this.decodedTokens=[],this.probabilities=[],this.adjustedProbabilities=[],this.generatedLength=Z.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Ve().fromBinary(e,n)}static fromJson(e,n){return new Ve().fromJson(e,n)}static fromJsonString(e,n){return new Ve().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ve,e,n)}}Ve.runtime=N;Ve.typeName="exa.codeium_common_pb.Completion";Ve.fields=N.util.newFieldList(()=>[{no:1,name:"completion_id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"prefix",kind:"scalar",T:9},{no:4,name:"stop",kind:"scalar",T:9},{no:5,name:"score",kind:"scalar",T:1},{no:6,name:"tokens",kind:"scalar",T:4,repeated:!0},{no:7,name:"decoded_tokens",kind:"scalar",T:9,repeated:!0},{no:8,name:"probabilities",kind:"scalar",T:1,repeated:!0},{no:9,name:"adjusted_probabilities",kind:"scalar",T:1,repeated:!0},{no:10,name:"generated_length",kind:"scalar",T:4}]);class Oe extends ee{constructor(e){super(),this.ideName="",this.ideVersion="",this.extensionName="",this.extensionVersion="",this.apiKey="",this.locale="",this.sessionId="",this.requestId=Z.zero,this.userAgent="",this.url="",this.authSource=Jt.CODEIUM,N.util.initPartial(e,this)}static fromBinary(e,n){return new Oe().fromBinary(e,n)}static fromJson(e,n){return new Oe().fromJson(e,n)}static fromJsonString(e,n){return new Oe().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Oe,e,n)}}Oe.runtime=N;Oe.typeName="exa.codeium_common_pb.Metadata";Oe.fields=N.util.newFieldList(()=>[{no:1,name:"ide_name",kind:"scalar",T:9},{no:7,name:"ide_version",kind:"scalar",T:9},{no:12,name:"extension_name",kind:"scalar",T:9},{no:2,name:"extension_version",kind:"scalar",T:9},{no:3,name:"api_key",kind:"scalar",T:9},{no:4,name:"locale",kind:"scalar",T:9},{no:10,name:"session_id",kind:"scalar",T:9},{no:9,name:"request_id",kind:"scalar",T:4},{no:13,name:"user_agent",kind:"scalar",T:9},{no:14,name:"url",kind:"scalar",T:9},{no:15,name:"auth_source",kind:"enum",T:N.getEnumType(Jt)}]);class Je extends ee{constructor(e){super(),this.tabSize=Z.zero,this.insertSpaces=!1,N.util.initPartial(e,this)}static fromBinary(e,n){return new Je().fromBinary(e,n)}static fromJson(e,n){return new Je().fromJson(e,n)}static fromJsonString(e,n){return new Je().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Je,e,n)}}Je.runtime=N;Je.typeName="exa.codeium_common_pb.EditorOptions";Je.fields=N.util.newFieldList(()=>[{no:1,name:"tab_size",kind:"scalar",T:4},{no:2,name:"insert_spaces",kind:"scalar",T:8}]);let Zn=class Rt extends ee{constructor(e){super(),this.eventType=Gt.UNSPECIFIED,this.eventJson="",this.timestampUnixMs=Z.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Rt().fromBinary(e,n)}static fromJson(e,n){return new Rt().fromJson(e,n)}static fromJsonString(e,n){return new Rt().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Rt,e,n)}};Zn.runtime=N;Zn.typeName="exa.codeium_common_pb.Event";Zn.fields=N.util.newFieldList(()=>[{no:1,name:"event_type",kind:"enum",T:N.getEnumType(Gt)},{no:2,name:"event_json",kind:"scalar",T:9},{no:3,name:"timestamp_unix_ms",kind:"scalar",T:3}]);var zt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.INACTIVE=1]="INACTIVE",t[t.PROCESSING=2]="PROCESSING",t[t.SUCCESS=3]="SUCCESS",t[t.WARNING=4]="WARNING",t[t.ERROR=5]="ERROR"})(zt||(zt={}));N.util.setEnumType(zt,"exa.language_server_pb.CodeiumState",[{no:0,name:"CODEIUM_STATE_UNSPECIFIED"},{no:1,name:"CODEIUM_STATE_INACTIVE"},{no:2,name:"CODEIUM_STATE_PROCESSING"},{no:3,name:"CODEIUM_STATE_SUCCESS"},{no:4,name:"CODEIUM_STATE_WARNING"},{no:5,name:"CODEIUM_STATE_ERROR"}]);var Vn;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SINGLE=1]="SINGLE",t[t.MULTI=2]="MULTI"})(Vn||(Vn={}));N.util.setEnumType(Vn,"exa.language_server_pb.LineType",[{no:0,name:"LINE_TYPE_UNSPECIFIED"},{no:1,name:"LINE_TYPE_SINGLE"},{no:2,name:"LINE_TYPE_MULTI"}]);var Yt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.INLINE=1]="INLINE",t[t.BLOCK=2]="BLOCK",t[t.INLINE_MASK=3]="INLINE_MASK"})(Yt||(Yt={}));N.util.setEnumType(Yt,"exa.language_server_pb.CompletionPartType",[{no:0,name:"COMPLETION_PART_TYPE_UNSPECIFIED"},{no:1,name:"COMPLETION_PART_TYPE_INLINE"},{no:2,name:"COMPLETION_PART_TYPE_BLOCK"},{no:3,name:"COMPLETION_PART_TYPE_INLINE_MASK"}]);class Ue extends ee{constructor(e){super(),this.threshold=0,N.util.initPartial(e,this)}static fromBinary(e,n){return new Ue().fromBinary(e,n)}static fromJson(e,n){return new Ue().fromJson(e,n)}static fromJsonString(e,n){return new Ue().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ue,e,n)}}Ue.runtime=N;Ue.typeName="exa.language_server_pb.MultilineConfig";Ue.fields=N.util.newFieldList(()=>[{no:1,name:"threshold",kind:"scalar",T:2}]);class Ge extends ee{constructor(e){super(),this.otherDocuments=[],this.modelName="",N.util.initPartial(e,this)}static fromBinary(e,n){return new Ge().fromBinary(e,n)}static fromJson(e,n){return new Ge().fromJson(e,n)}static fromJsonString(e,n){return new Ge().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ge,e,n)}}Ge.runtime=N;Ge.typeName="exa.language_server_pb.GetCompletionsRequest";Ge.fields=N.util.newFieldList(()=>[{no:1,name:"metadata",kind:"message",T:Oe},{no:2,name:"document",kind:"message",T:It},{no:3,name:"editor_options",kind:"message",T:Je},{no:5,name:"other_documents",kind:"message",T:It,repeated:!0},{no:7,name:"experiment_config",kind:"message",T:Xe},{no:10,name:"model_name",kind:"scalar",T:9},{no:13,name:"multiline_config",kind:"message",T:Ue}]);class He extends ee{constructor(e){super(),this.completionItems=[],N.util.initPartial(e,this)}static fromBinary(e,n){return new He().fromBinary(e,n)}static fromJson(e,n){return new He().fromJson(e,n)}static fromJsonString(e,n){return new He().fromJsonString(e,n)}static equals(e,n){return N.util.equals(He,e,n)}}He.runtime=N;He.typeName="exa.language_server_pb.GetCompletionsResponse";He.fields=N.util.newFieldList(()=>[{no:1,name:"state",kind:"message",T:Ke},{no:2,name:"completion_items",kind:"message",T:et,repeated:!0}]);class ze extends ee{constructor(e){super(),this.completionId="",N.util.initPartial(e,this)}static fromBinary(e,n){return new ze().fromBinary(e,n)}static fromJson(e,n){return new ze().fromJson(e,n)}static fromJsonString(e,n){return new ze().fromJsonString(e,n)}static equals(e,n){return N.util.equals(ze,e,n)}}ze.runtime=N;ze.typeName="exa.language_server_pb.AcceptCompletionRequest";ze.fields=N.util.newFieldList(()=>[{no:1,name:"metadata",kind:"message",T:Oe},{no:2,name:"completion_id",kind:"scalar",T:9}]);class Ye extends ee{constructor(e){super(),N.util.initPartial(e,this)}static fromBinary(e,n){return new Ye().fromBinary(e,n)}static fromJson(e,n){return new Ye().fromJson(e,n)}static fromJsonString(e,n){return new Ye().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ye,e,n)}}Ye.runtime=N;Ye.typeName="exa.language_server_pb.AcceptCompletionResponse";Ye.fields=N.util.newFieldList(()=>[]);class We extends ee{constructor(e){super(),N.util.initPartial(e,this)}static fromBinary(e,n){return new We().fromBinary(e,n)}static fromJson(e,n){return new We().fromJson(e,n)}static fromJsonString(e,n){return new We().fromJsonString(e,n)}static equals(e,n){return N.util.equals(We,e,n)}}We.runtime=N;We.typeName="exa.language_server_pb.GetAuthTokenRequest";We.fields=N.util.newFieldList(()=>[]);class qe extends ee{constructor(e){super(),this.authToken="",this.uuid="",N.util.initPartial(e,this)}static fromBinary(e,n){return new qe().fromBinary(e,n)}static fromJson(e,n){return new qe().fromJson(e,n)}static fromJsonString(e,n){return new qe().fromJsonString(e,n)}static equals(e,n){return N.util.equals(qe,e,n)}}qe.runtime=N;qe.typeName="exa.language_server_pb.GetAuthTokenResponse";qe.fields=N.util.newFieldList(()=>[{no:1,name:"auth_token",kind:"scalar",T:9},{no:2,name:"uuid",kind:"scalar",T:9}]);class ve extends ee{constructor(e){super(),this.row=Z.zero,this.col=Z.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new ve().fromBinary(e,n)}static fromJson(e,n){return new ve().fromJson(e,n)}static fromJsonString(e,n){return new ve().fromJsonString(e,n)}static equals(e,n){return N.util.equals(ve,e,n)}}ve.runtime=N;ve.typeName="exa.language_server_pb.DocumentPosition";ve.fields=N.util.newFieldList(()=>[{no:1,name:"row",kind:"scalar",T:4},{no:2,name:"col",kind:"scalar",T:4}]);let It=class kt extends ee{constructor(e){super(),this.absolutePath="",this.relativePath="",this.text="",this.editorLanguage="",this.language=C.UNSPECIFIED,this.cursorOffset=Z.zero,this.lineEnding="",N.util.initPartial(e,this)}static fromBinary(e,n){return new kt().fromBinary(e,n)}static fromJson(e,n){return new kt().fromJson(e,n)}static fromJsonString(e,n){return new kt().fromJsonString(e,n)}static equals(e,n){return N.util.equals(kt,e,n)}};It.runtime=N;It.typeName="exa.language_server_pb.Document";It.fields=N.util.newFieldList(()=>[{no:1,name:"absolute_path",kind:"scalar",T:9},{no:2,name:"relative_path",kind:"scalar",T:9},{no:3,name:"text",kind:"scalar",T:9},{no:4,name:"editor_language",kind:"scalar",T:9},{no:5,name:"language",kind:"enum",T:N.getEnumType(C)},{no:6,name:"cursor_offset",kind:"scalar",T:4},{no:8,name:"cursor_position",kind:"message",T:ve},{no:7,name:"line_ending",kind:"scalar",T:9}]);class Xe extends ee{constructor(e){super(),this.forceEnableExperiments=[],N.util.initPartial(e,this)}static fromBinary(e,n){return new Xe().fromBinary(e,n)}static fromJson(e,n){return new Xe().fromJson(e,n)}static fromJsonString(e,n){return new Xe().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Xe,e,n)}}Xe.runtime=N;Xe.typeName="exa.language_server_pb.ExperimentConfig";Xe.fields=N.util.newFieldList(()=>[{no:1,name:"force_enable_experiments",kind:"enum",T:N.getEnumType(an),repeated:!0}]);class Ke extends ee{constructor(e){super(),this.state=zt.UNSPECIFIED,this.message="",N.util.initPartial(e,this)}static fromBinary(e,n){return new Ke().fromBinary(e,n)}static fromJson(e,n){return new Ke().fromJson(e,n)}static fromJsonString(e,n){return new Ke().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ke,e,n)}}Ke.runtime=N;Ke.typeName="exa.language_server_pb.State";Ke.fields=N.util.newFieldList(()=>[{no:1,name:"state",kind:"enum",T:N.getEnumType(zt)},{no:2,name:"message",kind:"scalar",T:9}]);let gn=class _t extends ee{constructor(e){super(),this.startOffset=Z.zero,this.endOffset=Z.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new _t().fromBinary(e,n)}static fromJson(e,n){return new _t().fromJson(e,n)}static fromJsonString(e,n){return new _t().fromJsonString(e,n)}static equals(e,n){return N.util.equals(_t,e,n)}};gn.runtime=N;gn.typeName="exa.language_server_pb.Range";gn.fields=N.util.newFieldList(()=>[{no:1,name:"start_offset",kind:"scalar",T:4},{no:2,name:"end_offset",kind:"scalar",T:4},{no:3,name:"start_position",kind:"message",T:ve},{no:4,name:"end_position",kind:"message",T:ve}]);class Ze extends ee{constructor(e){super(),this.text="",this.deltaCursorOffset=Z.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Ze().fromBinary(e,n)}static fromJson(e,n){return new Ze().fromJson(e,n)}static fromJsonString(e,n){return new Ze().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ze,e,n)}}Ze.runtime=N;Ze.typeName="exa.language_server_pb.Suffix";Ze.fields=N.util.newFieldList(()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"delta_cursor_offset",kind:"scalar",T:3}]);class Qe extends ee{constructor(e){super(),this.text="",this.offset=Z.zero,this.type=Yt.UNSPECIFIED,this.prefix="",this.line=Z.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Qe().fromBinary(e,n)}static fromJson(e,n){return new Qe().fromJson(e,n)}static fromJsonString(e,n){return new Qe().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Qe,e,n)}}Qe.runtime=N;Qe.typeName="exa.language_server_pb.CompletionPart";Qe.fields=N.util.newFieldList(()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"offset",kind:"scalar",T:4},{no:3,name:"type",kind:"enum",T:N.getEnumType(Yt)},{no:4,name:"prefix",kind:"scalar",T:9},{no:5,name:"line",kind:"scalar",T:4}]);class et extends ee{constructor(e){super(),this.source=Ht.UNSPECIFIED,this.completionParts=[],N.util.initPartial(e,this)}static fromBinary(e,n){return new et().fromBinary(e,n)}static fromJson(e,n){return new et().fromJson(e,n)}static fromJsonString(e,n){return new et().fromJsonString(e,n)}static equals(e,n){return N.util.equals(et,e,n)}}et.runtime=N;et.typeName="exa.language_server_pb.CompletionItem";et.fields=N.util.newFieldList(()=>[{no:1,name:"completion",kind:"message",T:Ve},{no:5,name:"suffix",kind:"message",T:Ze},{no:2,name:"range",kind:"message",T:gn},{no:3,name:"source",kind:"enum",T:N.getEnumType(Ht)},{no:8,name:"completion_parts",kind:"message",T:Qe,repeated:!0}]);const Vl={typeName:"exa.language_server_pb.LanguageServerService",methods:{getCompletions:{name:"GetCompletions",I:Ge,O:He,kind:xe.Unary},acceptCompletion:{name:"AcceptCompletion",I:ze,O:Ye,kind:xe.Unary},getAuthToken:{name:"GetAuthToken",I:We,O:qe,kind:xe.Unary}}};class je{constructor(e,n){this.line=e,this.character=n,this.lineNumber=e+1,this.column=n+1}static fromMonaco(e){return new je(e.lineNumber-1,e.column-1)}static fromPosition(e){return new je(e.line,e.character)}}class At{constructor(e,n){this.start=e,this.end=n,this.startLineNumber=e.line+1,this.startColumn=e.character+1,this.endLineNumber=n.line+1,this.endColumn=n.character+1}static fromMonaco(e){return new At(new je(e.startLineNumber-1,e.startColumn-1),new je(e.endLineNumber-1,e.endColumn-1))}static fromRange(e){return new At(e.start,e.end)}}class Jl{constructor(e,n){this.text=e,this.range=n}}class Gl{constructor(e){this.model=e,this.uri=e.uri,this.languageId=e.getLanguageId()}get lineCount(){return this.model.getLineCount()}lineAt(e){return typeof e!="number"&&(e=e.line),new Jl(this.model.getLineContent(e+1),new At(new je(e,0),new je(e,this.model.getLineLength(e+1))))}offsetAt(e){return this.model.getOffsetAt(je.fromPosition(e))}positionAt(e){return je.fromMonaco(this.model.getPositionAt(e))}getText(e){return e?this.model.getValueInRange(At.fromRange(e)):this.model.getValue()}}function as(t){return t<128?1:t<2048?2:t<65536?3:4}function Hl(t,e){if(e===0)return 0;let n=0,r=0;for(const i of t)if(r+=i.length,n+=as(i.codePointAt(0)),e!==void 0&&r>=e)break;return n}function ii(t,e){if(e===0)return 0;let n=0,r=0;for(const i of t)if(r+=as(i.codePointAt(0)),n+=i.length,e!==void 0&&r>=e)break;return n}const zl=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Yl=()=>{try{return window.location.href}catch{return null}},Wl=()=>{try{return window.CODEIUM_REACT_CODE_VERSION?window.CODEIUM_REACT_CODE_VERSION:null}catch{return null}},ql=t=>{switch(t.toLowerCase()){case"c":return C.C;case"clojure":return C.CLOJURE;case"coffeescript":return C.COFFEESCRIPT;case"cpp":return C.CPP;case"csharp":return C.CSHARP;case"css":return C.CSS;case"cudacpp":return C.CUDACPP;case"dockerfile":return C.DOCKERFILE;case"go":return C.GO;case"groovy":return C.GROOVY;case"handlebars":return C.HANDLEBARS;case"haskell":return C.HASKELL;case"hcl":return C.HCL;case"html":return C.HTML;case"ini":return C.INI;case"java":return C.JAVA;case"javascript":return C.JAVASCRIPT;case"json":return C.JSON;case"julia":return C.JULIA;case"kotlin":return C.KOTLIN;case"latex":return C.LATEX;case"less":return C.LESS;case"lua":return C.LUA;case"makefile":return C.MAKEFILE;case"markdown":return C.MARKDOWN;case"objectivec":return C.OBJECTIVEC;case"objectivecpp":return C.OBJECTIVECPP;case"perl":return C.PERL;case"php":return C.PHP;case"plaintext":return C.PLAINTEXT;case"protobuf":return C.PROTOBUF;case"pbtxt":return C.PBTXT;case"python":return C.PYTHON;case"r":return C.R;case"ruby":return C.RUBY;case"rust":return C.RUST;case"sass":return C.SASS;case"scala":return C.SCALA;case"scss":return C.SCSS;case"shell":return C.SHELL;case"sql":return C.SQL;case"starlark":return C.STARLARK;case"swift":return C.SWIFT;case"tsx":return C.TSX;case"typescript":return C.TYPESCRIPT;case"visualbasic":return C.VISUALBASIC;case"vue":return C.VUE;case"xml":return C.XML;case"xsl":return C.XSL;case"yaml":return C.YAML;case"svelte":return C.SVELTE;case"toml":return C.TOML;case"dart":return C.DART;case"rst":return C.RST;case"ocaml":return C.OCAML;case"cmake":return C.CMAKE;case"pascal":return C.PASCAL;case"elixir":return C.ELIXIR;case"fsharp":return C.FSHARP;case"lisp":return C.LISP;case"matlab":return C.MATLAB;case"powershell":return C.POWERSHELL;case"solidity":return C.SOLIDITY;case"ada":return C.ADA;case"ocaml_interface":return C.OCAML_INTERFACE;default:return C.UNSPECIFIED}};class Xl{constructor(e,n,r){this.insertText=e,this.text=e,this.range=n,this.command={id:"codeium.acceptCompletion",title:"Accept Completion",arguments:[r,e]}}}const Kl="d49954eb-cfba-4992-980f-d8fb37f0e942";class Zl{constructor(e,n,r,i,s){this.setStatus=n,this.setMessage=r,this.apiKey=i,this.multilineModelThreshold=s,this.otherDocuments=[],this.sessionId=`react-editor-${zl()}`,this.client=e}getAuthHeader(){const e=this.getMetadata();return{Authorization:`Basic ${e.apiKey}-${e.sessionId}`}}getMetadata(){var e,n,r;return new Oe({ideName:"web",ideVersion:(e=Yl())!==null&&e!==void 0?e:"unknown",extensionName:"@codeium/react-code-editor",extensionVersion:(n=Wl())!==null&&n!==void 0?n:"unknown",apiKey:(r=this.apiKey)!==null&&r!==void 0?r:Kl,sessionId:this.sessionId})}provideInlineCompletions(e,n,r){return Xn(this,void 0,void 0,function*(){const i=new Gl(e),s=je.fromMonaco(n);r.onCancellationRequested(()=>{var E;return(E=r.cancellationCallback)===null||E===void 0?void 0:E.call(r)});const o=new AbortController;r.onCancellationRequested(()=>{o.abort()});const a=o.signal;this.setStatus(ft.PROCESSING),this.setMessage("Generating completions...");const c=this.getDocumentInfo(i,s),l={tabSize:BigInt(e.getOptions().tabSize),insertSpaces:e.getOptions().insertSpaces};let d=this.otherDocuments;d.length>10&&(console.warn(`Too many other documents: ${d.length} (max 10)`),d=d.slice(0,10));let m;this.multilineModelThreshold!==void 0&&(m=new Ue({threshold:this.multilineModelThreshold}));let h;try{h=yield this.client.getCompletions({metadata:this.getMetadata(),document:c,editorOptions:l,otherDocuments:d,multilineConfig:m},{signal:a,headers:this.getAuthHeader()})}catch(E){E instanceof ce&&E.code===q.Canceled||(this.setStatus(ft.ERROR),this.setMessage("Something went wrong; please try again."));return}if(!h.completionItems){const E=" No completions were generated";this.setStatus(ft.SUCCESS),this.setMessage(E);return}const p=h.completionItems.map(E=>this.createInlineCompletionItem(E,i)).filter(E=>!!E);this.setStatus(ft.SUCCESS);let b=`Generated ${p.length} completions`;return p.length===1&&(b="Generated 1 completion"),this.setMessage(b),{items:p}})}acceptedLastCompletion(e){new Promise((n,r)=>{this.client.acceptCompletion({metadata:this.getMetadata(),completionId:e},{headers:this.getAuthHeader()}).then(n).catch(i=>{console.log("Error: ",i)})})}getDocumentInfo(e,n){const r=e.getText(),i=e.offsetAt(n),s=Hl(r,i),o=ql(e.languageId);return o===C.UNSPECIFIED&&console.warn(`Unknown language: ${e.languageId}`),new It({text:r,editorLanguage:e.languageId,language:o,cursorOffset:BigInt(s),lineEnding:`
`})}createInlineCompletionItem(e,n){if(!e.completion||!e.range)return;const r=n.getText(),i=n.positionAt(ii(r,Number(e.range.startOffset))),s=n.positionAt(ii(r,Number(e.range.endOffset))),o=new At(i,s);return new Xl(e.completion.text,o,e.completion.completionId)}}class Ql{constructor(e,n,r,i,s,o){this.setCompletionCount=n,this.numCompletionsProvided=0,this.completionProvider=new Zl(e,r,i,s,o)}freeInlineCompletions(){}provideInlineCompletions(e,n,r,i){return Xn(this,void 0,void 0,function*(){const s=yield this.completionProvider.provideInlineCompletions(e,n,i);return s&&(this.numCompletionsProvided+=1,this.setCompletionCount(this.numCompletionsProvided)),s})}acceptedLastCompletion(e){this.completionProvider.acceptedLastCompletion(e)}updateOtherDocuments(e){this.completionProvider.otherDocuments=e}}const eu=t=>{var{className:e,loading:n=!1}=t,r=Bi(t,["className","loading"]);return te.createElement("svg",Object.assign({viewBox:"0 0 124 124","aria-label":"Codeium Logo",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{className:e}),te.createElement("mask",{id:"mask0_306_96",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"124",height:"124"},te.createElement("path",{d:"M0 10C0 4.47715 4.47715 0 10 0H114C119.523 0 124 4.47715 124 10V114C124 119.523 119.523 124 114 124H10C4.47715 124 0 119.523 0 114V10Z",fill:"#D9D9D9"})),te.createElement("g",{mask:"url(#mask0_306_96)"},te.createElement("path",{d:"M62 62L0 124V0L62 62Z",fill:"#60D5C4"}),te.createElement("path",{d:"M62 62L124 124V0L62 62Z",fill:"#60D5C4"}),te.createElement("path",{d:"M62 62L124 124L0 124L62 62Z",fill:"#71E9D8"}),te.createElement("path",{d:"M62 62L124 0L0 0L62 62Z",fill:"#71E9D8"}),te.createElement("path",{d:"M107.387 16H16.6133C16.2746 16 16 16.2746 16 16.6133V107.387C16 107.725 16.2746 108 16.6133 108H107.387C107.725 108 108 107.725 108 107.387V16.6133C108 16.2746 107.725 16 107.387 16Z",fill:"#09B6A2"}),te.createElement("path",{d:"M75.196 77.1134C74.1902 77.1134 73.3102 76.7612 72.5559 76.0566C71.8375 75.3169 71.4783 74.4538 71.4783 73.4675C71.4783 72.4459 71.8375 71.5828 72.5559 70.8783C73.3102 70.1386 74.1902 69.7687 75.196 69.7687C76.2377 69.7687 77.1177 70.1386 77.8361 70.8783C78.5545 71.5828 78.9137 72.4459 78.9137 73.4675C78.9137 74.4538 78.5545 75.3169 77.8361 76.0566C77.1177 76.7612 76.2377 77.1134 75.196 77.1134Z",fill:"white","aria-label":"right-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"666ms"}}),te.createElement("path",{d:"M62.3573 77.1134C61.3516 77.1134 60.4715 76.7612 59.7172 76.0566C58.9988 75.3169 58.6396 74.4538 58.6396 73.4675C58.6396 72.4459 58.9988 71.5828 59.7172 70.8783C60.4715 70.1386 61.3516 69.7687 62.3573 69.7687C63.399 69.7687 64.2791 70.1386 64.9974 70.8783C65.7158 71.5828 66.075 72.4459 66.075 73.4675C66.075 74.4538 65.7158 75.3169 64.9974 76.0566C64.2791 76.7612 63.399 77.1134 62.3573 77.1134Z",fill:"white","aria-label":"middle-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"333ms"}}),te.createElement("path",{d:"M49.519 77.1134C48.5132 77.1134 47.6332 76.7612 46.8789 76.0566C46.1605 75.3169 45.8013 74.4538 45.8013 73.4675C45.8013 72.4459 46.1605 71.5828 46.8789 70.8783C47.6332 70.1386 48.5132 69.7687 49.519 69.7687C50.5607 69.7687 51.4407 70.1386 52.1591 70.8783C52.8775 71.5828 53.2367 72.4459 53.2367 73.4675C53.2367 74.4538 52.8775 75.3169 52.1591 76.0566C51.4407 76.7612 50.5607 77.1134 49.519 77.1134Z",fill:"white","aria-label":"left-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"0ms"}}),te.createElement("path",{d:"M85.9869 88.6325C85.1967 88.6325 84.5501 88.3683 84.0473 87.8399C83.5444 87.3468 83.2929 86.7127 83.2929 85.9377C83.2929 85.1275 83.5444 84.4758 84.0473 83.9826C84.5501 83.4894 85.1967 83.2429 85.9869 83.2429C88.178 83.2429 89.2736 82.1684 89.2736 80.0196V67.7079C89.2736 65.2421 89.8483 63.287 90.9977 61.8427C90.423 61.1029 89.992 60.2399 89.7046 59.2535C89.4173 58.2672 89.2736 57.1575 89.2736 55.9246V43.6129C89.2736 41.4641 88.178 40.3897 85.9869 40.3897C85.1967 40.3897 84.5501 40.1431 84.0473 39.6499C83.5444 39.1567 83.2929 38.5227 83.2929 37.7477C83.2929 36.9727 83.5444 36.321 84.0473 35.7926C84.5501 35.2642 85.1967 35 85.9869 35C91.8419 35 94.7693 37.871 94.7693 43.6129V55.9246C94.7693 58.0734 95.8469 59.1478 98.0021 59.1478C98.7924 59.1478 99.4389 59.3944 99.9418 59.8876C100.481 60.3808 100.75 61.0325 100.75 61.8427C100.75 62.6177 100.481 63.2517 99.9418 63.7449C99.4389 64.2381 98.7924 64.4847 98.0021 64.4847C95.8469 64.4847 94.7693 65.5591 94.7693 67.7079V80.0196C94.7693 85.7616 91.8419 88.6325 85.9869 88.6325Z",fill:"white","aria-label":"open-bracket"}),te.createElement("path",{d:"M38.7631 88.6325C32.9081 88.6325 29.9807 85.7616 29.9807 80.0196V67.7079C29.9807 65.5591 28.9031 64.4847 26.7479 64.4847C25.9576 64.4847 25.2931 64.2381 24.7543 63.7449C24.2514 63.2517 24 62.6177 24 61.8427C24 61.0325 24.2514 60.3808 24.7543 59.8876C25.2931 59.3944 25.9576 59.1478 26.7479 59.1478C28.9031 59.1478 29.9807 58.0734 29.9807 55.9246V43.6129C29.9807 37.871 32.9081 35 38.7631 35C39.5533 35 40.1999 35.2642 40.7027 35.7926C41.2056 36.321 41.4571 36.9727 41.4571 37.7477C41.4571 38.5227 41.2056 39.1567 40.7027 39.6499C40.1999 40.1431 39.5533 40.3897 38.7631 40.3897C36.572 40.3897 35.4764 41.4641 35.4764 43.6129V55.9246C35.4764 57.1575 35.3327 58.2672 35.0454 59.2535C34.758 60.2399 34.327 61.1029 33.7522 61.8427C34.9017 63.287 35.4764 65.2421 35.4764 67.7079V80.0196C35.4764 82.1684 36.572 83.2429 38.7631 83.2429C39.5533 83.2429 40.1999 83.4894 40.7027 83.9826C41.2056 84.4758 41.4571 85.1275 41.4571 85.9377C41.4571 86.7127 41.2056 87.3468 40.7027 87.8399C40.1999 88.3683 39.5533 88.6325 38.7631 88.6325Z",fill:"white","aria-label":"close-bracket"})))};function cs(t,e){const n=Object.assign({},e);for(const r in t)typeof t[r]=="object"&&!Array.isArray(t[r])?e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?n[r]=cs(t[r],e[r]):n[r]=Object.assign({},t[r]):n[r]=t[r];return n}const tu=t=>{var{languageServerAddress:e="https://web-backend.codeium.com",otherDocuments:n=[],containerClassName:r="",containerStyle:i={}}=t,s=Bi(t,["languageServerAddress","otherDocuments","containerClassName","containerStyle"]);const o=w.useRef(null),a=w.useRef(null),c=w.useRef(null),[l,d]=w.useState(-1),[m,h]=w.useState(0),[g,p]=w.useState(ft.INACTIVE),[b,E]=w.useState(""),[j,T]=w.useState(!1),D=w.useMemo(()=>Rc({baseUrl:e,useBinaryFormat:!0}),[e]),S=w.useMemo(()=>cc(Vl,D),[D]);c.current=w.useMemo(()=>new Ql(S,h,p,E,s.apiKey,s.multilineModelThreshold),[]),w.useEffect(()=>{if(!o?.current||!a.current||!c.current)return;const P=a.current,I=P.languages.registerInlineCompletionsProvider({pattern:"**"},c.current),B=P.editor.registerCommand("codeium.acceptCompletion",(R,J,x)=>{var O;try{s.onAutocomplete&&s.onAutocomplete(x),d(l+1),(O=c.current)===null||O===void 0||O.acceptedLastCompletion(J)}catch{console.log("Err")}});return()=>{I.dispose(),B.dispose()}},[o?.current,a?.current,c?.current,l,j]);const U=(P,I)=>Xn(void 0,void 0,void 0,function*(){o.current=P,a.current=I,T(!0);try{yield S.getCompletions({})}catch{}s.onMount&&s.onMount(P,I)});w.useEffect(()=>{var P;(P=c.current)===null||P===void 0||P.updateOtherDocuments(n)},[n]);let L={defaultLanguage:s.language,defaultValue:Fl(s.language)};const V={width:s.width||"100%",height:s.height||"300px"};return te.createElement("div",{style:Object.assign(Object.assign(Object.assign({},V),{position:"relative"}),i),className:r},te.createElement("a",{href:"https://codeium.com?referrer=codeium-editor",target:"_blank",rel:"noreferrer noopener"},te.createElement(eu,{width:30,height:30,style:{position:"absolute",top:12,right:12,zIndex:1}})),te.createElement(Ml,Object.assign({},L,s,{width:V.width,height:V.height,onMount:U,options:cs(s.options,{scrollBeyondLastColumn:0,scrollbar:{alwaysConsumeMouseWheel:!1},codeLens:!1,minimap:{enabled:!1},quickSuggestions:!1,folding:!1,foldingHighlight:!1,foldingImportsByDefault:!1,links:!1,fontSize:14,wordWrap:"on"})})))},si=({message:t,type:e="error",onClose:n})=>!t||t.trim()==""?null:u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"inline-flex items-center px-2 py-1 text-xs text-red-500 bg-red-100 border border-red-300 border-solid ",children:[t,u.jsx("button",{className:"ml-2 text-xs text-red-500  hover:bg-red-200",onClick:n,children:u.jsx(jn,{})})]})});var Bn="rovingFocusGroup.onEntryFocus",nu={bubbles:!1,cancelable:!0},pn="RovingFocusGroup",[Jn,ls,ru]=Qs(pn),[iu,us]=ui(pn,[ru]),[su,ou]=iu(pn),fs=w.forwardRef((t,e)=>u.jsx(Jn.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Jn.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(au,{...t,ref:e})})}));fs.displayName=pn;var au=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:d=!1,...m}=t,h=w.useRef(null),g=Xs(e,h),p=di(s),[b=null,E]=fi({prop:o,defaultProp:a,onChange:c}),[j,T]=w.useState(!1),D=Ks(l),S=ls(n),U=w.useRef(!1),[L,V]=w.useState(0);return w.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(Bn,D),()=>P.removeEventListener(Bn,D)},[D]),u.jsx(su,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:b,onItemFocus:w.useCallback(P=>E(P),[E]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>V(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>V(P=>P-1),[]),children:u.jsx(Ot.div,{tabIndex:j||L===0?-1:0,"data-orientation":r,...m,ref:g,style:{outline:"none",...t.style},onMouseDown:tt(t.onMouseDown,()=>{U.current=!0}),onFocus:tt(t.onFocus,P=>{const I=!U.current;if(P.target===P.currentTarget&&I&&!j){const B=new CustomEvent(Bn,nu);if(P.currentTarget.dispatchEvent(B),!B.defaultPrevented){const R=S().filter(H=>H.focusable),J=R.find(H=>H.active),x=R.find(H=>H.id===b),M=[J,x,...R].filter(Boolean).map(H=>H.ref.current);ms(M,d)}}U.current=!1}),onBlur:tt(t.onBlur,()=>T(!1))})})}),ds="RovingFocusGroupItem",hs=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=li(),c=s||a,l=ou(ds,n),d=l.currentTabStopId===c,m=ls(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=l;return w.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),u.jsx(Jn.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:u.jsx(Ot.span,{tabIndex:d?0:-1,"data-orientation":l.orientation,...o,ref:e,onMouseDown:tt(t.onMouseDown,p=>{r?l.onItemFocus(c):p.preventDefault()}),onFocus:tt(t.onFocus,()=>l.onItemFocus(c)),onKeyDown:tt(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){l.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const b=uu(p,l.orientation,l.dir);if(b!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let j=m().filter(T=>T.focusable).map(T=>T.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const T=j.indexOf(p.currentTarget);j=l.loop?fu(j,T+1):j.slice(T+1)}setTimeout(()=>ms(j))}})})})});hs.displayName=ds;var cu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lu(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uu(t,e,n){const r=lu(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cu[r]}function ms(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function fu(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var du=fs,hu=hs,Qn="Tabs",[mu,ju]=ui(Qn,[us]),gs=us(),[gu,er]=mu(Qn),ps=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...l}=t,d=di(a),[m,h]=fi({prop:r,onChange:i,defaultProp:s});return u.jsx(gu,{scope:n,baseId:li(),value:m,onValueChange:h,orientation:o,dir:d,activationMode:c,children:u.jsx(Ot.div,{dir:d,"data-orientation":o,...l,ref:e})})});ps.displayName=Qn;var bs="TabsList",ys=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=er(bs,n),o=gs(n);return u.jsx(du,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:u.jsx(Ot.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});ys.displayName=bs;var ws="TabsTrigger",Es=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=er(ws,n),a=gs(n),c=xs(o.baseId,r),l=Ts(o.baseId,r),d=r===o.value;return u.jsx(hu,{asChild:!0,...a,focusable:!i,active:d,children:u.jsx(Ot.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":l,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:tt(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:tt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:tt(t.onFocus,()=>{const m=o.activationMode!=="manual";!d&&!i&&m&&o.onValueChange(r)})})})});Es.displayName=ws;var Ss="TabsContent",Ns=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=er(Ss,n),c=xs(a.baseId,r),l=Ts(a.baseId,r),d=r===a.value,m=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(Zs,{present:i||d,children:({present:h})=>u.jsx(Ot.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&s})})});Ns.displayName=Ss;function xs(t,e){return`${t}-trigger-${e}`}function Ts(t,e){return`${t}-content-${e}`}var pu=ps,Is=ys,As=Es,Os=Ns;const bu=pu,vs=w.forwardRef(({className:t,...e},n)=>u.jsx(Is,{ref:n,className:St("inline-flex h-9 items-center justify-center  bg-muted p-1 text-muted-foreground",t),...e}));vs.displayName=Is.displayName;const Gn=w.forwardRef(({className:t,...e},n)=>u.jsx(As,{ref:n,className:St("inline-flex items-center justify-center whitespace-nowrap  px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Gn.displayName=As.displayName;const Hn=w.forwardRef(({className:t,...e},n)=>u.jsx(Os,{ref:n,className:St("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Hn.displayName=Os.displayName;function oi(t){return typeof t[0]=="object"&&t[0]!==null?t:t.map(e=>({text:e,value:e}))}function yu(t){let e=1;const n=[];for(;e<=t;)n.push(u.jsx(hi,{value:e,children:String(e)},e)),e++;return n}function ai(t,e){return e&&t.find(r=>e===r.value)?e:t[0].value}const wu=te.forwardRef(function({backwardText:e="Previous page",className:n="",disabled:r=!1,forwardText:i="Next page",id:s,isLastPage:o=!1,itemText:a=(P,I)=>`${P}â${I} items`,itemRangeText:c=(P,I,B)=>`${P}â${I} of ${B} items`,itemsPerPageText:l="Items per page:",onChange:d,pageNumberText:m="Page Number",pageRangeText:h=(P,I)=>`of ${I} ${I===1?"page":"pages"}`,page:g=1,pageInputDisabled:p,pageSize:b,pageSizeInputDisabled:E,pageSizes:j,pageText:T=P=>`page ${P}`,pagesUnknown:D=!1,size:S="md",totalItems:U,...L},V){const P=w.useRef(null),I=w.useRef(null),[B,R]=w.useState(()=>oi(j)),[J,x]=w.useState(j),[O,M]=w.useState(g),[H,Y]=w.useState(g),[ne,Ee]=w.useState(()=>ai(B,b)),[Ce,re]=w.useState(b),ae=St("pagination bg-neutral-100 border-t border-solid border-neutral-300 flex items-center text-md justify-between",`pagination--${S}`,n),le=U?Math.max(Math.ceil(U/ne),1):1,Pe=St("flex p-1 w-10 items-center justify-center cursor-pointer hover:bg-neutral-100",r||O===1?"opacity-50 cursor-not-allowed":""),Se=St("flex p-1 items-center w-10 justify-center cursor-pointer hover:bg-neutral-100",r||O===le&&!D||o?"opacity-50 cursor-not-allowed":""),rt=yu(le);if(g!==H&&(M(g),Y(g)),b!==Ce&&(Ee(ai(B,b)),re(b)),!eo(j,J)){const A=oi(j);A.find(ie=>ie.value===ne)||M(1),R(A),x(j)}function k(A){const ie={pageSize:Number(A),page:1};M(ie.page),Ee(ie.pageSize),d&&d(ie)}function G(A){const X=Number(A);X>0&&U&&X<=Math.max(Math.ceil(U/ne),1)&&(M(X),d&&d({page:X,pageSize:ne}))}function F(){const A=O+1;M(A),A===le&&P?.current&&P.current.focus(),d&&d({page:A,pageSize:ne,ref:P})}function W(){const A=O-1;M(A),A===1&&I?.current&&I.current.focus(),d&&d({page:A,pageSize:ne,ref:I})}return u.jsxs("div",{className:ae,ref:V,...L,children:[u.jsxs("div",{className:"flex gap-2 pl-4",children:[u.jsx("label",{className:"whitespace-nowrap flex items-center",children:l}),u.jsxs(ur,{className:"select__item-count",labelText:"",hideLabel:!0,noLabel:!0,inline:!0,onValueChange:k,disabled:E||r,value:ne,children:[u.jsx(fr,{className:"border-0 shadow-none",children:ne}),u.jsx(dr,{children:B.map(A=>u.jsx(hi,{value:A.value,children:String(A.text)},A.value))})]}),u.jsx("span",{className:"border-r border-solid border-neutral-300"}),u.jsx("span",{className:"whitespace-nowrap opacity-50 flex items-center pl-4",children:D||!U?U===0?c(0,0,0):a(ne*(O-1)+1,O*ne):c(Math.min(ne*(O-1)+1,U),Math.min(O*ne,U),U)})]}),u.jsx("span",{className:"border-r border-solid border-neutral-300"}),u.jsxs("div",{className:"flex whitespace-nowrap",children:[u.jsx("span",{className:"border-r border-solid border-neutral-300"}),D?u.jsx("span",{className:"whitespace-nowrap flex items-center",children:T(O)}):u.jsxs("div",{className:"flex gap-1 pr-4",children:[u.jsxs(ur,{labelText:`Page of ${le} pages`,inline:!0,hideLabel:!0,onValueChange:G,value:O,disabled:p||r,children:[u.jsx(fr,{className:"border-0 shadow-none",children:O}),u.jsx(dr,{children:rt})]}),u.jsx("span",{className:"flex items-center opacity-50",children:h(O,le)})]}),u.jsx("span",{className:"border-r border-solid border-neutral-300"}),u.jsxs("div",{className:"flex",children:[u.jsxs("span",{className:Pe,"aria-label":e,onClick:W,ref:P,children:[u.jsx(Ms,{}),u.jsx("span",{className:"sr-only",children:e})]}),u.jsx("span",{className:"border-r border-solid border-neutral-300"}),u.jsxs("span",{className:Se,"aria-label":i,onClick:F,ref:P,children:[u.jsx(Fs,{}),u.jsx("span",{className:"sr-only",children:i})]})]})]})]})}),Eu=({onChange:t})=>u.jsx(tu,{language:"json",className:"text-sm",theme:"light",onChange:t,options:{fontSize:12,padding:{top:10}}});function Pu(){const t=Us(),[e,n]=w.useState({page:1,pageSize:10}),[r,i]=w.useState({field:"",direction:0}),s=js(),o=w.useRef(!1),[a,c]=w.useState("list"),[l,d]=w.useState({}),[m,h]=w.useState(""),[g,p]=w.useState(""),[b,E]=w.useState(!1),j=Ps(),{columns:T}=t,[D,S]=w.useState(t),{title:U,stats:L,count:V,documents:P,params:I,pagination:B}=D,R=oe.parse(P);if(w.useEffect(()=>{if(!I||!o||!o.current){o.current=!0;return}const x={};if(e.page>1){const O=(e.page-1)*e.pageSize;x.skip=O}e.pageSize!=10&&(x.limit=e.pageSize),s.submit({query:l?oe.stringify(l):{},...x,sort:r.field,direction:r.direction},{method:"POST",encType:"application/json",action:`/database/${I.db}/${I.col}`})},[e.page,e.pageSize,r.field,r.direction]),w.useEffect(()=>{s.data&&s.data.status=="success"?S(s.data.collection):s.data&&s.data.status=="error"&&p(s.data?.message||"")},[s.data]),!L)return u.jsx("div",{children:"Loading..."});let J=null;return a=="grid"?J=u.jsx(ua,{sort:r,onSort:x=>{i(O=>({field:x,direction:O.field==x?O.direction*-1:1})),n({...e,page:1})},rows:R}):J=R.map((x,O)=>u.jsx("div",{className:"w-full p-4 mb-3 overflow-auto bg-white border border-solid border-neutral-300",children:u.jsx(Rn,{autocompleteItems:T,isExpanded:!1,data:x})},x._id?x._id.toString():`document-${O}`)),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"database-page",children:[u.jsxs("div",{className:"flex items-center justify-between pb-4",children:[u.jsxs("div",{children:[u.jsxs(Gs,{title:U,children:[u.jsx("span",{className:"font-normal opacity-50",children:"Collection:"})," ",U]}),u.jsxs("p",{className:"text-sm",children:["Documents: ",L?.count]}),u.jsx("div",{className:"flex items-center gap-2 mt-4",children:u.jsx(bt,{size:"sm",variant:"danger",icon:u.jsx(Un,{}),tooltip:"Delete Database",onClick:x=>{x.preventDefault(),E(!0)},children:"Delete Collection"})})]}),u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[u.jsx(bt,{hasIconOnly:!0,size:"md",variant:"ghost",className:a=="list"?"bg-neutral-100":"",icon:u.jsx(Vs,{}),tooltip:"List View",onClick:x=>{x.preventDefault(),c("list")}}),u.jsx(bt,{hasIconOnly:!0,size:"md",variant:"ghost",className:a=="grid"?"bg-neutral-100":"",icon:u.jsx(Js,{}),tooltip:"Table View",onClick:x=>{x.preventDefault(),c("grid")}})]})]}),u.jsxs("div",{className:"p-4 mt-1 mb-1 border border-solid border-neutral-300",children:[u.jsxs("div",{className:"py-1",children:[u.jsx("span",{className:"block text-base font-bold",children:"Query"}),u.jsx("span",{className:"block mb-2 text-xs opacity-50",children:"Please enter your query below"})]}),u.jsxs(bu,{defaultValue:"json",children:[u.jsxs(vs,{className:"bg-neutral-100","aria-label":"List of tabs",children:[u.jsx(Gn,{value:"json",children:"Json Editor"}),u.jsx(Gn,{value:"editor",children:"Codeium (Raw)"})]}),u.jsxs(Hn,{value:"json",children:[u.jsx("div",{className:"bg-white min-h-36",children:u.jsx(Rn,{data:l,autocompleteItems:T,onChange:x=>d(x)})}),u.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[s.state=="submitting"||s.state=="loading"?u.jsx(or,{size:"sm"}):u.jsx(bt,{size:"sm",icon:u.jsx(ar,{}),onClick:x=>{x.preventDefault(),p(""),n({...e,page:1}),s.submit({query:oe.stringify(l)},{method:"POST",encType:"application/json",action:`/database/${I.db}/${I.col}`})},children:"Execute"}),u.jsx(to,{size:"sm",className:"ml-2",variant:"ghost",text:oe.stringify(l),children:"Copy as BSON"})]}),g!=""&&u.jsx(si,{message:g,onClose:()=>p("")})]})]}),u.jsxs(Hn,{value:"editor",children:[u.jsx(Eu,{onChange:x=>{h(x);try{d(oe.parse(x)),p("")}catch(O){p(O.message)}}}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.state=="submitting"||s.state=="loading"?u.jsx(or,{size:"sm"}):u.jsx(bt,{size:"sm",icon:u.jsx(ar,{}),onClick:x=>{x.preventDefault();let O=null;try{O=oe.parse(m)}catch(M){p(M.message);return}p(""),n({...e,page:1}),s.submit({query:m},{method:"POST",encType:"application/json",action:`/database/${I.db}/${I.col}`})},children:"Execute"}),g!=""&&u.jsx(si,{message:g,onClose:()=>p("")})]})]})]})]}),u.jsx("div",{className:"mb-3 bg-neutral-100",children:u.jsx(zs,{type:"multiple",children:u.jsxs(Ys,{value:"statistics",className:"pr-0 ",children:[u.jsx(Ws,{className:"px-4 border-t border-solid border-neutral-200",children:u.jsx("span",{className:"font-medium",children:"Statistics"})}),u.jsx(qs,{className:"px-0",children:u.jsxs("div",{className:"flex flex-col items-start w-full pb-4 lg:flex-row",children:[u.jsx("div",{className:"flex-1 w-full",children:u.jsx(cr,{className:"text-md",children:u.jsxs(lr,{children:[u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Namespace"}),u.jsx(Q,{children:L.ns})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Host"}),u.jsx(Q,{children:L.host})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Local Time"}),u.jsx(Q,{children:L.localTime})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Reads Latency"}),u.jsxs(Q,{children:[Re(L.latencyStats?.reads.latency)," ms"]})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Writes Latency"}),u.jsxs(Q,{children:[Re(L.latencyStats?.writes.latency)," ms"]})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Commands Latency"}),u.jsxs(Q,{children:[Re(L.latencyStats?.commands.latency)," ms"]})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Transactions Latency"}),u.jsxs(Q,{children:[Re(L.latencyStats?.transactions.latency)," ms"]})]})]})})}),u.jsx("div",{className:"flex-1 w-full",children:u.jsx(cr,{className:"mt-4 text-md lg:mt-0",children:u.jsxs(lr,{children:[u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Storage Size"}),u.jsxs(Q,{children:[Re(L.storageStats?.storageSize)," B"]})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Total Index Size"}),u.jsxs(Q,{children:[Re(L.storageStats?.totalIndexSize)," B"]})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Total Size"}),u.jsxs(Q,{children:[Re(L.storageStats?.totalSize)," B"]})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Count"}),u.jsx(Q,{children:L.storageStats?.count})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Collection Scans Total"}),u.jsx(Q,{children:Re(L.queryExecStats?.collectionScans.total)})]}),u.jsxs(pe,{children:[u.jsx(Q,{className:"font-bold",children:"Collection Scans Non-Tailable"}),u.jsx(Q,{children:Re(L.queryExecStats?.collectionScans.nonTailable)})]})]})})})]})})]})})}),u.jsx("div",{className:"w-full min-h-72",children:J})]}),u.jsx(wu,{className:"mt-3 mb-10 text-sm",backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"Items per page:",onChange:({page:x,pageSize:O})=>{n({page:x,pageSize:O})},page:Math.floor(B.skip/B.limit)+1,pageSize:Number(B.limit),pageSizes:[10,20,30,40,50,100,500],size:"md",totalItems:V}),u.jsx(Hs,{open:b,onClose:()=>E(!1),collectionName:U,dbName:I.db,onSuccess:()=>{E(!1),j(`/database/${I.db}`)}})]})}export{Pu as default};
