import{r as b,j as l,D as Bs,R as oe,u as Us,b as _s,a as Ps}from"./components-DSNIqDDq.js";import{B as Mt,C as dn,f as ci,b as Rs,T as Dn,n as ks,o as Ds,P as Ms,X as Mn,S as Fs,a as Ls,u as li,p as $s,h as Vs,L as Js,q as Gs,A as zs}from"./button-DJCNRe4M.js";import{m as Hs,T as qs,n as Re}from"./functions-CwXrBDO5.js";import{S as Nt,a as Tt,f as an,b as It,c as Ot,u as ui}from"./select-Bg-tQMCJ.js";import{i as Ys,a as fi,u as Ws,b as di,e as Xs,P as Ut,f as nt,d as Ks}from"./createLucideIcon-Dkhr3css.js";import{a as Zs}from"./collection-B4acNlnq.js";import{A as Qs,a as eo,b as to,c as no}from"./accordion-CsVaAh9m.js";import{T as ur,a as fr,b as we,c as re}from"./table-nCuF7d1D.js";import{c as ro}from"./x-BntEkNr0.js";import{c as ht,i as io}from"./utils-DcAaEMf9.js";import"./input-DUDTp-v9.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ys("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fn=({text:t,className:e,iconClassName:n})=>{const[r,i]=b.useState(!1),s=()=>{t&&navigator.clipboard.writeText(String(t)).then(()=>{i(!0),setTimeout(()=>{i(!1)},1e3)})};return l.jsx("span",{className:"cursor-pointer"+(e?" "+e:""),onClick:s,children:r?l.jsx(dn,{className:n}):l.jsx(ci,{className:n})})},so=({text:t,children:e,...n})=>{const[r,i]=b.useState(!1),s=o=>{o.preventDefault(),t&&navigator.clipboard.writeText(String(t)).then(()=>{i(!0),setTimeout(()=>{i(!1)},1e3)})};return l.jsx(Mt,{icon:r?l.jsx(dn,{}):l.jsx(ci,{}),onClick:s,...n,children:e})};var hi={exports:{}};(function(t){(function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function i(s,o,a){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var c=a&&a.debug||!1;if(c){var u=document.querySelector("#input-textarea-caret-position-mirror-div");u&&u.parentNode.removeChild(u)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var m=h.style,d=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,p=s.nodeName==="INPUT";m.whiteSpace="pre-wrap",p||(m.wordWrap="break-word"),m.position="absolute",c||(m.visibility="hidden"),e.forEach(function(x){p&&x==="lineHeight"?m.lineHeight=d.height:m[x]=d[x]}),r?s.scrollHeight>parseInt(d.height)&&(m.overflowY="scroll"):m.overflow="hidden",h.textContent=s.value.substring(0,o),p&&(h.textContent=h.textContent.replace(/\s/g,"Â "));var g=document.createElement("span");g.textContent=s.value.substring(o)||".",h.appendChild(g);var y={top:g.offsetTop+parseInt(d.borderTopWidth),left:g.offsetLeft+parseInt(d.borderLeftWidth),height:parseInt(d.lineHeight)};return c?g.style.backgroundColor="#aaa":document.body.removeChild(h),y}t.exports=i})()})(hi);var oo=hi.exports;const ao=Bs(oo);function co(t){let e=0,n=0;if(!t)return{start:e,end:n};if(typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number")return{start:t.selectionStart,end:t.selectionEnd};if(!document)return{start:e,end:n};const r=document.getSelection(),i=r?r.getRangeAt(0):null;if(!i||i.commonAncestorContainer!==t)return{start:e,end:n};const s=t.value.length,o=t.value.replace(/\r\n/g,`
`),a=t.createTextRange(),c=i.cloneRange();a.setStart(c.startContainer,c.startOffset),a.setEnd(c.endContainer,c.endOffset);const u=t.createTextRange();return u.collapse(!1),a.compareEndPoints("StartToEnd",u)>-1?e=n=s:(e=-a.moveStart("character",-s),e+=o.slice(0,e).split(`
`).length-1,a.compareEndPoints("EndToEnd",u)>-1?n=s:(n=-a.moveEnd("character",-s),n+=o.slice(0,n).split(`
`).length-1)),{start:e,end:n}}function lo(t,e){if(t)if(t.createTextRange){const n=t.createTextRange();n.move("character",e),n.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()}const hr=t=>typeof t=="object"&&t!=null&&t.nodeType===1,mr=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",In=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return mr(n.overflowY,e)||mr(n.overflowX,e)||(r=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},tn=(t,e,n,r,i,s,o,a)=>s<t&&o>e||s>t&&o<e?0:s<=t&&a<=n||o>=e&&a>=n?s-t-r:o>e&&a<n||s<t&&a>n?o-e+i:0,uo=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},pr=(t,e)=>{var n,r,i,s;if(typeof document>"u")return[];const{scrollMode:o,block:a,inline:c,boundary:u,skipOverflowHiddenElements:h}=e,m=typeof u=="function"?u:G=>G!==u;if(!hr(t))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,p=[];let g=t;for(;hr(g)&&m(g);){if(g=uo(g),g===d){p.push(g);break}g!=null&&g===document.body&&In(g)&&!In(document.documentElement)||g!=null&&In(g,h)&&p.push(g)}const y=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,x=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:O,scrollY:T}=window,{height:L,width:E,top:B,right:z,bottom:D,left:I}=t.getBoundingClientRect(),{top:A,right:_,bottom:U,left:$}=(G=>{const Y=window.getComputedStyle(G);return{top:parseFloat(Y.scrollMarginTop)||0,right:parseFloat(Y.scrollMarginRight)||0,bottom:parseFloat(Y.scrollMarginBottom)||0,left:parseFloat(Y.scrollMarginLeft)||0}})(t);let H=a==="start"||a==="nearest"?B-A:a==="end"?D+U:B+L/2-A+U,R=c==="center"?I+E/2-$+_:c==="end"?z+_:I-$;const M=[];for(let G=0;G<p.length;G++){const Y=p[G],{height:Q,width:S,top:V,right:W,bottom:le,left:fe}=Y.getBoundingClientRect();if(o==="if-needed"&&B>=0&&I>=0&&D<=x&&z<=y&&B>=V&&D<=le&&I>=fe&&z<=W)return M;const he=getComputedStyle(Y),se=parseInt(he.borderLeftWidth,10),lt=parseInt(he.borderTopWidth,10),Ne=parseInt(he.borderRightWidth,10),it=parseInt(he.borderBottomWidth,10);let P=0,q=0;const J="offsetWidth"in Y?Y.offsetWidth-Y.clientWidth-se-Ne:0,K="offsetHeight"in Y?Y.offsetHeight-Y.clientHeight-lt-it:0,v="offsetWidth"in Y?Y.offsetWidth===0?0:S/Y.offsetWidth:0,ee="offsetHeight"in Y?Y.offsetHeight===0?0:Q/Y.offsetHeight:0;if(d===Y)P=a==="start"?H:a==="end"?H-x:a==="nearest"?tn(T,T+x,x,lt,it,T+H,T+H+L,L):H-x/2,q=c==="start"?R:c==="center"?R-y/2:c==="end"?R-y:tn(O,O+y,y,se,Ne,O+R,O+R+E,E),P=Math.max(0,P+T),q=Math.max(0,q+O);else{P=a==="start"?H-V-lt:a==="end"?H-le+it+K:a==="nearest"?tn(V,le,Q,lt,it+K,H,H+L,L):H-(V+Q/2)+K/2,q=c==="start"?R-fe-se:c==="center"?R-(fe+S/2)+J/2:c==="end"?R-W+Ne+J:tn(fe,W,S,se,Ne+J,R,R+E,E);const{scrollLeft:ae,scrollTop:me}=Y;P=ee===0?0:Math.max(0,Math.min(me+P/ee,Y.scrollHeight-Q/ee+K)),q=v===0?0:Math.max(0,Math.min(ae+q/v,Y.scrollWidth-S/v+J)),H+=me-P,R+=ae-q}M.push({el:Y,top:P,left:q})}return M},fo=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function ho(t,e){if(!t.isConnected||!(i=>{let s=i;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(t))return;const n=(i=>{const s=window.getComputedStyle(i);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(pr(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:s,left:o}of pr(t,fo(e))){const a=s-n.top+n.bottom,c=o-n.left+n.right;i.scroll({top:a,left:c,behavior:r})}}const mo=38,po=40,go=13,bo=14,yo=27,wo=9,So=100,xo=({Component:t="textarea",defaultValue:e="",disabled:n=!1,maxOptions:r=6,onBlur:i=()=>{},onChange:s=()=>{},onKeyDown:o=()=>{},onRequestOptions:a=()=>{},onSelect:c=()=>{},changeOnSelect:u=(U,$)=>$.substring(0,1)==U?$:U+$,options:h=[],regex:m="^[A-Za-z0-9\\-_]+$",matchAny:d=!1,minChars:p=0,requestOnlyIfNoOptions:g=!0,spaceRemovers:y=[",",".","!","?"],spacer:x="",trigger:O="@",offsetX:T=0,offsetY:L=0,value:E=null,passThroughEnter:B=!1,passThroughTab:z=!0,triggerMatchWholeWord:D=!1,triggerCaseInsensitive:I=!1,className:A,attributes:_})=>{const[U,$]=b.useState({helperVisible:!1,left:0,trigger:null,matchLength:0,matchStart:0,options:[],selection:0,top:0,caret:0}),H=b.useRef(e),R=b.useRef(!1),M=b.useRef(null),G=b.useRef(null),Y=b.useRef(null);b.useEffect(()=>{const P=()=>$(q=>({...q,helperVisible:!1}));return window.addEventListener("resize",P),window.addEventListener("scroll",P),()=>{window.removeEventListener("resize",P),window.removeEventListener("scroll",P)}},[]),b.useEffect(()=>{const{helperVisible:P}=U;P&&G.current&&ho(G.current,{boundary:Y.current,scrollMode:"if-needed"})},[U.caret,U.helperVisible]);const Q=(P,q,J)=>{const K=new RegExp(m);let v=[];Array.isArray(O)?v=O:v=[O],v.sort();const ee=J;Array.isArray(J)&&v.forEach(ve=>{ee[ve]=J});const ae=S(v,K);let me=null;for(let ve=0;ve<ae.length;ve++){const{triggerStr:Be,triggerMatch:pt,triggerLength:be}=ae[ve];for(let ye=q-1;ye>=0;--ye){const ut=P.substring(ye,q).match(K);let st=-1;if(be>0){const gt=pt?ye:ye-be+1;if(gt<0||(V(Be,P,gt)&&(st=gt+be),!ut&&st<0))break}else{if(ut&&ye>0)continue;if(st=ye===0&&ut?0:ye+1,q-st===0)break}if(st>=0){const gt=ee[Be];if(gt==null)continue;const sr=P.substring(st-1,q),or=gt.filter(js=>{const lr=js.toLowerCase().indexOf(sr.toLowerCase());return lr!==-1&&(d||lr===0)}),ar=Be,cr=sr.length;me===null?me={trigger:ar,matchStart:st-1,matchLength:cr,options:or}:me={...me,trigger:ar,matchStart:st-1,matchLength:cr,options:or}}}}return me},S=(P,q)=>P.map(J=>({triggerStr:J,triggerMatch:J.match(q),triggerLength:J.length})),V=(P,q,J)=>!P||!P.length?!0:D&&J>0&&q.charAt(J-1).match(/[\w]/)?!1:!!(q.substr(J,P.length)===P||I&&q.substr(J,P.length).toLowerCase()===P.toLowerCase()),W=P=>{Ne(),i&&i(P)},le=P=>{const q=H.current,J=P.target.value,K=co(P.target).end;if(J.length||$(v=>({...v,helperVisible:!1})),H.current=J,$(v=>({...v,caret:K,value:P.target.value})),!J.length||!K)return s(P.target.value);if(R.current&&y.length&&J.length>2&&x.length){for(let v=0;v<Math.max(q.length,J.length);++v)if(q[v]!==J[v]){if(v>=2&&J[v-1]===x&&y.indexOf(J[v-2])===-1&&y.indexOf(J[v])!==-1&&Q(J.substring(0,v-2),K-3,h)){const ee=`${J.slice(0,v-1)}${J.slice(v,v+1)}${J.slice(v-1,v)}${J.slice(v+1)}`;return se(v+1),M.current&&(M.current.value=ee),E||$(ae=>({...ae,value:ee})),s(ee)}break}R.current=!1}return lt(J,K,h),E||$(v=>({...v,value:P.target.value})),s(P.target.value)},fe=P=>{const{helperVisible:q,options:J,selection:K}=U,v=r>0?Math.min(J.length,r):J.length;if(q)switch(P.keyCode){case yo:P.preventDefault(),Ne();break;case mo:P.preventDefault(),v>0&&$(ee=>({...ee,selection:Math.max(0,v+K-1)%v}));break;case po:P.preventDefault(),v>0&&$(ee=>({...ee,selection:(K+1)%v}));break;case bo:case go:B||P.preventDefault(),he(K);break;case wo:z||P.preventDefault(),he(K);break;default:o(P);break}else o(P)},he=P=>{const{matchStart:q,matchLength:J,options:K,trigger:v}=U,ee=K[P],ae=H.current;if(v){const me=v.length===0?"":ae.substring(0,q-v.length),ve=ae.substring(q+J),Be={target:M.current},pt=u(v,ee);Be.target&&(Be.target.value=`${me}${pt}${x}${ve}`,le(Be),c(Be.target.value)),Ne();const be=me.length+pt.length+(x?x.length:1);se(be),R.current=!0}},se=P=>{$(q=>{const J={...q,caret:P};return lo(M.current,P),J})},lt=(P,q,J)=>{const K=M.current,v=Q(P,q,J);if(v&&K){const ee=ao(K,q),ae=K.getBoundingClientRect(),me=ee.top+ae.top-K.scrollTop,ve=Math.min(ee.left+ae.left-K.scrollLeft,window.innerWidth-So);v.matchLength>=p&&(v.options.length>1||v.options.length===1&&(v.options[0].length!==v.matchLength||v.options[0].length===1))?$({...U,helperVisible:!0,top:me,left:ve,...v}):((!g||!v.options.length)&&a(P.substr(v.matchStart,v.matchLength)),Ne())}else Ne()},Ne=()=>{$(P=>({...P,helperVisible:!1,selection:0}))},it=()=>{const{helperVisible:P,left:q,matchStart:J,matchLength:K,options:v,selection:ee,top:ae}=U;if(!P||v.length===0)return null;if(ee>=v.length)return $(be=>({...be,selection:0})),null;const me=r===0?v.length:r,ve=v.slice(0,me).map((be,ye)=>{let _t=0;return E&&(_t=be.toLowerCase().indexOf(E.substr(J,K).toLowerCase())),l.jsxs("li",{className:"cursor-pointer px-2 py-1 text-xs"+(ye===ee?" bg-neutral-200":""),ref:ye===ee?G:null,onClick:()=>{he(ye)},onMouseDown:ut=>{ut.preventDefault()},onMouseEnter:()=>{$(ut=>({...ut,selection:ye}))},children:[be.slice(0,_t),l.jsx("strong",{className:"font-bold",children:be.substr(_t,K)}),be.slice(_t+K)]},be)}),Be=window.innerWidth-q-T-5,pt=window.innerHeight-ae-L-5;return l.jsx("ul",{className:"fixed bottom-auto z-50 block p-px mt-1 overflow-y-scroll text-xs text-left bg-white border border-solid bg-clip-padding border-neutral-100",style:{left:q+T,top:ae+L,maxHeight:pt,maxWidth:Be},ref:Y,children:ve})};return l.jsxs(l.Fragment,{children:[l.jsx(t,{..._,className:A,disabled:n,onBlur:W,onChange:le,onKeyDown:fe,ref:M,value:E}),it()]})},Eo="modulepreload",No=function(t){return"/"+t},gr={},To=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=No(c),c in gr)return;gr[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Eo,u||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((d,p)=>{m.addEventListener("load",d),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Io=(()=>{const t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return e=>t.call(e)})();function mi(t){return Io(t)==="Uint8Array"}function Oo(t){return typeof t=="object"&&t!=null&&Symbol.toStringTag in t&&(t[Symbol.toStringTag]==="ArrayBuffer"||t[Symbol.toStringTag]==="SharedArrayBuffer")}function vo(t){return t instanceof RegExp||Object.prototype.toString.call(t)==="[object RegExp]"}function pi(t){return typeof t=="object"&&t!=null&&Symbol.toStringTag in t&&t[Symbol.toStringTag]==="Map"}function Ao(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Ee(t,e){return JSON.stringify(t,(n,r)=>typeof r=="bigint"?{$numberLong:`${r}`}:pi(r)?Object.fromEntries(r):r)}function Co(t){if(t!=null&&typeof t=="object"&&"stylize"in t&&typeof t.stylize=="function")return t.stylize}const Xn=6,gi=Symbol.for("@@mdb.bson.version"),Kn=2147483647,Zn=-2147483648,bi=Math.pow(2,63)-1,yi=-Math.pow(2,63),jo=Math.pow(2,53),Bo=-Math.pow(2,53),wi=4;class C extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(e,n){super(e,n)}static isBSONError(e){return e!=null&&typeof e=="object"&&"bsonError"in e&&e.bsonError===!0&&"name"in e&&"message"in e&&"stack"in e}}class Uo extends C{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${Xn}.x.x`)}}class br extends C{get name(){return"BSONRuntimeError"}constructor(e){super(e)}}class at extends C{get name(){return"BSONOffsetError"}constructor(e,n,r){super(`${e}. offset: ${n}`,r),this.offset=n}}let yr,wr;function Si(t,e,n,r){if(r){yr??=new TextDecoder("utf8",{fatal:!0});try{return yr.decode(t.subarray(e,n))}catch(i){throw new C("Invalid UTF-8 string in BSON document",{cause:i})}}return wr??=new TextDecoder("utf8",{fatal:!1}),wr.decode(t.subarray(e,n))}function xi(t,e,n){if(t.length===0)return"";const r=n-e;if(r===0)return"";if(r>20)return null;if(r===1&&t[e]<128)return String.fromCharCode(t[e]);if(r===2&&t[e]<128&&t[e+1]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1]);if(r===3&&t[e]<128&&t[e+1]<128&&t[e+2]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1])+String.fromCharCode(t[e+2]);const i=[];for(let s=e;s<n;s++){const o=t[s];if(o>127)return null;i.push(o)}return String.fromCharCode(...i)}function _o(t,e,n){if(e.length===0)return 0;if(e.length>25||t.length-n<e.length)return null;for(let r=0,i=n;r<e.length;r++,i++){const s=e.charCodeAt(r);if(s>127)return null;t[i]=s}return e.length}function Po(t){return De.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}const Ro=await(async()=>{try{return(await To(async()=>{const{randomBytes:t}=await import("./_._well-known.appspecific._filename-D0ECua74.js").then(e=>e._);return{randomBytes:t}},[])).randomBytes}catch{return Po}})(),De={toLocalBufferType(t){if(Buffer.isBuffer(t))return t;if(ArrayBuffer.isView(t))return Buffer.from(t.buffer,t.byteOffset,t.byteLength);const e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return Buffer.from(t);throw new C("Cannot create Buffer from the passed potentialBuffer.")},allocate(t){return Buffer.alloc(t)},allocateUnsafe(t){return Buffer.allocUnsafe(t)},equals(t,e){return De.toLocalBufferType(t).equals(e)},fromNumberArray(t){return Buffer.from(t)},fromBase64(t){return Buffer.from(t,"base64")},toBase64(t){return De.toLocalBufferType(t).toString("base64")},fromISO88591(t){return Buffer.from(t,"binary")},toISO88591(t){return De.toLocalBufferType(t).toString("binary")},fromHex(t){return Buffer.from(t,"hex")},toHex(t){return De.toLocalBufferType(t).toString("hex")},toUTF8(t,e,n,r){const i=n-e<=20?xi(t,e,n):null;if(i!=null)return i;const s=De.toLocalBufferType(t).toString("utf8",e,n);if(r){for(let o=0;o<s.length;o++)if(s.charCodeAt(o)===65533){Si(t,e,n,!0);break}}return s},utf8ByteLength(t){return Buffer.byteLength(t,"utf8")},encodeUTF8Into(t,e,n){const r=_o(t,e,n);return r??De.toLocalBufferType(t).write(e,n,void 0,"utf8")},randomBytes:Ro,swap32(t){return De.toLocalBufferType(t).swap32()}};function ko(){const{navigator:t}=globalThis;return typeof t=="object"&&t.product==="ReactNative"}function Do(t){if(t<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${t}`);return zt.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}const Mo=(()=>{const{crypto:t}=globalThis;if(t!=null&&typeof t.getRandomValues=="function")return e=>t.getRandomValues(zt.allocate(e));if(ko()){const{console:e}=globalThis;e?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return Do})(),Sr=/(\d|[a-f])/i,zt={toLocalBufferType(t){const e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="Uint8Array")return t;if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return new Uint8Array(t);throw new C("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(t){if(typeof t!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(t)}`);return new Uint8Array(t)},allocateUnsafe(t){return zt.allocate(t)},equals(t,e){if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},fromNumberArray(t){return Uint8Array.from(t)},fromBase64(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))},toBase64(t){return btoa(zt.toISO88591(t))},fromISO88591(t){return Uint8Array.from(t,e=>e.charCodeAt(0)&255)},toISO88591(t){return Array.from(Uint16Array.from(t),e=>String.fromCharCode(e)).join("")},fromHex(t){const e=t.length%2===0?t:t.slice(0,t.length-1),n=[];for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(!Sr.test(i)||!Sr.test(s))break;const o=Number.parseInt(`${i}${s}`,16);n.push(o)}return Uint8Array.from(n)},toHex(t){return Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")},toUTF8(t,e,n,r){const i=n-e<=20?xi(t,e,n):null;return i??Si(t,e,n,r)},utf8ByteLength(t){return new TextEncoder().encode(t).byteLength},encodeUTF8Into(t,e,n){const r=new TextEncoder().encode(e);return t.set(r,n),r.byteLength},randomBytes:Mo,swap32(t){if(t.length%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t.length;e+=4){const n=t[e],r=t[e+1],i=t[e+2],s=t[e+3];t[e]=s,t[e+1]=i,t[e+2]=r,t[e+3]=n}return t}},Fo=typeof Buffer=="function"&&Buffer.prototype?._isBuffer!==!0,k=Fo?De:zt;class Oe{get[gi](){return Xn}[Symbol.for("nodejs.util.inspect.custom")](e,n,r){return this.inspect(e,n,r)}}const St=new Float64Array(1),X=new Uint8Array(St.buffer,0,8);St[0]=-1;const On=X[7]===0,rt={isBigEndian:On,getNonnegativeInt32LE(t,e){if(t[e+3]>127)throw new RangeError(`Size cannot be negative at offset: ${e}`);return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getInt32LE(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getUint32LE(t,e){return t[e]+t[e+1]*256+t[e+2]*65536+t[e+3]*16777216},getUint32BE(t,e){return t[e+3]+t[e+2]*256+t[e+1]*65536+t[e]*16777216},getBigInt64LE(t,e){const n=rt.getUint32LE(t,e),r=rt.getUint32LE(t,e+4);return(BigInt(r)<<BigInt(32))+BigInt(n)},getFloat64LE:On?(t,e)=>(X[7]=t[e],X[6]=t[e+1],X[5]=t[e+2],X[4]=t[e+3],X[3]=t[e+4],X[2]=t[e+5],X[1]=t[e+6],X[0]=t[e+7],St[0]):(t,e)=>(X[0]=t[e],X[1]=t[e+1],X[2]=t[e+2],X[3]=t[e+3],X[4]=t[e+4],X[5]=t[e+5],X[6]=t[e+6],X[7]=t[e+7],St[0]),setInt32BE(t,e,n){return t[e+3]=n,n>>>=8,t[e+2]=n,n>>>=8,t[e+1]=n,n>>>=8,t[e]=n,4},setInt32LE(t,e,n){return t[e]=n,n>>>=8,t[e+1]=n,n>>>=8,t[e+2]=n,n>>>=8,t[e+3]=n,4},setBigInt64LE(t,e,n){const r=BigInt(4294967295);let i=Number(n&r);t[e]=i,i>>=8,t[e+1]=i,i>>=8,t[e+2]=i,i>>=8,t[e+3]=i;let s=Number(n>>BigInt(32)&r);return t[e+4]=s,s>>=8,t[e+5]=s,s>>=8,t[e+6]=s,s>>=8,t[e+7]=s,8},setFloat64LE:On?(t,e,n)=>(St[0]=n,t[e]=X[7],t[e+1]=X[6],t[e+2]=X[5],t[e+3]=X[4],t[e+4]=X[3],t[e+5]=X[2],t[e+6]=X[1],t[e+7]=X[0],8):(t,e,n)=>(St[0]=n,t[e]=X[0],t[e+1]=X[1],t[e+2]=X[2],t[e+3]=X[3],t[e+4]=X[4],t[e+5]=X[5],t[e+6]=X[6],t[e+7]=X[7],8)};class F extends Oe{get _bsontype(){return"Binary"}constructor(e,n){if(super(),e!=null&&typeof e=="string"&&!ArrayBuffer.isView(e)&&!Oo(e)&&!Array.isArray(e))throw new C("Binary can only be constructed from Uint8Array or number[]");this.sub_type=n??F.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=k.allocate(F.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(e)?k.fromNumberArray(e):k.toLocalBufferType(e),this.position=this.buffer.byteLength)}put(e){if(typeof e=="string"&&e.length!==1)throw new C("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new C("only accepts single character Uint8Array or Array");let n;if(typeof e=="string"?n=e.charCodeAt(0):typeof e=="number"?n=e:n=e[0],n<0||n>255)throw new C("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=n;else{const r=k.allocate(F.BUFFER_SIZE+this.buffer.length);r.set(this.buffer,0),this.buffer=r,this.buffer[this.position++]=n}}write(e,n){if(n=typeof n=="number"?n:this.position,this.buffer.byteLength<n+e.length){const r=k.allocate(this.buffer.byteLength+e.length);r.set(this.buffer,0),this.buffer=r}if(ArrayBuffer.isView(e))this.buffer.set(k.toLocalBufferType(e),n),this.position=n+e.byteLength>this.position?n+e.length:this.position;else if(typeof e=="string")throw new C("input cannot be string")}read(e,n){n=n&&n>0?n:this.position;const r=e+n;return this.buffer.subarray(e,r>this.position?this.position:r)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return k.toBase64(this.buffer.subarray(0,this.position))}toString(e){return e==="hex"?k.toHex(this.buffer.subarray(0,this.position)):e==="base64"?k.toBase64(this.buffer.subarray(0,this.position)):e==="utf8"||e==="utf-8"?k.toUTF8(this.buffer,0,this.position,!1):k.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(e){e=e||{},this.sub_type===F.SUBTYPE_VECTOR&&Lo(this);const n=k.toBase64(this.buffer),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:n,$type:r.length===1?"0"+r:r}:{$binary:{base64:n,subType:r.length===1?"0"+r:r}}}toUUID(){if(this.sub_type===F.SUBTYPE_UUID)return new pe(this.buffer.subarray(0,this.position));throw new C(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${F.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(e,n){return new F(k.fromHex(e),n)}static createFromBase64(e,n){return new F(k.fromBase64(e),n)}static fromExtendedJSON(e,n){n=n||{};let r,i;if("$binary"in e?n.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,r=k.fromBase64(e.$binary)):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,r=k.fromBase64(e.$binary.base64)):"$uuid"in e&&(i=4,r=pe.bytesFromString(e.$uuid)),!r)throw new C(`Unexpected Binary Extended JSON format ${JSON.stringify(e)}`);return i===wi?new pe(r):new F(r,i)}inspect(e,n,r){r??=Ee;const i=k.toBase64(this.buffer.subarray(0,this.position)),s=r(i,n),o=r(this.sub_type,n);return`Binary.createFromBase64(${s}, ${o})`}toInt8Array(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.Int8)throw new C("Binary datatype field is not Int8");return new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.Float32)throw new C("Binary datatype field is not Float32");const e=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return rt.isBigEndian&&k.swap32(e),new Float32Array(e.buffer)}toPackedBits(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.PackedBit)throw new C("Binary datatype field is not packed bit");return new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.PackedBit)throw new C("Binary datatype field is not packed bit");const n=(this.length()-2)*8-this.buffer[1],r=new Int8Array(n);for(let i=0;i<r.length;i++){const s=i/8|0,o=this.buffer[s+2],a=7-i%8,c=o>>a&1;r[i]=c}return r}static fromInt8Array(e){const n=k.allocate(e.byteLength+2);n[0]=F.VECTOR_TYPE.Int8,n[1]=0;const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return n.set(r,2),new this(n,this.SUBTYPE_VECTOR)}static fromFloat32Array(e){const n=k.allocate(e.byteLength+2);n[0]=F.VECTOR_TYPE.Float32,n[1]=0;const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return n.set(r,2),rt.isBigEndian&&k.swap32(new Uint8Array(n.buffer,2)),new this(n,this.SUBTYPE_VECTOR)}static fromPackedBits(e,n=0){const r=k.allocate(e.byteLength+2);return r[0]=F.VECTOR_TYPE.PackedBit,r[1]=n,r.set(e,2),new this(r,this.SUBTYPE_VECTOR)}static fromBits(e){const n=e.length+7>>>3,r=new Uint8Array(n+2);r[0]=F.VECTOR_TYPE.PackedBit;const i=e.length%8;r[1]=i===0?0:8-i;for(let s=0;s<e.length;s++){const o=s>>>3,a=e[s];if(a!==0&&a!==1)throw new C(`Invalid bit value at ${s}: must be 0 or 1, found ${e[s]}`);if(a===0)continue;const c=7-s%8;r[o+2]|=a<<c}return new this(r,F.SUBTYPE_VECTOR)}}F.BSON_BINARY_SUBTYPE_DEFAULT=0;F.BUFFER_SIZE=256;F.SUBTYPE_DEFAULT=0;F.SUBTYPE_FUNCTION=1;F.SUBTYPE_BYTE_ARRAY=2;F.SUBTYPE_UUID_OLD=3;F.SUBTYPE_UUID=4;F.SUBTYPE_MD5=5;F.SUBTYPE_ENCRYPTED=6;F.SUBTYPE_COLUMN=7;F.SUBTYPE_SENSITIVE=8;F.SUBTYPE_VECTOR=9;F.SUBTYPE_USER_DEFINED=128;F.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});function Lo(t){if(t.sub_type!==F.SUBTYPE_VECTOR)return;const e=t.position,n=t.buffer[0],r=t.buffer[1];if((n===F.VECTOR_TYPE.Float32||n===F.VECTOR_TYPE.Int8)&&r!==0)throw new C("Invalid Vector: padding must be zero for int8 and float32 vectors");if(n===F.VECTOR_TYPE.PackedBit&&r!==0&&e===2)throw new C("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(n===F.VECTOR_TYPE.PackedBit&&r>7)throw new C(`Invalid Vector: padding must be a value between 0 and 7. found: ${r}`)}const vn=16,$o=/^[0-9A-F]{32}$/i,Vo=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class pe extends F{constructor(e){let n;if(e==null)n=pe.generate();else if(e instanceof pe)n=k.toLocalBufferType(new Uint8Array(e.buffer));else if(ArrayBuffer.isView(e)&&e.byteLength===vn)n=k.toLocalBufferType(e);else if(typeof e=="string")n=pe.bytesFromString(e);else throw new C("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(n,wi)}get id(){return this.buffer}set id(e){this.buffer=e}toHexString(e=!0){return e?[k.toHex(this.buffer.subarray(0,4)),k.toHex(this.buffer.subarray(4,6)),k.toHex(this.buffer.subarray(6,8)),k.toHex(this.buffer.subarray(8,10)),k.toHex(this.buffer.subarray(10,16))].join("-"):k.toHex(this.buffer)}toString(e){return e==="hex"?k.toHex(this.id):e==="base64"?k.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(!e)return!1;if(e instanceof pe)return k.equals(e.id,this.id);try{return k.equals(new pe(e).id,this.id)}catch{return!1}}toBinary(){return new F(this.id,F.SUBTYPE_UUID)}static generate(){const e=k.randomBytes(vn);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e}static isValid(e){return e?typeof e=="string"?pe.isValidUUIDString(e):mi(e)?e.byteLength===vn:e._bsontype==="Binary"&&e.sub_type===this.SUBTYPE_UUID&&e.buffer.byteLength===16:!1}static createFromHexString(e){const n=pe.bytesFromString(e);return new pe(n)}static createFromBase64(e){return new pe(k.fromBase64(e))}static bytesFromString(e){if(!pe.isValidUUIDString(e))throw new C("UUID string representation must be 32 hex digits or canonical hyphenated representation");return k.fromHex(e.replace(/-/g,""))}static isValidUUIDString(e){return $o.test(e)||Vo.test(e)}inspect(e,n,r){return r??=Ee,`new UUID(${r(this.toHexString(),n)})`}}let Qn=class Ei extends Oe{get _bsontype(){return"Code"}constructor(e,n){super(),this.code=e.toString(),this.scope=n??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new Ei(e.$code,e.$scope)}inspect(e,n,r){r??=Ee;let i=r(this.code,n);const s=i.includes(`
`);this.scope!=null&&(i+=`,${s?`
`:" "}${r(this.scope,n)}`);const o=s&&this.scope===null;return`new Code(${s?`
`:""}${i}${o?`
`:""})`}};function Jo(t){return t!=null&&typeof t=="object"&&"$id"in t&&t.$id!=null&&"$ref"in t&&typeof t.$ref=="string"&&(!("$db"in t)||"$db"in t&&typeof t.$db=="string")}class vt extends Oe{get _bsontype(){return"DBRef"}constructor(e,n,r,i){super();const s=e.split(".");s.length===2&&(r=s.shift(),e=s.shift()),this.collection=e,this.oid=n,this.db=r,this.fields=i||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){const e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let n={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(n.$db=this.db),n=Object.assign(n,this.fields)),n}static fromExtendedJSON(e){const n=Object.assign({},e);return delete n.$ref,delete n.$id,delete n.$db,new vt(e.$ref,e.$id,e.$db,n)}inspect(e,n,r){r??=Ee;const i=[r(this.namespace,n),r(this.oid,n),...this.db?[r(this.db,n)]:[],...Object.keys(this.fields).length>0?[r(this.fields,n)]:[]];return i[1]=r===Ee?`new ObjectId(${i[1]})`:i[1],`new DBRef(${i.join(", ")})`}}function Ni(t){if(t==="")return t;let e=0;const n=t[e]==="-",r=t[e]==="+";(r||n)&&(e+=1);let i=!1;for(;e<t.length&&t[e]==="0";++e)i=!0;return i?`${n?"-":""}${t.length===e?"0":t.slice(e)}`:r?t.slice(1):t}function Go(t,e){e=e??10;const n="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,e);return new RegExp(`[^-+${n}]`,"i").test(t)?!1:t}let Te;try{Te=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const xr=65536,zo=1<<24,xt=xr*xr,Ti=xt*xt,Er=Ti/2,Nr={},Tr={},Ho=20,qo=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class f extends Oe{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(e=0,n,r){super();const i=typeof n=="boolean"?n:!!r,s=typeof n=="number"?n:0,o=typeof e=="string"?f.fromString(e,i):typeof e=="bigint"?f.fromBigInt(e,i):{low:e|0,high:s|0,unsigned:i};this.low=o.low,this.high=o.high,this.unsigned=o.unsigned}static fromBits(e,n,r){return new f(e,n,r)}static fromInt(e,n){let r,i,s;return n?(e>>>=0,(s=0<=e&&e<256)&&(i=Tr[e],i)?i:(r=f.fromBits(e,(e|0)<0?-1:0,!0),s&&(Tr[e]=r),r)):(e|=0,(s=-128<=e&&e<128)&&(i=Nr[e],i)?i:(r=f.fromBits(e,e<0?-1:0,!1),s&&(Nr[e]=r),r))}static fromNumber(e,n){if(isNaN(e))return n?f.UZERO:f.ZERO;if(n){if(e<0)return f.UZERO;if(e>=Ti)return f.MAX_UNSIGNED_VALUE}else{if(e<=-Er)return f.MIN_VALUE;if(e+1>=Er)return f.MAX_VALUE}return e<0?f.fromNumber(-e,n).neg():f.fromBits(e%xt|0,e/xt|0,n)}static fromBigInt(e,n){const r=BigInt(4294967295),i=BigInt(32);return new f(Number(e&r),Number(e>>i&r),n)}static _fromString(e,n,r){if(e.length===0)throw new C("empty string");if(r<2||36<r)throw new C("radix");let i;if((i=e.indexOf("-"))>0)throw new C("interior hyphen");if(i===0)return f._fromString(e.substring(1),n,r).neg();const s=f.fromNumber(Math.pow(r,8));let o=f.ZERO;for(let a=0;a<e.length;a+=8){const c=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+c),r);if(c<8){const h=f.fromNumber(Math.pow(r,c));o=o.mul(h).add(f.fromNumber(u))}else o=o.mul(s),o=o.add(f.fromNumber(u))}return o.unsigned=n,o}static fromStringStrict(e,n,r){let i=!1;if(typeof n=="number"?(r=n,n=!1):i=!!n,r??=10,e.trim()!==e)throw new C(`Input: '${e}' contains leading and/or trailing whitespace`);if(!Go(e,r))throw new C(`Input: '${e}' contains invalid characters for radix: ${r}`);const s=Ni(e),o=f._fromString(s,i,r);if(o.toString(r).toLowerCase()!==s.toLowerCase())throw new C(`Input: ${e} is not representable as ${o.unsigned?"an unsigned":"a signed"} 64-bit Long ${r!=null?`with radix: ${r}`:""}`);return o}static fromString(e,n,r){let i=!1;return typeof n=="number"?(r=n,n=!1):i=!!n,r??=10,e==="NaN"&&r<24||(e==="Infinity"||e==="+Infinity"||e==="-Infinity")&&r<35?f.ZERO:f._fromString(e,i,r)}static fromBytes(e,n,r){return r?f.fromBytesLE(e,n):f.fromBytesBE(e,n)}static fromBytesLE(e,n){return new f(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}static fromBytesBE(e,n){return new f(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}static isLong(e){return e!=null&&typeof e=="object"&&"__isLong__"in e&&e.__isLong__===!0}static fromValue(e,n){return typeof e=="number"?f.fromNumber(e,n):typeof e=="string"?f.fromString(e,n):f.fromBits(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}add(e){f.isLong(e)||(e=f.fromValue(e));const n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,c=e.low>>>16,u=e.low&65535;let h=0,m=0,d=0,p=0;return p+=s+u,d+=p>>>16,p&=65535,d+=i+c,m+=d>>>16,d&=65535,m+=r+a,h+=m>>>16,m&=65535,h+=n+o,h&=65535,f.fromBits(d<<16|p,h<<16|m,this.unsigned)}and(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(f.isLong(e)||(e=f.fromValue(e)),this.eq(e))return 0;const n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){if(f.isLong(e)||(e=f.fromValue(e)),e.isZero())throw new C("division by zero");if(Te){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;const s=(this.unsigned?Te.div_u:Te.div_s)(this.low,this.high,e.low,e.high);return f.fromBits(s,Te.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?f.UZERO:f.ZERO;let n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return f.UZERO;if(e.gt(this.shru(1)))return f.UONE;i=f.UZERO}else{if(this.eq(f.MIN_VALUE))return e.eq(f.ONE)||e.eq(f.NEG_ONE)?f.MIN_VALUE:e.eq(f.MIN_VALUE)?f.ONE:(n=this.shr(1).div(e).shl(1),n.eq(f.ZERO)?e.isNegative()?f.ONE:f.NEG_ONE:(r=this.sub(e.mul(n)),i=n.add(r.div(e)),i));if(e.eq(f.MIN_VALUE))return this.unsigned?f.UZERO:f.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=f.ZERO}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));const s=Math.ceil(Math.log(n)/Math.LN2),o=s<=48?1:Math.pow(2,s-48);let a=f.fromNumber(n),c=a.mul(e);for(;c.isNegative()||c.gt(r);)n-=o,a=f.fromNumber(n,this.unsigned),c=a.mul(e);a.isZero()&&(a=f.ONE),i=i.add(a),r=r.sub(c)}return i}div(e){return this.divide(e)}equals(e){return f.isLong(e)||(e=f.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(f.MIN_VALUE)?64:this.neg().getNumBitsAbs();const e=this.high!==0?this.high:this.low;let n;for(n=31;n>0&&!(e&1<<n);n--);return this.high!==0?n+33:n+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(e){return this.comp(e)<0}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return this.comp(e)<=0}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(f.isLong(e)||(e=f.fromValue(e)),Te){const n=(this.unsigned?Te.rem_u:Te.rem_s)(this.low,this.high,e.low,e.high);return f.fromBits(n,Te.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return f.ZERO;if(f.isLong(e)||(e=f.fromValue(e)),Te){const g=Te.mul(this.low,this.high,e.low,e.high);return f.fromBits(g,Te.get_high(),this.unsigned)}if(e.isZero())return f.ZERO;if(this.eq(f.MIN_VALUE))return e.isOdd()?f.MIN_VALUE:f.ZERO;if(e.eq(f.MIN_VALUE))return this.isOdd()?f.MIN_VALUE:f.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f.TWO_PWR_24)&&e.lt(f.TWO_PWR_24))return f.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);const n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,c=e.low>>>16,u=e.low&65535;let h=0,m=0,d=0,p=0;return p+=s*u,d+=p>>>16,p&=65535,d+=i*u,m+=d>>>16,d&=65535,d+=s*c,m+=d>>>16,d&=65535,m+=r*u,h+=m>>>16,m&=65535,m+=i*c,h+=m>>>16,m&=65535,m+=s*a,h+=m>>>16,m&=65535,h+=n*u+r*c+i*a+s*o,h&=65535,f.fromBits(d<<16|p,h<<16|m,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(f.MIN_VALUE)?f.MIN_VALUE:this.not().add(f.ONE)}neg(){return this.negate()}not(){return f.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return f.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?f.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):f.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return f.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?f.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):f.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(f.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;{const n=this.high;if(e<32){const r=this.low;return f.fromBits(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?f.fromBits(n,0,this.unsigned):f.fromBits(n>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return f.isLong(e)||(e=f.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*xt+(this.low>>>0):this.high*xt+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){const e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){const e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]}toSigned(){return this.unsigned?f.fromBits(this.low,this.high,!1):this}toString(e){if(e=e||10,e<2||36<e)throw new C("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(f.MIN_VALUE)){const s=f.fromNumber(e),o=this.div(s),a=o.mul(s).sub(this);return o.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);const n=f.fromNumber(Math.pow(e,6),this.unsigned);let r=this,i="";for(;;){const s=r.div(n);let a=(r.sub(s.mul(n)).toInt()>>>0).toString(e);if(r=s,r.isZero())return a+i;for(;a.length<6;)a="0"+a;i=""+a+i}}toUnsigned(){return this.unsigned?this:f.fromBits(this.low,this.high,!0)}xor(e){return f.isLong(e)||(e=f.fromValue(e)),f.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,n){const{useBigInt64:r=!1,relaxed:i=!0}={...n};if(e.$numberLong.length>Ho)throw new C("$numberLong string is too long");if(!qo.test(e.$numberLong))throw new C(`$numberLong string "${e.$numberLong}" is in an invalid format`);if(r){const o=BigInt(e.$numberLong);return BigInt.asIntN(64,o)}const s=f.fromString(e.$numberLong);return i?s.toNumber():s}inspect(e,n,r){r??=Ee;const i=r(this.toString(),n),s=this.unsigned?`, ${r(this.unsigned,n)}`:"";return`new Long(${i}${s})`}}f.TWO_PWR_24=f.fromInt(zo);f.MAX_UNSIGNED_VALUE=f.fromBits(-1,-1,!0);f.ZERO=f.fromInt(0);f.UZERO=f.fromInt(0,!0);f.ONE=f.fromInt(1);f.UONE=f.fromInt(1,!0);f.NEG_ONE=f.fromInt(-1);f.MAX_VALUE=f.fromBits(-1,2147483647,!1);f.MIN_VALUE=f.fromBits(0,-2147483648,!1);const Yo=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Wo=/^(\+|-)?(Infinity|inf)$/i,Xo=/^(\+|-)?NaN$/i,bt=6111,Pt=-6176,Ir=6176,Or=34,An=k.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),vr=k.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Ar=k.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Ko=/^([-+])?(\d+)?$/,Zo=31,Cr=16383,Qo=30,ea=31;function jr(t){return!isNaN(parseInt(t,10))}function ta(t){const e=f.fromNumber(1e9);let n=f.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:n};for(let r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new f(t.parts[r],0)),t.parts[r]=n.div(e).low,n=n.modulo(e);return{quotient:t,rem:n}}function na(t,e){if(!t&&!e)return{high:f.fromNumber(0),low:f.fromNumber(0)};const n=t.shiftRightUnsigned(32),r=new f(t.getLowBits(),0),i=e.shiftRightUnsigned(32),s=new f(e.getLowBits(),0);let o=n.multiply(i),a=n.multiply(s);const c=r.multiply(i);let u=r.multiply(s);return o=o.add(a.shiftRightUnsigned(32)),a=new f(a.getLowBits(),0).add(c).add(u.shiftRightUnsigned(32)),o=o.add(a.shiftRightUnsigned(32)),u=a.shiftLeft(32).add(new f(u.getLowBits(),0)),{high:o,low:u}}function ra(t,e){const n=t.high>>>0,r=e.high>>>0;if(n<r)return!0;if(n===r){const i=t.low>>>0,s=e.low>>>0;if(i<s)return!0}return!1}function Ae(t,e){throw new C(`"${t}" is not a valid Decimal128 string - ${e}`)}class Se extends Oe{get _bsontype(){return"Decimal128"}constructor(e){if(super(),typeof e=="string")this.bytes=Se.fromString(e).bytes;else if(e instanceof Uint8Array||mi(e)){if(e.byteLength!==16)throw new C("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new C("Decimal128 must take a Buffer or string")}static fromString(e){return Se._fromString(e,{allowRounding:!1})}static fromStringWithRounding(e){return Se._fromString(e,{allowRounding:!0})}static _fromString(e,n){let r=!1,i=!1,s=!1,o=!1,a=0,c=0,u=0,h=0,m=0;const d=[0];let p=0,g=0,y=0,x=0,O=new f(0,0),T=new f(0,0),L=0,E=0;if(e.length>=7e3)throw new C(""+e+" not a valid Decimal128 string");const B=e.match(Yo),z=e.match(Wo),D=e.match(Xo);if(!B&&!z&&!D||e.length===0)throw new C(""+e+" not a valid Decimal128 string");if(B){const U=B[2],$=B[4],H=B[5],R=B[6];$&&R===void 0&&Ae(e,"missing exponent power"),$&&U===void 0&&Ae(e,"missing exponent base"),$===void 0&&(H||R)&&Ae(e,"missing e before exponent")}if((e[E]==="+"||e[E]==="-")&&(i=!0,r=e[E++]==="-"),!jr(e[E])&&e[E]!=="."){if(e[E]==="i"||e[E]==="I")return new Se(r?vr:Ar);if(e[E]==="N")return new Se(An)}for(;jr(e[E])||e[E]===".";){if(e[E]==="."){s&&Ae(e,"contains multiple periods"),s=!0,E=E+1;continue}p<Or&&(e[E]!=="0"||o)&&(o||(m=c),o=!0,d[g++]=parseInt(e[E],10),p=p+1),o&&(u=u+1),s&&(h=h+1),c=c+1,E=E+1}if(s&&!c)throw new C(""+e+" not a valid Decimal128 string");if(e[E]==="e"||e[E]==="E"){const U=e.substr(++E).match(Ko);if(!U||!U[2])return new Se(An);x=parseInt(U[0],10),E=E+U[0].length}if(e[E])return new Se(An);if(!p)d[0]=0,u=1,p=1,a=0;else if(y=p-1,a=u,a!==1)for(;e[m+a-1+Number(i)+Number(s)]==="0";)a=a-1;for(x<=h&&h>x+16384?x=Pt:x=x-h;x>bt;){if(y=y+1,y>=Or){if(a===0){x=bt;break}Ae(e,"overflow")}x=x-1}if(n.allowRounding){for(;x<Pt||p<u;){if(y===0&&a<p){x=Pt,a=0;break}if(p<u?u=u-1:y=y-1,x<bt)x=x+1;else{if(d.join("").match(/^0+$/)){x=bt;break}Ae(e,"overflow")}}if(y+1<a){let U=c;s&&(m=m+1,U=U+1),i&&(m=m+1,U=U+1);const $=parseInt(e[m+y+1],10);let H=0;if($>=5&&(H=1,$===5)){H=d[y]%2===1?1:0;for(let R=m+y+2;R<U;R++)if(parseInt(e[R],10)){H=1;break}}if(H){let R=y;for(;R>=0&&++d[R]>9;R--)if(d[R]=0,R===0)if(x<bt)x=x+1,d[R]=1;else return new Se(r?vr:Ar)}}}else{for(;x<Pt||p<u;){if(y===0){if(a===0){x=Pt;break}Ae(e,"exponent underflow")}p<u?(e[u-1+Number(i)+Number(s)]!=="0"&&a!==0&&Ae(e,"inexact rounding"),u=u-1):(d[y]!==0&&Ae(e,"inexact rounding"),y=y-1),x<bt?x=x+1:Ae(e,"overflow")}y+1<a&&(s&&(m=m+1),i&&(m=m+1),parseInt(e[m+y+1],10)!==0&&Ae(e,"inexact rounding"))}if(O=f.fromNumber(0),T=f.fromNumber(0),a===0)O=f.fromNumber(0),T=f.fromNumber(0);else if(y<17){let U=0;for(T=f.fromNumber(d[U++]),O=new f(0,0);U<=y;U++)T=T.multiply(f.fromNumber(10)),T=T.add(f.fromNumber(d[U]))}else{let U=0;for(O=f.fromNumber(d[U++]);U<=y-17;U++)O=O.multiply(f.fromNumber(10)),O=O.add(f.fromNumber(d[U]));for(T=f.fromNumber(d[U++]);U<=y;U++)T=T.multiply(f.fromNumber(10)),T=T.add(f.fromNumber(d[U]))}const I=na(O,f.fromString("100000000000000000"));I.low=I.low.add(T),ra(I.low,T)&&(I.high=I.high.add(f.fromNumber(1))),L=x+Ir;const A={low:f.fromNumber(0),high:f.fromNumber(0)};I.high.shiftRightUnsigned(49).and(f.fromNumber(1)).equals(f.fromNumber(1))?(A.high=A.high.or(f.fromNumber(3).shiftLeft(61)),A.high=A.high.or(f.fromNumber(L).and(f.fromNumber(16383).shiftLeft(47))),A.high=A.high.or(I.high.and(f.fromNumber(0x7fffffffffff)))):(A.high=A.high.or(f.fromNumber(L&16383).shiftLeft(49)),A.high=A.high.or(I.high.and(f.fromNumber(562949953421311)))),A.low=I.low,r&&(A.high=A.high.or(f.fromString("9223372036854775808")));const _=k.allocateUnsafe(16);return E=0,_[E++]=A.low.low&255,_[E++]=A.low.low>>8&255,_[E++]=A.low.low>>16&255,_[E++]=A.low.low>>24&255,_[E++]=A.low.high&255,_[E++]=A.low.high>>8&255,_[E++]=A.low.high>>16&255,_[E++]=A.low.high>>24&255,_[E++]=A.high.low&255,_[E++]=A.high.low>>8&255,_[E++]=A.high.low>>16&255,_[E++]=A.high.low>>24&255,_[E++]=A.high.high&255,_[E++]=A.high.high>>8&255,_[E++]=A.high.high>>16&255,_[E++]=A.high.high>>24&255,new Se(_)}toString(){let e,n=0;const r=new Array(36);for(let E=0;E<r.length;E++)r[E]=0;let i=0,s=!1,o,a={parts:[0,0,0,0]},c,u;const h=[];i=0;const m=this.bytes,d=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24,p=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24,g=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24,y=m[i++]|m[i++]<<8|m[i++]<<16|m[i++]<<24;i=0,{low:new f(d,p),high:new f(g,y)}.high.lessThan(f.ZERO)&&h.push("-");const O=y>>26&Zo;if(O>>3===3){if(O===Qo)return h.join("")+"Infinity";if(O===ea)return"NaN";e=y>>15&Cr,o=8+(y>>14&1)}else o=y>>14&7,e=y>>17&Cr;const T=e-Ir;if(a.parts[0]=(y&16383)+((o&15)<<14),a.parts[1]=g,a.parts[2]=p,a.parts[3]=d,a.parts[0]===0&&a.parts[1]===0&&a.parts[2]===0&&a.parts[3]===0)s=!0;else for(u=3;u>=0;u--){let E=0;const B=ta(a);if(a=B.quotient,E=B.rem.low,!!E)for(c=8;c>=0;c--)r[u*9+c]=E%10,E=Math.floor(E/10)}if(s)n=1,r[i]=0;else for(n=36;!r[i];)n=n-1,i=i+1;const L=n-1+T;if(L>=34||L<=-7||T>0){if(n>34)return h.push("0"),T>0?h.push(`E+${T}`):T<0&&h.push(`E${T}`),h.join("");h.push(`${r[i++]}`),n=n-1,n&&h.push(".");for(let E=0;E<n;E++)h.push(`${r[i++]}`);h.push("E"),L>0?h.push(`+${L}`):h.push(`${L}`)}else if(T>=0)for(let E=0;E<n;E++)h.push(`${r[i++]}`);else{let E=n+T;if(E>0)for(let B=0;B<E;B++)h.push(`${r[i++]}`);else h.push("0");for(h.push(".");E++<0;)h.push("0");for(let B=0;B<n-Math.max(E-1,0);B++)h.push(`${r[i++]}`)}return h.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return Se.fromString(e.$numberDecimal)}inspect(e,n,r){return r??=Ee,`new Decimal128(${r(this.toString(),n)})`}}class Fe extends Oe{get _bsontype(){return"Double"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e}static fromString(e){const n=Number(e);if(e==="NaN")return new Fe(NaN);if(e==="Infinity")return new Fe(1/0);if(e==="-Infinity")return new Fe(-1/0);if(!Number.isFinite(n))throw new C(`Input: ${e} is not representable as a Double`);if(e.trim()!==e)throw new C(`Input: '${e}' contains whitespace`);if(e==="")throw new C("Input is an empty string");if(/[^-0-9.+eE]/.test(e))throw new C(`Input: '${e}' is not in decimal or exponential notation`);return new Fe(n)}valueOf(){return this.value}toJSON(){return this.value}toString(e){return this.value.toString(e)}toExtendedJSON(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(e,n){const r=parseFloat(e.$numberDouble);return n&&n.relaxed?r:new Fe(r)}inspect(e,n,r){return r??=Ee,`new Double(${r(this.value,n)})`}}class At extends Oe{get _bsontype(){return"Int32"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e|0}static fromString(e){const n=Ni(e),r=Number(e);if(Kn<r)throw new C(`Input: '${e}' is larger than the maximum value for Int32`);if(Zn>r)throw new C(`Input: '${e}' is smaller than the minimum value for Int32`);if(Number.isSafeInteger(r)){if(r.toString()!==n)throw new C(`Input: '${e}' is not a valid Int32 string`)}else throw new C(`Input: '${e}' is not a safe integer`);return new At(r)}valueOf(){return this.value}toString(e){return this.value.toString(e)}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,n){return n&&n.relaxed?parseInt(e.$numberInt,10):new At(e.$numberInt)}inspect(e,n,r){return r??=Ee,`new Int32(${r(this.value,n)})`}}class gn extends Oe{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new gn}inspect(){return"new MaxKey()"}}class bn extends Oe{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new bn}inspect(){return"new MinKey()"}}let ft=null;const Rt=new WeakMap;class te extends Oe{get _bsontype(){return"ObjectId"}constructor(e){super();let n;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new C("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?n=k.fromHex(e.toHexString()):n=e.id}else n=e;if(n==null||typeof n=="number")this.buffer=te.generate(typeof n=="number"?n:void 0);else if(ArrayBuffer.isView(n)&&n.byteLength===12)this.buffer=k.toLocalBufferType(n);else if(typeof n=="string")if(te.validateHexString(n))this.buffer=k.fromHex(n),te.cacheHexString&&Rt.set(this,n);else throw new C("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new C("Argument passed in does not match the accepted types")}get id(){return this.buffer}set id(e){this.buffer=e,te.cacheHexString&&Rt.set(this,k.toHex(e))}static validateHexString(e){if(e?.length!==24)return!1;for(let n=0;n<24;n++){const r=e.charCodeAt(n);if(!(r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70))return!1}return!0}toHexString(){if(te.cacheHexString){const n=Rt.get(this);if(n)return n}const e=k.toHex(this.id);return te.cacheHexString&&Rt.set(this,e),e}static getInc(){return te.index=(te.index+1)%16777215}static generate(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));const n=te.getInc(),r=k.allocateUnsafe(12);return rt.setInt32BE(r,0,e),ft===null&&(ft=k.randomBytes(5)),r[4]=ft[0],r[5]=ft[1],r[6]=ft[2],r[7]=ft[3],r[8]=ft[4],r[11]=n&255,r[10]=n>>8&255,r[9]=n>>16&255,r}toString(e){return e==="base64"?k.toBase64(this.id):e==="hex"?this.toHexString():this.toHexString()}toJSON(){return this.toHexString()}static is(e){return e!=null&&typeof e=="object"&&"_bsontype"in e&&e._bsontype==="ObjectId"}equals(e){if(e==null)return!1;if(te.is(e))return this.buffer[11]===e.buffer[11]&&k.equals(this.buffer,e.buffer);if(typeof e=="string")return e.toLowerCase()===this.toHexString();if(typeof e=="object"&&typeof e.toHexString=="function"){const n=e.toHexString(),r=this.toHexString();return typeof n=="string"&&n.toLowerCase()===r}return!1}getTimestamp(){const e=new Date,n=rt.getUint32BE(this.buffer,0);return e.setTime(Math.floor(n)*1e3),e}static createPk(){return new te}serializeInto(e,n){return e[n]=this.buffer[0],e[n+1]=this.buffer[1],e[n+2]=this.buffer[2],e[n+3]=this.buffer[3],e[n+4]=this.buffer[4],e[n+5]=this.buffer[5],e[n+6]=this.buffer[6],e[n+7]=this.buffer[7],e[n+8]=this.buffer[8],e[n+9]=this.buffer[9],e[n+10]=this.buffer[10],e[n+11]=this.buffer[11],12}static createFromTime(e){const n=k.allocate(12);for(let r=11;r>=4;r--)n[r]=0;return rt.setInt32BE(n,0,e),new te(n)}static createFromHexString(e){if(e?.length!==24)throw new C("hex string must be 24 characters");return new te(k.fromHex(e))}static createFromBase64(e){if(e?.length!==16)throw new C("base64 string must be 16 characters");return new te(k.fromBase64(e))}static isValid(e){if(e==null)return!1;if(typeof e=="string")return te.validateHexString(e);try{return new te(e),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new te(e.$oid)}isCached(){return te.cacheHexString&&Rt.has(this)}inspect(e,n,r){return r??=Ee,`new ObjectId(${r(this.toHexString(),n)})`}}te.index=Math.floor(Math.random()*16777215);function ia(t){return t.split("").sort().join("")}class Ve extends Oe{get _bsontype(){return"BSONRegExp"}constructor(e,n){if(super(),this.pattern=e,this.options=ia(n??""),this.pattern.indexOf("\0")!==-1)throw new C(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new C(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let r=0;r<this.options.length;r++)if(!(this.options[r]==="i"||this.options[r]==="m"||this.options[r]==="x"||this.options[r]==="l"||this.options[r]==="s"||this.options[r]==="u"))throw new C(`The regular expression option [${this.options[r]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new Ve(e.$regex,Ve.parseOptions(e.$options));if("$regularExpression"in e)return new Ve(e.$regularExpression.pattern,Ve.parseOptions(e.$regularExpression.options));throw new C(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(e)}`)}inspect(e,n,r){const i=Co(n)??(a=>a);r??=Ee;const s=i(r(this.pattern),"regexp"),o=i(r(this.options),"regexp");return`new BSONRegExp(${s}, ${o})`}}class yn extends Oe{get _bsontype(){return"BSONSymbol"}constructor(e){super(),this.value=e}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new yn(e.$symbol)}inspect(e,n,r){return r??=Ee,`new BSONSymbol(${r(this.value,n)})`}}const sa=f;class Le extends sa{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(e){if(e==null)super(0,0,!0);else if(typeof e=="bigint")super(e,!0);else if(f.isLong(e))super(e.low,e.high,!0);else if(typeof e=="object"&&"t"in e&&"i"in e){if(typeof e.t!="number"&&(typeof e.t!="object"||e.t._bsontype!=="Int32"))throw new C("Timestamp constructed from { t, i } must provide t as a number");if(typeof e.i!="number"&&(typeof e.i!="object"||e.i._bsontype!=="Int32"))throw new C("Timestamp constructed from { t, i } must provide i as a number");const n=Number(e.t),r=Number(e.i);if(n<0||Number.isNaN(n))throw new C("Timestamp constructed from { t, i } must provide a positive t");if(r<0||Number.isNaN(r))throw new C("Timestamp constructed from { t, i } must provide a positive i");if(n>4294967295)throw new C("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(r>4294967295)throw new C("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(r,n,!0)}else throw new C("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new Le(f.fromInt(e,!0))}static fromNumber(e){return new Le(f.fromNumber(e,!0))}static fromBits(e,n){return new Le({i:e,t:n})}static fromString(e,n){return new Le(f.fromString(e,!0,n))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(e){const n=f.isLong(e.$timestamp.i)?e.$timestamp.i.getLowBitsUnsigned():e.$timestamp.i,r=f.isLong(e.$timestamp.t)?e.$timestamp.t.getLowBitsUnsigned():e.$timestamp.t;return new Le({t:r,i:n})}inspect(e,n,r){r??=Ee;const i=r(this.t,n),s=r(this.i,n);return`new Timestamp({ t: ${i}, i: ${s} })`}}Le.MAX_VALUE=f.MAX_UNSIGNED_VALUE;f.fromNumber(jo);f.fromNumber(Bo);function oa(t){return t!=null&&typeof t=="object"&&"_bsontype"in t&&typeof t._bsontype=="string"}const aa={$oid:te,$binary:F,$uuid:F,$symbol:yn,$numberInt:At,$numberDecimal:Se,$numberDouble:Fe,$numberLong:f,$minKey:bn,$maxKey:gn,$regex:Ve,$regularExpression:Ve,$timestamp:Le};function Ii(t,e={}){if(typeof t=="number"){const r=t<=Kn&&t>=Zn,i=t<=bi&&t>=yi;if(e.relaxed||e.legacy)return t;if(Number.isInteger(t)&&!Object.is(t,-0)){if(r)return new At(t);if(i)return e.useBigInt64?BigInt(t):f.fromNumber(t)}return new Fe(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;const n=Object.keys(t).filter(r=>r.startsWith("$")&&t[r]!=null);for(let r=0;r<n.length;r++){const i=aa[n[r]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){const r=t.$date,i=new Date;if(e.legacy)if(typeof r=="number")i.setTime(r);else if(typeof r=="string")i.setTime(Date.parse(r));else if(typeof r=="bigint")i.setTime(Number(r));else throw new br(`Unrecognized type for EJSON date: ${typeof r}`);else if(typeof r=="string")i.setTime(Date.parse(r));else if(f.isLong(r))i.setTime(r.toNumber());else if(typeof r=="number"&&e.relaxed)i.setTime(r);else if(typeof r=="bigint")i.setTime(Number(r));else throw new br(`Unrecognized type for EJSON date: ${typeof r}`);return i}if(t.$code!=null){const r=Object.assign({},t);return t.$scope&&(r.$scope=Ii(t.$scope)),Qn.fromExtendedJSON(t)}if(Jo(t)||t.$dbPointer){const r=t.$ref?t:t.$dbPointer;if(r instanceof vt)return r;const i=Object.keys(r).filter(o=>o.startsWith("$"));let s=!0;if(i.forEach(o=>{["$ref","$id","$db"].indexOf(o)===-1&&(s=!1)}),s)return vt.fromExtendedJSON(r)}return t}function ca(t,e){return t.map((n,r)=>{e.seenObjects.push({propertyName:`index ${r}`,obj:null});try{return Me(n,e)}finally{e.seenObjects.pop()}})}function Br(t){const e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function Me(t,e){if(t instanceof Map||pi(t)){const n=Object.create(null);for(const[r,i]of t){if(typeof r!="string")throw new C("Can only serialize maps with string keys");n[r]=i}return Me(n,e)}if((typeof t=="object"||typeof t=="function")&&t!==null){const n=e.seenObjects.findIndex(r=>r.obj===t);if(n!==-1){const r=e.seenObjects.map(h=>h.propertyName),i=r.slice(0,n).map(h=>`${h} -> `).join(""),s=r[n],o=" -> "+r.slice(n+1,r.length-1).map(h=>`${h} -> `).join(""),a=r[r.length-1],c=" ".repeat(i.length+s.length/2),u="-".repeat(o.length+(s.length+a.length)/2-1);throw new C(`Converting circular structure to EJSON:
    ${i}${s}${o}${a}
    ${c}\\${u}/`)}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return ca(t,e);if(t===void 0)return null;if(t instanceof Date||Ao(t)){const n=t.getTime(),r=n>-1&&n<2534023188e5;return e.legacy?e.relaxed&&r?{$date:t.getTime()}:{$date:Br(t)}:e.relaxed&&r?{$date:Br(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Number.isInteger(t)&&!Object.is(t,-0)){if(t>=Zn&&t<=Kn)return{$numberInt:t.toString()};if(t>=yi&&t<=bi)return{$numberLong:t.toString()}}return{$numberDouble:Object.is(t,-0)?"-0.0":t.toString()}}if(typeof t=="bigint")return e.relaxed?Number(BigInt.asIntN(64,t)):{$numberLong:BigInt.asIntN(64,t).toString()};if(t instanceof RegExp||vo(t)){let n=t.flags;if(n===void 0){const i=t.toString().match(/[gimuy]*$/);i&&(n=i[0])}return new Ve(t.source,n).toExtendedJSON(e)}return t!=null&&typeof t=="object"?ua(t,e):t}const la={Binary:t=>new F(t.value(),t.sub_type),Code:t=>new Qn(t.code,t.scope),DBRef:t=>new vt(t.collection||t.namespace,t.oid,t.db,t.fields),Decimal128:t=>new Se(t.bytes),Double:t=>new Fe(t.value),Int32:t=>new At(t.value),Long:t=>f.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_),MaxKey:()=>new gn,MinKey:()=>new bn,ObjectId:t=>new te(t),BSONRegExp:t=>new Ve(t.pattern,t.options),BSONSymbol:t=>new yn(t.value),Timestamp:t=>Le.fromBits(t.low,t.high)};function ua(t,e){if(t==null||typeof t!="object")throw new C("not an object instance");const n=t._bsontype;if(typeof n>"u"){const r={};for(const i of Object.keys(t)){e.seenObjects.push({propertyName:i,obj:null});try{const s=Me(t[i],e);i==="__proto__"?Object.defineProperty(r,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):r[i]=s}finally{e.seenObjects.pop()}}return r}else{if(t!=null&&typeof t=="object"&&typeof t._bsontype=="string"&&t[gi]!==Xn)throw new Uo;if(oa(t)){let r=t;if(typeof r.toExtendedJSON!="function"){const i=la[t._bsontype];if(!i)throw new C("Unrecognized or invalid _bsontype: "+t._bsontype);r=i(r)}return n==="Code"&&r.scope?r=new Qn(r.code,Me(r.scope,e)):n==="DBRef"&&r.oid&&(r=new vt(Me(r.collection,e),Me(r.oid,e),Me(r.db,e),Me(r.fields,e))),r.toExtendedJSON(e)}else throw new C("_bsontype must be a string, but was: "+typeof n)}}function Oi(t,e){const n={useBigInt64:e?.useBigInt64??!1,relaxed:e?.relaxed??!0,legacy:e?.legacy??!1};return JSON.parse(t,(r,i)=>{if(r.indexOf("\0")!==-1)throw new C(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(r)}`);return Ii(i,n)})}function vi(t,e,n,r){n!=null&&typeof n=="object"&&(r=n,n=0),e!=null&&typeof e=="object"&&!Array.isArray(e)&&(r=e,e=void 0,n=0);const i=Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]}),s=Me(t,i);return JSON.stringify(s,e,n)}function fa(t,e){return e=e||{},JSON.parse(vi(t,e))}function da(t,e){return e=e||{},Oi(JSON.stringify(t),e)}const ue=Object.create(null);ue.parse=Oi;ue.stringify=vi;ue.serialize=fa;ue.deserialize=da;Object.freeze(ue);function Cn(t,e){try{return rt.getNonnegativeInt32LE(t,e)}catch(n){throw new at("BSON size cannot be negative",e,{cause:n})}}function jn(t,e){let n=e;for(;t[n]!==0;n++);if(n===t.length-1)throw new at("Null terminator not found",e);return n}function ha(t,e=0){if(e??=0,t.length<5)throw new at(`Input must be at least 5 bytes, got ${t.length} bytes`,e);const n=Cn(t,e);if(n>t.length-e)throw new at(`Parsed documentSize (${n} bytes) does not match input length (${t.length} bytes)`,e);if(t[e+n-1]!==0)throw new at("BSON documents must end in 0x00",e+n);const r=[];let i=e+4;for(;i<=n+e;){const s=t[i];if(i+=1,s===0){if(i-e!==n)throw new at("Invalid 0x00 type byte",i);break}const o=i,a=jn(t,i)-o;i+=a+1;let c;if(s===1||s===18||s===9||s===17)c=8;else if(s===16)c=4;else if(s===7)c=12;else if(s===19)c=16;else if(s===8)c=1;else if(s===10||s===6||s===127||s===255)c=0;else if(s===11)c=jn(t,jn(t,i)+1)+1-i;else if(s===3||s===4||s===15)c=Cn(t,i);else if(s===2||s===5||s===12||s===13||s===14)c=Cn(t,i)+4,s===5&&(c+=1),s===12&&(c+=12);else throw new at(`Invalid 0x${s.toString(16).padStart(2,"0")} type byte`,i);if(c>n)throw new at("value reports length larger than document",i);r.push([s,o,a,i,c]),i+=c}return r}const wn=Object.create(null);wn.parseToElements=ha;wn.ByteUtils=k;wn.NumberUtils=rt;Object.freeze(wn);const ma=1024*1024*17;k.allocate(ma);const Ur=["Auto","String","Number","Boolean","ObjectId","Date","Null","Array","Object"],pa=t=>typeof t=="string"?"String":typeof t=="number"?"Number":typeof t=="boolean"?"Boolean":t===null?"Null":t instanceof Date?"Date":Array.isArray(t)?"Array":typeof t=="object"?"Object":"Auto",ke=({children:t,...e})=>l.jsx("button",{...e,className:"px-1 py-1 hover:bg-neutral-200"+(e.className?" "+e.className:""),children:t}),Ai=({expanded:t,allowEdit:e,data:n,path:r,autocompleteItems:i,autocompleteType:s,onUpdate:o,onDelete:a,onAdd:c})=>{const[u,h]=b.useState(t),[m,d]=b.useState(!1),[p,g]=b.useState(""),[y,x]=b.useState(""),[O,T]=b.useState(""),[L,E]=b.useState(!1),[B,z]=b.useState("String"),[D,I]=b.useState(null),A=b.useRef(null),_=()=>h(!u),U=()=>{g(ue.stringify(n)),d(!0)},$=()=>{I(null),H(p).then(S=>{o?.(r,S),d(!1),I(null),h(!0)}).catch(S=>{I(S.message)})},H=S=>new Promise((V,W)=>{switch(B){case"Number":const le=Number(S);if(isNaN(le)){W(new Error("Invalid number"));return}V(le);break;case"Boolean":if(S=="1"||S.toLowerCase()==="true")V(!0);else if(S=="0"||S.toLowerCase()==="false")V(!1);else{W(new Error("Invalid boolean"));return}break;case"Null":if(S.trim().toLowerCase()!=="null"&&S.trim()!==""){W(new Error('For "Null" type, the value must be "null" or empty'));return}V(null);break;case"Date":const fe=new Date(S);if(isNaN(fe.getTime())){W(new Error("Invalid date"));return}V(fe);break;case"Array":try{const se=ue.parse(S);if(!Array.isArray(se)){W(new Error("Value is not an array"));return}V(se)}catch(se){W(new Error(se.message));return}break;case"ObjectId":const he=new te(S);if(!te.isValid(he)){W(new Error("Invalid ObjectId"));return}V(he);break;case"Object":try{const se=ue.parse(S);if(typeof se!="object"||Array.isArray(se)||se===null){W(new Error("Value is not an object"));return}V(se)}catch(se){W(new Error(se.message));return}break;case"String":V(S),d(!1);break;default:try{const se=ue.parse(S);V(se),d(!1);return}catch(se){W(new Error(se.message));return}}}),R=()=>{I(null),H(O).then(S=>{c?.(r,y,S),x(()=>""),T(()=>""),E(!1)}).catch(S=>{I(S.message)}),h(!0)},M=()=>{if(m&&e){let S={};return A.current&&(S={minWidth:A.current.clientWidth+5+"px"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("textarea",{className:"w-32 h-6 px-1 pt-0.5 text-xs leading-5 font-medium border border-solid  border-neutral-300",placeholder:"Value (JSON or String or Number ...)",style:{resize:"both",...S},value:p,onChange:V=>g(V.target.value)})}),l.jsxs(Nt,{value:B,onValueChange:V=>{z(V)},children:[l.jsx(Tt,{className:"w-12 h-6 px-1 py-1 text-xs bg-white min-w-24",children:l.jsx(an,{placeholder:"Type"})}),l.jsx(It,{children:Ur.map(V=>l.jsx(Ot,{value:V,className:"text-xs",children:V},V))})]}),l.jsx(ke,{onClick:$,className:"",children:l.jsx(dn,{className:"w-3 h-3"})}),l.jsx(ke,{onClick:()=>d(!1),className:"",children:l.jsx(Mn,{className:"w-3 h-3"})})]}),D&&l.jsxs("div",{className:"flex items-center px-1 mt-1 text-xs text-red-600 bg-red-100",children:[l.jsx(dr,{className:"w-3 h-3 mr-1"}),D]})]})}if(typeof n!="object"||n===null||n instanceof te||n instanceof Date){let S=n;return n instanceof te?S=`ObjectId("${n.toHexString()}")`:n instanceof Date?S=n.toISOString():S=ue.stringify(n),l.jsx("span",{ref:A,className:["px-1 min-h-5 flex items-center rounded",typeof n=="string"&&"text-green-600",typeof n=="number"&&"text-blue-600",n instanceof te&&"text-red-600 font-medium",n instanceof Date&&"text-yellow-600 font-medium",typeof n=="boolean"&&"text-purple-600",n===null&&"text-neutral-600"].filter(Boolean).join(" "),children:S})}return null},G=()=>L?l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-start gap-1 mt-1 mb-1 ml-4",children:[s==="select"?l.jsxs(Nt,{value:y,onValueChange:S=>{const V=pa(i[S]);z(V),T(JSON.stringify(i[S])),x(S)},children:[l.jsx(Tt,{className:"w-32 h-6 px-1 text-xs bg-white min-w-24",children:l.jsx(an,{placeholder:"Key"})}),l.jsx(It,{children:Object.keys(i).map(S=>l.jsx(Ot,{value:S,className:"text-xs",children:S},S))})]}):l.jsx(xo,{className:"w-32 h-6 px-1 text-xs font-medium border border-solid border-neutral-300",trigger:["$"].concat(Object.keys(i).map(S=>S.substring(0,1))),options:Hs.concat(Object.keys(i)),attributes:{placeholder:"Key"},value:y,Component:"input",onChange:S=>x(S)}),l.jsx("span",{className:"flex items-center h-6 text-xs",children:":"}),l.jsx("textarea",{className:"w-32 h-6 px-1 pt-0 text-xs font-medium leading-5 border border-solid border-neutral-300",placeholder:"Value (JSON or String or Number ...)",style:{resize:"both"},value:O,onChange:S=>T(S.target.value)}),l.jsxs(Nt,{value:B,onValueChange:S=>z(S),children:[l.jsx(Tt,{className:"w-12 h-6 px-1 py-1 text-xs bg-white min-w-24",children:l.jsx(an,{placeholder:"Type"})}),l.jsx(It,{children:Ur.map(S=>l.jsx(Ot,{value:S,className:"text-xs",children:S},S))})]}),l.jsx(ke,{onClick:R,disabled:!y.trim(),children:l.jsx(dn,{className:"w-3 h-3"})}),l.jsx(ke,{onClick:()=>{x(()=>""),T(()=>""),E(!1)},children:l.jsx(Mn,{className:"w-3 h-3"})})]}),D&&l.jsxs("div",{className:"flex items-center px-1 mt-1 text-xs text-red-600 bg-red-100",children:[l.jsx(dr,{className:"w-3 h-3 mr-1"}),D]})]}):null;if(typeof n!="object"||n===null||n instanceof te||n instanceof Date)return l.jsxs("div",{className:"relative flex items-start gap-1 py-0.5 text-sm hover:bg-neutral-100 group",children:[l.jsx("div",{className:"flex-shrink-0 w-3"}),l.jsxs("span",{className:"flex items-center mr-1 min-h-5",children:[l.jsx("span",{className:"font-medium text-center text-right",children:r[r.length-1]}),l.jsx("span",{className:"font-medium text-center",children:":"})]}),M(),l.jsxs("div",{className:"flex items-center h-5 gap-1 ml-10 opacity-0 group-hover:opacity-100 left-full",children:[!m&&e&&l.jsxs(l.Fragment,{children:[l.jsx(ke,{onClick:U,title:"Edit",children:l.jsx(Rs,{className:"w-3 h-3"})}),l.jsx(ke,{onClick:()=>a?.(r),className:"px-1 py-1 text-red-600 hover:bg-neutral-200",children:l.jsx(Dn,{className:"w-3 h-3"})})]}),l.jsx(ke,{className:"px-1 py-1 hover:bg-neutral-200",children:l.jsx(Fn,{iconClassName:"w-3 h-3",text:ue.stringify(n)})})]})]});let Y=null,Q=!1;return r.length?Y=`${r[r.length-1]}:`:(Q=!0,Y=l.jsx("span",{children:Array.isArray(n)&&n&&n._id?` #${String(n._id)}:`:n&&n._id?` #${String(n._id)}:`:null})),l.jsxs("div",{children:[l.jsxs("div",{className:"relative flex items-center gap-1 py-0.5 text-sm group"+(Q?" mb-1":""),children:[l.jsx("button",{onClick:_,className:"w-3 h-3",children:u?l.jsx(ks,{className:"w-3 h-3"}):l.jsx(Ds,{className:"w-3 h-3"})}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"flex font-medium",children:Y}),l.jsxs("span",{className:"text-xs text-neutral-400 whitespace-nowrap",children:[Array.isArray(n)?"Array":"Object"," (",Array.isArray(n)?n.length:Object.keys(n).length," items)"]})]}),!m&&e&&l.jsxs("div",{className:"flex items-center h-5 gap-1 ml-10 opacity-0 group-hover:opacity-100 left-full",children:[l.jsx(ke,{onClick:()=>E(!0),children:l.jsx(Ms,{className:"w-3 h-3"})}),l.jsx(ke,{onClick:()=>a?.(r),className:"text-red-600",children:l.jsx(Dn,{className:"w-3 h-3"})})]})]}),e&&G(),u&&l.jsx("div",{className:"ml-4",children:Object.entries(n).map(([S,V])=>l.jsx(Ai,{autocompleteItems:i,allowEdit:e,data:V,path:[...r,S],onUpdate:o,onDelete:a,onAdd:c},S))})]})},cn=({autocompleteItems:t,autocompleteType:e,isExpanded:n,allowEdit:r=!0,data:i={},onChange:s})=>{const o=(u,h)=>{const m={...i};let d=m;for(let p=0;p<u.length-1;p++)d=d[u[p]];d[u[u.length-1]]=h,s?.(m)},a=u=>{if(u.length===0){s?.({});return}const h={...i};let m=h;for(let d=0;d<u.length-1;d++)m=m[u[d]];Array.isArray(m)?m.splice(parseInt(u[u.length-1]),1):delete m[u[u.length-1]],s?.(h)},c=(u,h,m)=>{const d={...i};let p=d;for(const g of u)p=p[g];Array.isArray(p)?p.push(m):p[h]=m,s?.(d)};return l.jsx(Ai,{autocompleteItems:t,autocompleteType:e,allowEdit:!!(s&&r),expanded:n,data:i,path:[],onUpdate:s?o:void 0,onDelete:s?a:void 0,onAdd:s?c:void 0})},ga=({sort:t,rows:e,allowEdit:n=!1,onSort:r})=>{const i=[];return e.length>0&&e.forEach(s=>{Object.keys(s).forEach(o=>{i.includes(o)||i.push(o)})}),l.jsx("div",{className:"w-full max-w-full overflow-auto",children:l.jsxs("table",{border:1,className:"bg-neutral-50",children:[l.jsx("thead",{children:l.jsx("tr",{children:i.map((s,o)=>l.jsx("th",{className:"px-4 py-2 text-left cursor-pointer text-md bg-neutral-100 group",onClick:()=>{r(s)},id:`${s}-${o}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s,l.jsx("span",{className:t.field==s?"opacity-60 group-hover:opacity-100":" opacity-0 group-hover:opacity-40",children:t.field==s&&t.direction>0?l.jsx(Fs,{}):l.jsx(Ls,{})})]})},s))})}),l.jsx("tbody",{children:e.map((s,o)=>l.jsx("tr",{className:"opacity-80 hover:opacity-100 border-b "+(o%2==0?"bg-white":""),children:Object.keys(s).map(a=>{if((Array.isArray(s[a])||s[a]instanceof Object)&&!(s[a]instanceof te||s[a]instanceof Date))return l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-start gap-2 group/item",children:[l.jsx(cn,{autocompleteItems:[],allowEdit:n,data:s[a]}),l.jsx(Fn,{className:"p-1 ml-auto opacity-0 group-hover/item:opacity-100 hover:bg-white",text:ue.stringify(s[a])})]})},a);let c="";return s[a]instanceof te?c=`ObjectId("${s[a].toHexString()}")`:s[a]instanceof Date?c=s[a].toISOString():c=ue.stringify(s[a]),l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-1 px-1 text-md group hover:bg-white",children:[ue.stringify(s[a]),l.jsx(Fn,{className:"p-1 ml-auto opacity-0 group-hover:opacity-100 hover:bg-neutral-200",text:c})]})},a)})},s._id))})]})})};var _r={};typeof window<"u"&&(window.CODEIUM_REACT_CODE_VERSION="1.0.12");function Ci(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function er(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(m){o(m)}}function c(h){try{u(r.throw(h))}catch(m){o(m)}}function u(h){h.done?s(h.value):i(h.value).then(a,c)}u((r=r.apply(t,[])).next())})}function ge(t,e){if(!t)throw new Error(e)}const ba=34028234663852886e22,ya=-34028234663852886e22,wa=4294967295,Sa=2147483647,xa=-2147483648;function ln(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>Sa||t<xa)throw new Error("invalid int 32: "+t)}function Ln(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>wa||t<0)throw new Error("invalid uint 32: "+t)}function ji(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>ba||t<ya))throw new Error("invalid float 32: "+t)}const Bi=Symbol("@bufbuild/protobuf/enum-type");function Ea(t){const e=t[Bi];return ge(e,"missing enum type on enum object"),e}function Ui(t,e,n,r){t[Bi]=_i(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function _i(t,e,n){const r=Object.create(null),i=Object.create(null),s=[];for(const o of e){const a=Pi(o);s.push(a),r[o.name]=a,i[o.no]=a}return{typeName:t,values:s,findName(o){return r[o]},findNumber(o){return i[o]}}}function Na(t,e,n){const r={};for(const i of e){const s=Pi(i);r[s.localName]=s.no,r[s.no]=s.localName}return Ui(r,t,e),r}function Pi(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class ie{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,s=i.makeReadOptions(n);return i.readMessage(this,s.readerFactory(e),e.byteLength,s),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,s=i.makeReadOptions(n);return i.readMessage(r,e,s,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),s=i.writerFactory();return r.writeMessage(this,s,i),s.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Ta(t,e,n,r){var i;const s=(i=r?.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),o={[s]:function(a){t.util.initFields(this),t.util.initPartial(a,this)}}[s];return Object.setPrototypeOf(o.prototype,new ie),Object.assign(o,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(a,c){return new o().fromBinary(a,c)},fromJson(a,c){return new o().fromJson(a,c)},fromJsonString(a,c){return new o().fromJsonString(a,c)},equals(a,c){return t.util.equals(o,a,c)}}),o}function Ia(t,e,n,r){return{syntax:t,json:e,bin:n,util:r,makeMessageType(i,s,o){return Ta(this,i,s,o)},makeEnum:Na,makeEnumType:_i,getEnumType:Ea}}var w;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(w||(w={}));var mt;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(mt||(mt={}));function Oa(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Bn(t,e,n){for(let s=0;s<28;s=s+7){const o=t>>>s,a=!(!(o>>>7)&&e==0),c=(a?o|128:o)&255;if(n.push(c),!a)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let s=3;s<31;s=s+7){const o=e>>>s,a=!!(o>>>7),c=(a?o|128:o)&255;if(n.push(c),!a)return}n.push(e>>>31&1)}}const un=4294967296;function Pr(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function s(o,a){const c=Number(t.slice(o,a));i*=n,r=r*n+c,r>=un&&(i=i+(r/un|0),r=r%un)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?ki(r,i):tr(r,i)}function va(t,e){let n=tr(t,e);const r=n.hi&2147483648;r&&(n=ki(n.lo,n.hi));const i=Ri(n.lo,n.hi);return r?"-"+i:i}function Ri(t,e){if({lo:t,hi:e}=Aa(t,e),e<=2097151)return String(un*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let s=n+r*6777216+i*6710656,o=r+i*8147497,a=i*2;const c=1e7;return s>=c&&(o+=Math.floor(s/c),s%=c),o>=c&&(a+=Math.floor(o/c),o%=c),a.toString()+Rr(o)+Rr(s)}function Aa(t,e){return{lo:t>>>0,hi:e>>>0}}function tr(t,e){return{lo:t|0,hi:e|0}}function ki(t,e){return e=~e,t?t=~t+1:e+=1,tr(t,e)}const Rr=t=>{const e=String(t);return"0000000".slice(e.length)+e};function kr(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function Ca(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function ja(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof _r!="object"||_r.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const u=typeof c=="bigint"?c:BigInt(c);if(u>s||u<i)throw new Error(`int64 invalid: ${c}`);return u},uParse(c){const u=typeof c=="bigint"?c:BigInt(c);if(u>a||u<o)throw new Error(`uint64 invalid: ${c}`);return u},enc(c){return t.setBigInt64(0,this.parse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(c){return t.setBigInt64(0,this.uParse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(c,u){return t.setInt32(0,c,!0),t.setInt32(4,u,!0),t.getBigInt64(0,!0)},uDec(c,u){return t.setInt32(0,c,!0),t.setInt32(4,u,!0),t.getBigUint64(0,!0)}}}const n=i=>ge(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),r=i=>ge(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),Pr(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),Pr(i)},dec(i,s){return va(i,s)},uDec(i,s){return Ri(i,s)}}}const ne=ja();var ce;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(ce||(ce={}));class Ba{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Ln(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return ln(e),kr(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){ji(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){Ln(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){ln(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return ln(e),e=(e<<1^e>>31)>>>0,kr(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=ne.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=ne.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=ne.enc(e);return Bn(n.lo,n.hi,this.buf),this}sint64(e){let n=ne.enc(e),r=n.hi>>31,i=n.lo<<1^r,s=(n.hi<<1|n.lo>>>31)^r;return Bn(i,s,this.buf),this}uint64(e){let n=ne.uEnc(e);return Bn(n.lo,n.hi,this.buf),this}}class Ua{constructor(e,n){this.varint64=Oa,this.uint32=Ca,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e){let n=this.pos;switch(e){case ce.Varint:for(;this.buf[this.pos++]&128;);break;case ce.Bit64:this.pos+=4;case ce.Bit32:this.pos+=4;break;case ce.LengthDelimited:let r=this.uint32();this.pos+=r;break;case ce.StartGroup:let i;for(;(i=this.tag()[1])!==ce.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ne.dec(...this.varint64())}uint64(){return ne.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,ne.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ne.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ne.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function $n(t,e){return e instanceof ie||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}w.DOUBLE,w.FLOAT,w.INT64,w.UINT64,w.INT32,w.UINT32,w.BOOL,w.STRING,w.BYTES;function ot(t,e,n){if(e===n)return!0;if(t==w.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==n}return!1}function Vn(t,e){switch(t){case w.BOOL:return!1;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==0?ne.zero:"0";case w.DOUBLE:case w.FLOAT:return 0;case w.BYTES:return new Uint8Array(0);case w.STRING:return"";default:return 0}}function Di(t,e){const n=e===void 0;let r=ce.Varint,i=e===0;switch(t){case w.STRING:i=n||!e.length,r=ce.LengthDelimited;break;case w.BOOL:i=e===!1;break;case w.DOUBLE:r=ce.Bit64;break;case w.FLOAT:r=ce.Bit32;break;case w.INT64:i=n||e==0;break;case w.UINT64:i=n||e==0;break;case w.FIXED64:i=n||e==0,r=ce.Bit64;break;case w.BYTES:i=n||!e.byteLength,r=ce.LengthDelimited;break;case w.FIXED32:r=ce.Bit32;break;case w.SFIXED32:r=ce.Bit32;break;case w.SFIXED64:i=n||e==0,r=ce.Bit64;break;case w.SINT64:i=n||e==0;break}const s=w[t].toLowerCase();return[r,s,n||i]}const yt=Symbol("@bufbuild/protobuf/unknown-fields"),Dr={readUnknownFields:!0,readerFactory:t=>new Ua(t)},Mr={writeUnknownFields:!0,writerFactory:()=>new Ba};function _a(t){return t?Object.assign(Object.assign({},Dr),t):Dr}function Pa(t){return t?Object.assign(Object.assign({},Mr),t):Mr}function Ra(){return{makeReadOptions:_a,makeWriteOptions:Pa,listUnknownFields(t){var e;return(e=t[yt])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[yt]},writeUnknownFields(t,e){const r=t[yt];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[yt])||(i[yt]=[]),i[yt].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r){const i=t.getType(),s=n===void 0?e.len:e.pos+n;for(;e.pos<s;){const[o,a]=e.tag(),c=i.fields.find(o);if(!c){const d=e.skip(a);r.readUnknownFields&&this.onUnknownField(t,o,a,d);continue}let u=t,h=c.repeated,m=c.localName;switch(c.oneof&&(u=u[c.oneof.localName],u.case!=m&&delete u.value,u.case=m,m="value"),c.kind){case"scalar":case"enum":const d=c.kind=="enum"?w.INT32:c.T;let p=hn;if(c.kind=="scalar"&&c.L>0&&(p=Da),h){let O=u[m];if(a==ce.LengthDelimited&&d!=w.STRING&&d!=w.BYTES){let T=e.uint32()+e.pos;for(;e.pos<T;)O.push(p(e,d))}else O.push(p(e,d))}else u[m]=p(e,d);break;case"message":const g=c.T;h?u[m].push(fn(e,new g,r)):u[m]instanceof ie?fn(e,u[m],r):(u[m]=fn(e,new g,r),g.fieldWrapper&&!c.oneof&&!c.repeated&&(u[m]=g.fieldWrapper.unwrapField(u[m])));break;case"map":let[y,x]=ka(c,e,r);u[m][y]=x;break}}}}}function fn(t,e,n){return e.getType().runtime.bin.readMessage(e,t,t.uint32(),n),e}function ka(t,e,n){const r=e.uint32(),i=e.pos+r;let s,o;for(;e.pos<i;){let[a]=e.tag();switch(a){case 1:s=hn(e,t.K);break;case 2:switch(t.V.kind){case"scalar":o=hn(e,t.V.T);break;case"enum":o=e.int32();break;case"message":o=fn(e,new t.V.T,n);break}break}}if(s===void 0){let a=Vn(t.K,mt.BIGINT);s=t.K==w.BOOL?a.toString():a}if(typeof s!="string"&&typeof s!="number"&&(s=s.toString()),o===void 0)switch(t.V.kind){case"scalar":o=Vn(t.V.T,mt.BIGINT);break;case"enum":o=0;break;case"message":o=new t.V.T;break}return[s,o]}function Da(t,e){const n=hn(t,e);return typeof n=="bigint"?n.toString():n}function hn(t,e){switch(e){case w.STRING:return t.string();case w.BOOL:return t.bool();case w.DOUBLE:return t.double();case w.FLOAT:return t.float();case w.INT32:return t.int32();case w.INT64:return t.int64();case w.UINT64:return t.uint64();case w.FIXED64:return t.fixed64();case w.BYTES:return t.bytes();case w.FIXED32:return t.fixed32();case w.SFIXED32:return t.sfixed32();case w.SFIXED64:return t.sfixed64();case w.SINT64:return t.sint64();case w.UINT32:return t.uint32();case w.SINT32:return t.sint32()}}function Ma(t,e,n,r,i){t.tag(n.no,ce.LengthDelimited),t.fork();let s=r;switch(n.K){case w.INT32:case w.FIXED32:case w.UINT32:case w.SFIXED32:case w.SINT32:s=Number.parseInt(r);break;case w.BOOL:ge(r=="true"||r=="false"),s=r=="true";break}switch(Jt(t,n.K,1,s,!0),n.V.kind){case"scalar":Jt(t,n.V.T,2,i,!0);break;case"enum":Jt(t,w.INT32,2,i,!0);break;case"message":Jn(t,e,n.V.T,2,i);break}t.join()}function Jn(t,e,n,r,i){if(i!==void 0){const s=$n(n,i);t.tag(r,ce.LengthDelimited).bytes(s.toBinary(e))}}function Jt(t,e,n,r,i){let[s,o,a]=Di(e,r);(!a||i)&&t.tag(n,s)[o](r)}function Fa(t,e,n,r){if(!r.length)return;t.tag(n,ce.LengthDelimited).fork();let[,i]=Di(e);for(let s=0;s<r.length;s++)t[i](r[s]);t.join()}function La(){return Object.assign(Object.assign({},Ra()),{writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){let s,o=i.repeated,a=i.localName;if(i.oneof){const c=t[i.oneof.localName];if(c.case!==a)continue;s=c.value}else s=t[a];switch(i.kind){case"scalar":case"enum":let c=i.kind=="enum"?w.INT32:i.T;if(o)if(i.packed)Fa(e,c,i.no,s);else for(const u of s)Jt(e,c,i.no,u,!0);else s!==void 0&&Jt(e,c,i.no,s,!!i.oneof||i.opt);break;case"message":if(o)for(const u of s)Jn(e,n,i.T,i.no,u);else Jn(e,n,i.T,i.no,s);break;case"map":for(const[u,h]of Object.entries(s))Ma(e,n,i,u,h);break}}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}let $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Sn=[];for(let t=0;t<$e.length;t++)Sn[$e[t].charCodeAt(0)]=t;Sn[45]=$e.indexOf("+");Sn[95]=$e.indexOf("/");const xn={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,s,o=0;for(let a=0;a<t.length;a++){if(s=Sn[t.charCodeAt(a)],s===void 0)switch(t[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=s,i=1;break;case 1:n[r++]=o<<2|(s&48)>>4,o=s,i=2;break;case 2:n[r++]=(o&15)<<4|(s&60)>>2,o=s,i=3;break;case 3:n[r++]=(o&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let s=0;s<t.length;s++)switch(r=t[s],n){case 0:e+=$e[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=$e[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=$e[i|r>>6],e+=$e[r&63],n=0;break}return n&&(e+=$e[i],e+="=",n==1&&(e+="=")),e}},Fr={ignoreUnknownFields:!1},Lr={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function $a(t){return t?Object.assign(Object.assign({},Fr),t):Fr}function Va(t){return t?Object.assign(Object.assign({},Lr),t):Lr}function Ja(t){const e=t(Ga,$r);return{makeReadOptions:$a,makeWriteOptions:Va,readMessage(n,r,i,s){if(r==null||Array.isArray(r)||typeof r!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(r)}`);s=s??new n;const o={};for(const[a,c]of Object.entries(r)){const u=n.fields.findJsonName(a);if(!u){if(!i.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${a}" is unknown`);continue}let h=u.localName,m=s;if(u.oneof){if(c===null&&u.kind=="scalar")continue;const d=o[u.oneof.localName];if(d)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${u.oneof.name}" present: "${d}", "${a}"`);o[u.oneof.localName]=a,m=m[u.oneof.localName]={case:h},h="value"}if(u.repeated){if(c===null)continue;if(!Array.isArray(c))throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`);const d=m[h];for(const p of c){if(p===null)throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(p)}`);let g;switch(u.kind){case"message":g=u.T.fromJson(p,i);break;case"enum":if(g=Un(u.T,p,i.ignoreUnknownFields),g===void 0)continue;break;case"scalar":try{g=kt(u.T,p,u.L)}catch(y){let x=`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(p)}`;throw y instanceof Error&&y.message.length>0&&(x+=`: ${y.message}`),new Error(x)}break}d.push(g)}}else if(u.kind=="map"){if(c===null)continue;if(Array.isArray(c)||typeof c!="object")throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`);const d=m[h];for(const[p,g]of Object.entries(c)){if(g===null)throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: map value null`);let y;switch(u.V.kind){case"message":y=u.V.T.fromJson(g,i);break;case"enum":if(y=Un(u.V.T,g,i.ignoreUnknownFields),y===void 0)continue;break;case"scalar":try{y=kt(u.V.T,g,mt.BIGINT)}catch(x){let O=`cannot decode map value for field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`;throw x instanceof Error&&x.message.length>0&&(O+=`: ${x.message}`),new Error(O)}break}try{d[kt(u.K,u.K==w.BOOL?p=="true"?!0:p=="false"?!1:p:p,mt.BIGINT).toString()]=y}catch(x){let O=`cannot decode map key for field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`;throw x instanceof Error&&x.message.length>0&&(O+=`: ${x.message}`),new Error(O)}}}else switch(u.kind){case"message":const d=u.T;if(c===null&&d.typeName!="google.protobuf.Value"){if(u.oneof)throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: null is invalid for oneof field "${a}"`);continue}m[h]instanceof ie?m[h].fromJson(c,i):(m[h]=d.fromJson(c,i),d.fieldWrapper&&!u.oneof&&(m[h]=d.fieldWrapper.unwrapField(m[h])));break;case"enum":const p=Un(u.T,c,i.ignoreUnknownFields);p!==void 0&&(m[h]=p);break;case"scalar":try{m[h]=kt(u.T,c,u.L)}catch(g){let y=`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`;throw g instanceof Error&&g.message.length>0&&(y+=`: ${g.message}`),new Error(y)}break}}return s},writeMessage(n,r){const i=n.getType(),s={};let o;try{for(const a of i.fields.byMember()){let c;if(a.kind=="oneof"){const u=n[a.localName];if(u.value===void 0)continue;if(o=a.findField(u.case),!o)throw"oneof case not found: "+u.case;c=e(o,u.value,r)}else o=a,c=e(o,n[o.localName],r);c!==void 0&&(s[r.useProtoFieldName?o.name:o.jsonName]=c)}}catch(a){const c=o?`cannot encode field ${i.typeName}.${o.name} to JSON`:`cannot encode message ${i.typeName} to JSON`,u=a instanceof Error?a.message:String(a);throw new Error(c+(u.length>0?`: ${u}`:""))}return s},readScalar:kt,writeScalar:$r,debug:Mi}}function Mi(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function kt(t,e,n){switch(t){case w.DOUBLE:case w.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==w.FLOAT&&ji(r),r;case w.INT32:case w.FIXED32:case w.SFIXED32:case w.SINT32:case w.UINT32:if(e===null)return 0;let i;if(typeof e=="number"?i=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(i=Number(e)),i===void 0)break;return t==w.UINT32?Ln(i):ln(i),i;case w.INT64:case w.SFIXED64:case w.SINT64:if(e===null)return ne.zero;if(typeof e!="number"&&typeof e!="string")break;const s=ne.parse(e);return n?s.toString():s;case w.FIXED64:case w.UINT64:if(e===null)return ne.zero;if(typeof e!="number"&&typeof e!="string")break;const o=ne.uParse(e);return n?o.toString():o;case w.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case w.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case w.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return xn.dec(e)}throw new Error}function Un(t,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.findName(e);if(r||n)return r?.no;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${Mi(e)}`)}function Ga(t,e,n,r){var i;if(e===void 0)return e;if(e===0&&!n)return;if(r)return e;if(t.typeName=="google.protobuf.NullValue")return null;const s=t.findNumber(e);return(i=s?.name)!==null&&i!==void 0?i:e}function $r(t,e,n){if(e!==void 0)switch(t){case w.INT32:case w.SFIXED32:case w.SINT32:case w.FIXED32:case w.UINT32:return ge(typeof e=="number"),e!=0||n?e:void 0;case w.FLOAT:case w.DOUBLE:return ge(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case w.STRING:return ge(typeof e=="string"),e.length>0||n?e:void 0;case w.BOOL:return ge(typeof e=="boolean"),e||n?e:void 0;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return ge(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case w.BYTES:return ge(e instanceof Uint8Array),n||e.byteLength>0?xn.enc(e):void 0}}function za(){return Ja((t,e)=>function(r,i,s){if(r.kind=="map"){const o={};switch(r.V.kind){case"scalar":for(const[c,u]of Object.entries(i)){const h=e(r.V.T,u,!0);ge(h!==void 0),o[c.toString()]=h}break;case"message":for(const[c,u]of Object.entries(i))o[c.toString()]=u.toJson(s);break;case"enum":const a=r.V.T;for(const[c,u]of Object.entries(i)){ge(u===void 0||typeof u=="number");const h=t(a,u,!0,s.enumAsInteger);ge(h!==void 0),o[c.toString()]=h}break}return s.emitDefaultValues||Object.keys(o).length>0?o:void 0}else if(r.repeated){const o=[];switch(r.kind){case"scalar":for(let a=0;a<i.length;a++)o.push(e(r.T,i[a],!0));break;case"enum":for(let a=0;a<i.length;a++)o.push(t(r.T,i[a],!0,s.enumAsInteger));break;case"message":for(let a=0;a<i.length;a++)o.push($n(r.T,i[a]).toJson(s));break}return s.emitDefaultValues||o.length>0?o:void 0}else switch(r.kind){case"scalar":return e(r.T,i,!!r.oneof||r.opt||s.emitDefaultValues);case"enum":return t(r.T,i,!!r.oneof||r.opt||s.emitDefaultValues,s.enumAsInteger);case"message":return i!==void 0?$n(r.T,i).toJson(s):void 0}})}function Ha(){return{setEnumType:Ui,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,s=e,o=t;if(o[i]!==void 0)switch(r.kind){case"oneof":const a=o[i].case;if(a===void 0)continue;const c=r.findField(a);let u=o[i].value;c&&c.kind=="message"&&!(u instanceof c.T)?u=new c.T(u):c&&c.kind==="scalar"&&c.T===w.BYTES&&(u=Dt(u)),s[i]={case:a,value:u};break;case"scalar":case"enum":let h=o[i];r.T===w.BYTES&&(h=r.repeated?h.map(Dt):Dt(h)),s[i]=h;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===w.BYTES)for(const[p,g]of Object.entries(o[i]))s[i][p]=Dt(g);else Object.assign(s[i],o[i]);break;case"message":const d=r.V.T;for(const p of Object.keys(o[i])){let g=o[i][p];d.fieldWrapper||(g=new d(g)),s[i][p]=g}break}break;case"message":const m=r.T;if(r.repeated)s[i]=o[i].map(d=>d instanceof m?d:new m(d));else if(o[i]!==void 0){const d=o[i];m.fieldWrapper?m.typeName==="google.protobuf.BytesValue"?s[i]=Dt(d):s[i]=d:s[i]=d instanceof m?d:new m(d)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],s=n[r.localName];if(r.repeated){if(i.length!==s.length)return!1;switch(r.kind){case"message":return i.every((o,a)=>r.T.equals(o,s[a]));case"scalar":return i.every((o,a)=>ot(r.T,o,s[a]));case"enum":return i.every((o,a)=>ot(w.INT32,o,s[a]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(i,s);case"enum":return ot(w.INT32,i,s);case"scalar":return ot(r.T,i,s);case"oneof":if(i.case!==s.case)return!1;const o=r.findField(i.case);if(o===void 0)return!0;switch(o.kind){case"message":return o.T.equals(i.value,s.value);case"enum":return ot(w.INT32,i.value,s.value);case"scalar":return ot(o.T,i.value,s.value)}throw new Error(`oneof cannot contain ${o.kind}`);case"map":const a=Object.keys(i).concat(Object.keys(s));switch(r.V.kind){case"message":const c=r.V.T;return a.every(h=>c.equals(i[h],s[h]));case"enum":return a.every(h=>ot(w.INT32,i[h],s[h]));case"scalar":const u=r.V.T;return a.every(h=>ot(u,i[h],s[h]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const s=t[i.localName];let o;if(i.repeated)o=s.map(nn);else if(i.kind=="map"){o=r[i.localName];for(const[a,c]of Object.entries(s))o[a]=nn(c)}else i.kind=="oneof"?o=i.findField(s.case)?{case:s.case,value:nn(s.value)}:{case:void 0}:o=nn(s);r[i.localName]=o}return n}}}function nn(t){if(t===void 0)return t;if(t instanceof ie)return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function Dt(t){return t instanceof Uint8Array?t:new Uint8Array(t)}class qa{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function Fi(t,e){const n=Li(t);return e?n:Qa(Za(n))}function Ya(t){return Fi(t,!1)}const Wa=Li;function Li(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const Xa=new Set(["constructor","toString","toJSON","valueOf"]),Ka=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),$i=t=>`${t}$`,Za=t=>Ka.has(t)?$i(t):t,Qa=t=>Xa.has(t)?$i(t):t;class ec{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Ya(e)}addField(e){ge(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const N=Ia("proto3",za(),La(),Object.assign(Object.assign({},Ha()),{newFieldList(t){return new qa(t,tc)},initFields(t){for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=Vn(e.T,e.L);break}}}}));function tc(t){var e,n,r,i;const s=[];let o;for(const a of typeof t=="function"?t():t){const c=a;if(c.localName=Fi(a.name,a.oneof!==void 0),c.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:Wa(a.name),c.repeated=(n=a.repeated)!==null&&n!==void 0?n:!1,a.kind=="scalar"&&(c.L=(r=a.L)!==null&&r!==void 0?r:mt.BIGINT),c.packed=(i=a.packed)!==null&&i!==void 0?i:a.kind=="enum"||a.kind=="scalar"&&a.T!=w.BYTES&&a.T!=w.STRING,a.oneof!==void 0){const u=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!o||o.name!=u)&&(o=new ec(u)),c.oneof=o,o.addField(c)}s.push(c)}return s}var Ie;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(Ie||(Ie={}));var Gn;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(Gn||(Gn={}));var Z;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(Z||(Z={}));function zn(t){const e=Z[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let rn;function nc(t){if(!rn){rn={};for(const e of Object.values(Z))typeof e!="string"&&(rn[zn(e)]=e)}return rn[t]}class de extends Error{constructor(e,n=Z.Unknown,r,i,s){super(rc(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(r??{}),this.details=i??[],this.cause=s}static from(e,n=Z.Unknown){return e instanceof de?e:e instanceof Error?e.name=="AbortError"?new de(e.message,Z.Canceled):new de(e.message,n,void 0,void 0,e):new de(String(e),n,void 0,void 0,e)}findDetails(e){const n="typeName"in e?{findMessage:i=>i===e.typeName?e:void 0}:e,r=[];for(const i of this.details){if(i instanceof ie){n.findMessage(i.getType().typeName)&&r.push(i);continue}const s=n.findMessage(i.type);if(s)try{r.push(s.fromBinary(i.value))}catch{}}return r}}function rc(t,e){return t.length?`[${zn(e)}] ${t}`:`[${zn(e)}]`}function ic(...t){const e=new Headers;for(const n of t)n.forEach((r,i)=>{e.append(i,r)});return e}function sc(t,e){const n={};for(const[r,i]of Object.entries(t.methods)){const s=e(Object.assign(Object.assign({},i),{localName:r,service:t}));s!=null&&(n[r]=s)}return n}function oc(t){let e,n=new Uint8Array(0);function r(i){const s=new Uint8Array(n.length+i.length);s.set(n),s.set(i,n.length),n=s}return new ReadableStream({start(){e=t.getReader()},async pull(i){let s;for(;;){if(s===void 0&&n.byteLength>=5){let c=0;for(let u=1;u<5;u++)c=(c<<8)+n[u];s={flags:n[0],length:c}}if(s!==void 0&&n.byteLength>=s.length+5)break;const a=await e.read();if(a.done)break;r(a.value)}if(s===void 0){if(n.byteLength==0){i.close();return}i.error(new de("premature end of stream",Z.DataLoss));return}const o=n.subarray(5,5+s.length);n=n.subarray(5+s.length),i.enqueue({flags:s.flags,data:o})}})}function ac(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const r=new DataView(n.buffer,n.byteOffset,n.byteLength);return r.setUint8(0,t),r.setUint32(1,e.length),n}var cc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}},Ht=function(t){return this instanceof Ht?(this.v=t,this):new Ht(t)},lc=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(g,y){s.push([d,p,g,y])>1||a(d,p)})})}function a(d,p){try{c(r[d](p))}catch(g){m(s[0][3],g)}}function c(d){d.value instanceof Ht?Promise.resolve(d.value.v).then(u,h):m(s[0][2],d)}function u(d){a("next",d)}function h(d){a("throw",d)}function m(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}},uc=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Ht(t[i](o)),done:!1}:s?s(o):o}:s}};function fc(t){return lc(this,arguments,function*(){yield Ht(yield*uc(cc(t)))})}var Vi=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}},Ct=function(t){return this instanceof Ct?(this.v=t,this):new Ct(t)},dc=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Ct(t[i](o)),done:!1}:s?s(o):o}:s}},hc=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(g,y){s.push([d,p,g,y])>1||a(d,p)})})}function a(d,p){try{c(r[d](p))}catch(g){m(s[0][3],g)}}function c(d){d.value instanceof Ct?Promise.resolve(d.value.v).then(u,h):m(s[0][2],d)}function u(d){a("next",d)}function h(d){a("throw",d)}function m(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}};function mc(t,e){return sc(t,n=>{switch(n.kind){case Ie.Unary:return pc(e,t,n);case Ie.ServerStreaming:return gc(e,t,n);case Ie.ClientStreaming:return bc(e,t,n);case Ie.BiDiStreaming:return yc(e,t,n);default:return null}})}function pc(t,e,n){return async function(r,i){var s,o;const a=await t.unary(e,n,i?.signal,i?.timeoutMs,i?.headers,r,i?.contextValues);return(s=i?.onHeader)===null||s===void 0||s.call(i,a.header),(o=i?.onTrailer)===null||o===void 0||o.call(i,a.trailer),a.message}}function gc(t,e,n){return function(r,i){return Ji(t.stream(e,n,i?.signal,i?.timeoutMs,i?.headers,fc([r]),i?.contextValues),i)}}function bc(t,e,n){return async function(r,i){var s,o,a,c,u,h;const m=await t.stream(e,n,i?.signal,i?.timeoutMs,i?.headers,r,i?.contextValues);(u=i?.onHeader)===null||u===void 0||u.call(i,m.header);let d;try{for(var p=!0,g=Vi(m.message),y;y=await g.next(),s=y.done,!s;p=!0)c=y.value,p=!1,d=c}catch(x){o={error:x}}finally{try{!p&&!s&&(a=g.return)&&await a.call(g)}finally{if(o)throw o.error}}if(!d)throw new de("protocol error: missing response message",Z.Internal);return(h=i?.onTrailer)===null||h===void 0||h.call(i,m.trailer),d}}function yc(t,e,n){return function(r,i){return Ji(t.stream(e,n,i?.signal,i?.timeoutMs,i?.headers,r,i?.contextValues),i)}}function Ji(t,e){const n=function(){var r,i;return hc(this,arguments,function*(){const s=yield Ct(t);(r=e?.onHeader)===null||r===void 0||r.call(e,s.header),yield Ct(yield*dc(Vi(s.message))),(i=e?.onTrailer)===null||i===void 0||i.call(e,s.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function wc(...t){const e=new AbortController,n=t.filter(i=>i!==void 0).concat(e.signal);for(const i of n){if(i.aborted){r.apply(i);break}i.addEventListener("abort",r)}function r(){e.signal.aborted||e.abort(Gi(this));for(const i of n)i.removeEventListener("abort",r)}return e}function Sc(t){const e=new AbortController,n=()=>{e.abort(new de("the operation timed out",Z.DeadlineExceeded))};let r;return t!==void 0&&(t<=0?n():r=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(r)}}function Gi(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Vr(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function Jr(t,e,n){const r=typeof e=="string"?e:e.typeName,i=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${r}/${i}`)}function zi(t,e){return e instanceof ie?e:new t(e)}function xc(t,e){function n(r){return r.done===!0?r:{done:r.done,value:zi(t,r.value)}}return{[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator](),i={next:()=>r.next().then(n)};return r.throw!==void 0&&(i.throw=s=>r.throw(s).then(n)),r.return!==void 0&&(i.return=s=>r.return(s).then(n)),i}}}function Hi(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function Gr(t,e,n,r){const i=e?zr(t.I,r):Hr(t.I,n);return{parse:(e?zr(t.O,r):Hr(t.O,n)).parse,serialize:i.serialize}}function zr(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new de(`parse binary: ${i}`,Z.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new de(`serialize binary: ${i}`,Z.Internal)}}}}function Hr(t,e){var n,r;const i=(n=e?.textEncoder)!==null&&n!==void 0?n:new TextEncoder,s=(r=e?.textDecoder)!==null&&r!==void 0?r:new TextDecoder,o=Hi(e);return{parse(a){try{const c=s.decode(a);return t.fromJsonString(c,o)}catch(c){throw de.from(c,Z.InvalidArgument)}},serialize(a){try{const c=a.toJsonString(o);return i.encode(c)}catch(c){throw de.from(c,Z.Internal)}}}}const Ec=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,Nc="application/proto",Tc="application/json",Ic="application/connect+proto",Oc="application/connect+json";function vc(t){const e=t?.match(Ec);if(!e)return;const n=!!e[1],r=!!e[3];return{stream:n,binary:r}}function qi(t,e,n){if(e&&new Headers(e).forEach((o,a)=>n.metadata.append(a,o)),typeof t!="object"||t==null||Array.isArray(t)||!("code"in t)||typeof t.code!="string")throw n;const r=nc(t.code);if(r===void 0)throw n;const i=t.message;if(i!=null&&typeof i!="string")throw n;const s=new de(i??"",r,e);if("details"in t&&Array.isArray(t.details))for(const o of t.details){if(o===null||typeof o!="object"||Array.isArray(o)||typeof o.type!="string"||typeof o.value!="string"||"debug"in o&&typeof o.debug!="object")throw n;try{s.details.push({type:o.type,value:xn.dec(o.value),debug:o.debug})}catch{throw n}}return s}const qr=2;function Ac(t){const e=new de("invalid end stream",Z.InvalidArgument);let n;try{n=JSON.parse(typeof t=="string"?t:new TextDecoder().decode(t))}catch{throw e}if(typeof n!="object"||n==null||Array.isArray(n))throw e;const r=new Headers;if("metadata"in n){if(typeof n.metadata!="object"||n.metadata==null||Array.isArray(n.metadata))throw e;for(const[s,o]of Object.entries(n.metadata)){if(!Array.isArray(o)||o.some(a=>typeof a!="string"))throw e;for(const a of o)r.append(s,a)}}const i="error"in n?qi(n.error,r,e):void 0;return{metadata:r,error:i}}const Hn="Content-Type",Cc="Content-Length",Yr="Content-Encoding",jc="Accept-Encoding",Bc="Connect-Timeout-Ms",Yi="Connect-Protocol-Version",Uc="User-Agent";function _c(t){switch(t){case 400:return Z.InvalidArgument;case 401:return Z.Unauthenticated;case 403:return Z.PermissionDenied;case 404:return Z.Unimplemented;case 408:return Z.DeadlineExceeded;case 409:return Z.Aborted;case 412:return Z.FailedPrecondition;case 413:return Z.ResourceExhausted;case 415:return Z.Internal;case 429:return Z.Unavailable;case 431:return Z.ResourceExhausted;case 502:return Z.Unavailable;case 503:return Z.Unavailable;case 504:return Z.Unavailable;default:return Z.Unknown}}function Wr(t){const e=new Headers,n=new Headers;return t.forEach((r,i)=>{i.toLowerCase().startsWith("trailer-")?n.set(i.substring(8),r):e.set(i,r)}),[e,n]}const Wi="1";function Xr(t,e,n,r){const i=new Headers(r??{});return n!==void 0&&i.set(Bc,`${n}`),i.set(Hn,t==Ie.Unary?e?Nc:Tc:e?Ic:Oc),i.set(Yi,Wi),i.set(Uc,"connect-es/1.1.3"),i}function Kr(t,e,n){const r=n.get("Content-Type"),i=vc(r);if(e!==200){const s=new de(`HTTP ${e}`,_c(e),n);if(t==Ie.Unary&&i&&!i.binary)return{isUnaryError:!0,unaryError:s};throw s}return{isUnaryError:!1}}const Zr="application/";function Pc(t,e){return e?xn.enc(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(t))}function Rc(t,e,n){let r=`?connect=v${Wi}`;const i=t.header.get(Hn);i?.indexOf(Zr)===0&&(r+="&encoding="+encodeURIComponent(i.slice(Zr.length)));const s=t.header.get(Yr);s!==null&&s!=="identity"&&(r+="&compression="+encodeURIComponent(s),n=!0),n&&(r+="&base64=1"),r+="&message="+Pc(e,n);const o=t.url+r,a=new Headers(t.header);return[Yi,Hn,Cc,Yr,jc].forEach(c=>a.delete(c)),Object.assign(Object.assign({},t),{init:Object.assign(Object.assign({},t.init),{method:"GET"}),url:o,header:a})}function kc(t){const e=Ki(t.next,t.interceptors),[n,r,i]=Xi(t),s=Object.assign(Object.assign({},t.req),{message:zi(t.req.method.I,t.req.message),signal:n});return e(s).then(o=>(i(),o),r)}function Dc(t){const e=Ki(t.next,t.interceptors),[n,r,i]=Xi(t),s=Object.assign(Object.assign({},t.req),{message:xc(t.req.method.I,t.req.message),signal:n});let o=!1;return n.addEventListener("abort",function(){var a,c;const u=t.req.message[Symbol.asyncIterator]();o||(a=u.throw)===null||a===void 0||a.call(u,this.reason).catch(()=>{}),(c=u.return)===null||c===void 0||c.call(u).catch(()=>{})}),e(s).then(a=>Object.assign(Object.assign({},a),{message:{[Symbol.asyncIterator](){const c=a.message[Symbol.asyncIterator]();return{next(){return c.next().then(u=>(u.done==!0&&(o=!0,i()),u),r)}}}}}),r)}function Xi(t){const{signal:e,cleanup:n}=Sc(t.timeoutMs),r=wc(t.signal,e);return[r.signal,function(s){const o=de.from(e.aborted?Gi(e):s);return r.abort(o),n(),Promise.reject(o)},function(){n(),r.abort()}]}function Ki(t,e){var n;return(n=e?.concat().reverse().reduce((r,i)=>i(r),t))!==null&&n!==void 0?n:t}function Mc(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var qt=function(t){return this instanceof qt?(this.v=t,this):new qt(t)},Fc=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(g,y){s.push([d,p,g,y])>1||a(d,p)})})}function a(d,p){try{c(r[d](p))}catch(g){m(s[0][3],g)}}function c(d){d.value instanceof qt?Promise.resolve(d.value.v).then(u,h):m(s[0][2],d)}function u(d){a("next",d)}function h(d){a("throw",d)}function m(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}};function Lc(t){var e;Mc();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!1;return{async unary(r,i,s,o,a,c,u){var h;const{serialize:m,parse:d}=Gr(i,n,t.jsonOptions,t.binaryOptions);return o=o===void 0?t.defaultTimeoutMs:o<=0?void 0:o,await kc({interceptors:t.interceptors,signal:s,timeoutMs:o,req:{stream:!1,service:r,method:i,url:Jr(t.baseUrl,r,i),init:{method:"POST",credentials:(h=t.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Xr(i.kind,n,o,a),contextValues:u??Vr(),message:c},next:async p=>{var g;const y=t.useHttpGet===!0&&i.idempotency===Gn.NoSideEffects;let x=null;y?p=Rc(p,m(p.message),n):x=m(p.message);const T=await((g=t.fetch)!==null&&g!==void 0?g:globalThis.fetch)(p.url,Object.assign(Object.assign({},p.init),{headers:p.header,signal:p.signal,body:x})),{isUnaryError:L,unaryError:E}=Kr(i.kind,T.status,T.headers);if(L)throw qi(await T.json(),ic(...Wr(T.headers)),E);const[B,z]=Wr(T.headers);return{stream:!1,service:r,method:i,header:B,message:n?d(new Uint8Array(await T.arrayBuffer())):i.O.fromJson(await T.json(),Hi(t.jsonOptions)),trailer:z}}})},async stream(r,i,s,o,a,c,u){var h;const{serialize:m,parse:d}=Gr(i,n,t.jsonOptions,t.binaryOptions);function p(y,x){return Fc(this,arguments,function*(){const T=oc(y).getReader();let L=!1;for(;;){const E=yield qt(T.read());if(E.done)break;const{flags:B,data:z}=E.value;if((B&qr)===qr){L=!0;const D=Ac(z);if(D.error)throw D.error;D.metadata.forEach((I,A)=>x.set(A,I));continue}yield yield qt(d(z))}if(!L)throw"missing EndStreamResponse"})}async function g(y){if(i.kind!=Ie.ServerStreaming)throw"The fetch API does not support streaming request bodies";const x=await y[Symbol.asyncIterator]().next();if(x.done==!0)throw"missing request message";return ac(0,m(x.value))}return o=o===void 0?t.defaultTimeoutMs:o<=0?void 0:o,await Dc({interceptors:t.interceptors,timeoutMs:o,signal:s,req:{stream:!0,service:r,method:i,url:Jr(t.baseUrl,r,i),init:{method:"POST",credentials:(h=t.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Xr(i.kind,n,o,a),contextValues:u??Vr(),message:c},next:async y=>{var x;const T=await((x=t.fetch)!==null&&x!==void 0?x:globalThis.fetch)(y.url,Object.assign(Object.assign({},y.init),{headers:y.header,signal:y.signal,body:await g(y.message)}));if(Kr(i.kind,T.status,T.headers),T.body===null)throw"missing response body";const L=new Headers;return Object.assign(Object.assign({},y),{header:T.headers,trailer:L,message:p(T.body,L)})}})}}}var dt;(function(t){t.INACTIVE="inactive",t.PROCESSING="processing",t.SUCCESS="success",t.WARNING="warning",t.ERROR="error"})(dt||(dt={}));function $c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qr(Object(n),!0).forEach(function(r){$c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jc(t,e){if(t==null)return{};var n=Vc(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gc(t,e){return zc(t)||Hc(t,e)||qc(t,e)||Yc()}function zc(t){if(Array.isArray(t))return t}function Hc(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function qc(t,e){if(t){if(typeof t=="string")return ti(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(t,e)}}function ti(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ni(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ni(Object(n),!0).forEach(function(r){Wc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function Ft(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function mn(t){return{}.toString.call(t).includes("Object")}function Kc(t){return!Object.keys(t).length}function Yt(t){return typeof t=="function"}function Zc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qc(t,e){return mn(e)||ct("changeType"),Object.keys(e).some(function(n){return!Zc(t,n)})&&ct("changeField"),e}function el(t){Yt(t)||ct("selectorType")}function tl(t){Yt(t)||mn(t)||ct("handlerType"),mn(t)&&Object.values(t).some(function(e){return!Yt(e)})&&ct("handlersType")}function nl(t){t||ct("initialIsRequired"),mn(t)||ct("initialType"),Kc(t)&&ct("initialContent")}function rl(t,e){throw new Error(t[e]||t.default)}var il={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ct=Ft(rl)(il),sn={changes:Qc,selector:el,handler:tl,initial:nl};function sl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};sn.initial(t),sn.handler(e);var n={current:t},r=Ft(cl)(n,e),i=Ft(al)(n),s=Ft(sn.changes)(t),o=Ft(ol)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return sn.selector(u),u(n.current)}function c(u){Xc(r,i,s,o)(u)}return[a,c]}function ol(t,e){return Yt(e)?e(t.current):e}function al(t,e){return t.current=ri(ri({},t.current),e),e}function cl(t,e,n){return Yt(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var ll={create:sl},ul={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function fl(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function dl(t){return{}.toString.call(t).includes("Object")}function hl(t){return t||ii("configIsRequired"),dl(t)||ii("configType"),t.urls?(ml(),{paths:{vs:t.urls.monacoBase}}):t}function ml(){console.warn(Zi.deprecation)}function pl(t,e){throw new Error(t[e]||t.default)}var Zi={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ii=fl(pl)(Zi),gl={config:hl},bl=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,o){return o(s)},i)}};function Qi(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],Qi(t[n],e[n]))}),ei(ei({},t),e)}var yl={type:"cancelation",msg:"operation is manually canceled"};function _n(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(yl):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var wl=ll.create({config:ul,isInitialized:!1,resolve:null,reject:null,monaco:null}),es=Gc(wl,2),en=es[0],En=es[1];function Sl(t){var e=gl.config(t),n=e.monaco,r=Jc(e,["monaco"]);En(function(i){return{config:Qi(i.config,r),monaco:n}})}function xl(){var t=en(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(En({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),_n(Pn);if(window.monaco&&window.monaco.editor)return ts(window.monaco),t.resolve(window.monaco),_n(Pn);bl(El,Tl)(Il)}return _n(Pn)}function El(t){return document.body.appendChild(t)}function Nl(t){var e=document.createElement("script");return t&&(e.src=t),e}function Tl(t){var e=en(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=Nl("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Il(){var t=en(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){ts(n),t.resolve(n)},function(n){t.reject(n)})}function ts(t){en().monaco||En({monaco:t})}function Ol(){return en(function(t){var e=t.monaco;return e})}var Pn=new Promise(function(t,e){return En({resolve:t,reject:e})}),ns={config:Sl,init:xl,__getMonacoInstance:Ol},vl={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Rn=vl,Al={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Cl=Al;function jl({children:t}){return oe.createElement("div",{style:Cl.container},t)}var Bl=jl,Ul=Bl;function _l({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return oe.createElement("section",{style:{...Rn.wrapper,width:t,height:e},...o},!n&&oe.createElement(Ul,null,r),oe.createElement("div",{ref:i,style:{...Rn.fullWidth,...!n&&Rn.hide},className:s}))}var Pl=_l,rs=b.memo(Pl);function Rl(t){b.useEffect(t,[])}var is=Rl;function kl(t,e,n=!0){let r=b.useRef(!0);b.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var xe=kl;function Gt(){}function Et(t,e,n,r){return Dl(t,r)||Ml(t,e,n,r)}function Dl(t,e){return t.editor.getModel(ss(t,e))}function Ml(t,e,n,r){return t.editor.createModel(e,n,r?ss(t,r):void 0)}function ss(t,e){return t.Uri.parse(e)}function Fl({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:h="Loading...",options:m={},height:d="100%",width:p="100%",className:g,wrapperProps:y={},beforeMount:x=Gt,onMount:O=Gt}){let[T,L]=b.useState(!1),[E,B]=b.useState(!0),z=b.useRef(null),D=b.useRef(null),I=b.useRef(null),A=b.useRef(O),_=b.useRef(x),U=b.useRef(!1);is(()=>{let M=ns.init();return M.then(G=>(D.current=G)&&B(!1)).catch(G=>G?.type!=="cancelation"&&console.error("Monaco initialization: error:",G)),()=>z.current?R():M.cancel()}),xe(()=>{if(z.current&&D.current){let M=z.current.getOriginalEditor(),G=Et(D.current,t||"",r||n||"text",s||"");G!==M.getModel()&&M.setModel(G)}},[s],T),xe(()=>{if(z.current&&D.current){let M=z.current.getModifiedEditor(),G=Et(D.current,e||"",i||n||"text",o||"");G!==M.getModel()&&M.setModel(G)}},[o],T),xe(()=>{let M=z.current.getModifiedEditor();M.getOption(D.current.editor.EditorOption.readOnly)?M.setValue(e||""):e!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),M.pushUndoStop())},[e],T),xe(()=>{z.current?.getModel()?.original.setValue(t||"")},[t],T),xe(()=>{let{original:M,modified:G}=z.current.getModel();D.current.editor.setModelLanguage(M,r||n||"text"),D.current.editor.setModelLanguage(G,i||n||"text")},[n,r,i],T),xe(()=>{D.current?.editor.setTheme(u)},[u],T),xe(()=>{z.current?.updateOptions(m)},[m],T);let $=b.useCallback(()=>{if(!D.current)return;_.current(D.current);let M=Et(D.current,t||"",r||n||"text",s||""),G=Et(D.current,e||"",i||n||"text",o||"");z.current?.setModel({original:M,modified:G})},[n,e,i,t,r,s,o]),H=b.useCallback(()=>{!U.current&&I.current&&(z.current=D.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...m}),$(),D.current?.editor.setTheme(u),L(!0),U.current=!0)},[m,u,$]);b.useEffect(()=>{T&&A.current(z.current,D.current)},[T]),b.useEffect(()=>{!E&&!T&&H()},[E,T,H]);function R(){let M=z.current?.getModel();a||M?.original?.dispose(),c||M?.modified?.dispose(),z.current?.dispose()}return oe.createElement(rs,{width:p,height:d,isEditorReady:T,loading:h,_ref:I,className:g,wrapperProps:y})}var Ll=Fl;b.memo(Ll);function $l(t){let e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}var Vl=$l,on=new Map;function Jl({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:a,loading:c="Loading...",options:u={},overrideServices:h={},saveViewState:m=!0,keepCurrentModel:d=!1,width:p="100%",height:g="100%",className:y,wrapperProps:x={},beforeMount:O=Gt,onMount:T=Gt,onChange:L,onValidate:E=Gt}){let[B,z]=b.useState(!1),[D,I]=b.useState(!0),A=b.useRef(null),_=b.useRef(null),U=b.useRef(null),$=b.useRef(T),H=b.useRef(O),R=b.useRef(),M=b.useRef(r),G=Vl(s),Y=b.useRef(!1),Q=b.useRef(!1);is(()=>{let W=ns.init();return W.then(le=>(A.current=le)&&I(!1)).catch(le=>le?.type!=="cancelation"&&console.error("Monaco initialization: error:",le)),()=>_.current?V():W.cancel()}),xe(()=>{let W=Et(A.current,t||r||"",e||i||"",s||n||"");W!==_.current?.getModel()&&(m&&on.set(G,_.current?.saveViewState()),_.current?.setModel(W),m&&_.current?.restoreViewState(on.get(s)))},[s],B),xe(()=>{_.current?.updateOptions(u)},[u],B),xe(()=>{!_.current||r===void 0||(_.current.getOption(A.current.editor.EditorOption.readOnly)?_.current.setValue(r):r!==_.current.getValue()&&(Q.current=!0,_.current.executeEdits("",[{range:_.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),_.current.pushUndoStop(),Q.current=!1))},[r],B),xe(()=>{let W=_.current?.getModel();W&&i&&A.current?.editor.setModelLanguage(W,i)},[i],B),xe(()=>{a!==void 0&&_.current?.revealLine(a)},[a],B),xe(()=>{A.current?.editor.setTheme(o)},[o],B);let S=b.useCallback(()=>{if(!(!U.current||!A.current)&&!Y.current){H.current(A.current);let W=s||n,le=Et(A.current,r||t||"",e||i||"",W||"");_.current=A.current?.editor.create(U.current,{model:le,automaticLayout:!0,...u},h),m&&_.current.restoreViewState(on.get(W)),A.current.editor.setTheme(o),a!==void 0&&_.current.revealLine(a),z(!0),Y.current=!0}},[t,e,n,r,i,s,u,h,m,o,a]);b.useEffect(()=>{B&&$.current(_.current,A.current)},[B]),b.useEffect(()=>{!D&&!B&&S()},[D,B,S]),M.current=r,b.useEffect(()=>{B&&L&&(R.current?.dispose(),R.current=_.current?.onDidChangeModelContent(W=>{Q.current||L(_.current.getValue(),W)}))},[B,L]),b.useEffect(()=>{if(B){let W=A.current.editor.onDidChangeMarkers(le=>{let fe=_.current.getModel()?.uri;if(fe&&le.find(he=>he.path===fe.path)){let he=A.current.editor.getModelMarkers({resource:fe});E?.(he)}});return()=>{W?.dispose()}}return()=>{}},[B,E]);function V(){R.current?.dispose(),d?m&&on.set(s,_.current.saveViewState()):_.current.getModel()?.dispose(),_.current.dispose()}return oe.createElement(rs,{width:p,height:g,isEditorReady:B,loading:c,_ref:U,className:y,wrapperProps:x})}var Gl=Jl,zl=b.memo(Gl),Hl=zl;const ql=t=>{switch(t){case"typescript":case"tsx":case"javascript":case"java":return`// Welcome to Codeium Editor!
// Press Enter and use Tab to accept AI suggestions. Here's an example:

// fib(n) function to calculate the n-th fibonacci number`;case"python":return`# Welcome to Codeium Editor!
# Press Enter and use Tab to accept AI suggestions. Here's an example:

# fib(n) function to calculate the n-th fibonacci number`;case"css":return`/* Welcome to Codeium Editor!
Press Enter and use Tab to accept AI suggestions. Here's an example:*/

/* .action-button class with a hover effect. */`;default:return""}};var pn;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.JUPYTER_FORMAT=77]="JUPYTER_FORMAT"})(pn||(pn={}));N.util.setEnumType(pn,"exa.codeium_common_pb.ExperimentKey",[{no:0,name:"UNSPECIFIED"},{no:77,name:"JUPYTER_FORMAT"}]);var Wt;(function(t){t[t.CODEIUM=0]="CODEIUM"})(Wt||(Wt={}));N.util.setEnumType(Wt,"exa.codeium_common_pb.AuthSource",[{no:0,name:"AUTH_SOURCE_CODEIUM"}]);var Xt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ENABLE_CODEIUM=1]="ENABLE_CODEIUM",t[t.DISABLE_CODEIUM=2]="DISABLE_CODEIUM",t[t.SHOW_PREVIOUS_COMPLETION=3]="SHOW_PREVIOUS_COMPLETION",t[t.SHOW_NEXT_COMPLETION=4]="SHOW_NEXT_COMPLETION"})(Xt||(Xt={}));N.util.setEnumType(Xt,"exa.codeium_common_pb.EventType",[{no:0,name:"EVENT_TYPE_UNSPECIFIED"},{no:1,name:"EVENT_TYPE_ENABLE_CODEIUM"},{no:2,name:"EVENT_TYPE_DISABLE_CODEIUM"},{no:3,name:"EVENT_TYPE_SHOW_PREVIOUS_COMPLETION"},{no:4,name:"EVENT_TYPE_SHOW_NEXT_COMPLETION"}]);var Kt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.TYPING_AS_SUGGESTED=1]="TYPING_AS_SUGGESTED",t[t.CACHE=2]="CACHE",t[t.NETWORK=3]="NETWORK"})(Kt||(Kt={}));N.util.setEnumType(Kt,"exa.codeium_common_pb.CompletionSource",[{no:0,name:"COMPLETION_SOURCE_UNSPECIFIED"},{no:1,name:"COMPLETION_SOURCE_TYPING_AS_SUGGESTED"},{no:2,name:"COMPLETION_SOURCE_CACHE"},{no:3,name:"COMPLETION_SOURCE_NETWORK"}]);var j;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.C=1]="C",t[t.CLOJURE=2]="CLOJURE",t[t.COFFEESCRIPT=3]="COFFEESCRIPT",t[t.CPP=4]="CPP",t[t.CSHARP=5]="CSHARP",t[t.CSS=6]="CSS",t[t.CUDACPP=7]="CUDACPP",t[t.DOCKERFILE=8]="DOCKERFILE",t[t.GO=9]="GO",t[t.GROOVY=10]="GROOVY",t[t.HANDLEBARS=11]="HANDLEBARS",t[t.HASKELL=12]="HASKELL",t[t.HCL=13]="HCL",t[t.HTML=14]="HTML",t[t.INI=15]="INI",t[t.JAVA=16]="JAVA",t[t.JAVASCRIPT=17]="JAVASCRIPT",t[t.JSON=18]="JSON",t[t.JULIA=19]="JULIA",t[t.KOTLIN=20]="KOTLIN",t[t.LATEX=21]="LATEX",t[t.LESS=22]="LESS",t[t.LUA=23]="LUA",t[t.MAKEFILE=24]="MAKEFILE",t[t.MARKDOWN=25]="MARKDOWN",t[t.OBJECTIVEC=26]="OBJECTIVEC",t[t.OBJECTIVECPP=27]="OBJECTIVECPP",t[t.PERL=28]="PERL",t[t.PHP=29]="PHP",t[t.PLAINTEXT=30]="PLAINTEXT",t[t.PROTOBUF=31]="PROTOBUF",t[t.PBTXT=32]="PBTXT",t[t.PYTHON=33]="PYTHON",t[t.R=34]="R",t[t.RUBY=35]="RUBY",t[t.RUST=36]="RUST",t[t.SASS=37]="SASS",t[t.SCALA=38]="SCALA",t[t.SCSS=39]="SCSS",t[t.SHELL=40]="SHELL",t[t.SQL=41]="SQL",t[t.STARLARK=42]="STARLARK",t[t.SWIFT=43]="SWIFT",t[t.TSX=44]="TSX",t[t.TYPESCRIPT=45]="TYPESCRIPT",t[t.VISUALBASIC=46]="VISUALBASIC",t[t.VUE=47]="VUE",t[t.XML=48]="XML",t[t.XSL=49]="XSL",t[t.YAML=50]="YAML",t[t.SVELTE=51]="SVELTE",t[t.TOML=52]="TOML",t[t.DART=53]="DART",t[t.RST=54]="RST",t[t.OCAML=55]="OCAML",t[t.CMAKE=56]="CMAKE",t[t.PASCAL=57]="PASCAL",t[t.ELIXIR=58]="ELIXIR",t[t.FSHARP=59]="FSHARP",t[t.LISP=60]="LISP",t[t.MATLAB=61]="MATLAB",t[t.POWERSHELL=62]="POWERSHELL",t[t.SOLIDITY=63]="SOLIDITY",t[t.ADA=64]="ADA",t[t.OCAML_INTERFACE=65]="OCAML_INTERFACE"})(j||(j={}));N.util.setEnumType(j,"exa.codeium_common_pb.Language",[{no:0,name:"LANGUAGE_UNSPECIFIED"},{no:1,name:"LANGUAGE_C"},{no:2,name:"LANGUAGE_CLOJURE"},{no:3,name:"LANGUAGE_COFFEESCRIPT"},{no:4,name:"LANGUAGE_CPP"},{no:5,name:"LANGUAGE_CSHARP"},{no:6,name:"LANGUAGE_CSS"},{no:7,name:"LANGUAGE_CUDACPP"},{no:8,name:"LANGUAGE_DOCKERFILE"},{no:9,name:"LANGUAGE_GO"},{no:10,name:"LANGUAGE_GROOVY"},{no:11,name:"LANGUAGE_HANDLEBARS"},{no:12,name:"LANGUAGE_HASKELL"},{no:13,name:"LANGUAGE_HCL"},{no:14,name:"LANGUAGE_HTML"},{no:15,name:"LANGUAGE_INI"},{no:16,name:"LANGUAGE_JAVA"},{no:17,name:"LANGUAGE_JAVASCRIPT"},{no:18,name:"LANGUAGE_JSON"},{no:19,name:"LANGUAGE_JULIA"},{no:20,name:"LANGUAGE_KOTLIN"},{no:21,name:"LANGUAGE_LATEX"},{no:22,name:"LANGUAGE_LESS"},{no:23,name:"LANGUAGE_LUA"},{no:24,name:"LANGUAGE_MAKEFILE"},{no:25,name:"LANGUAGE_MARKDOWN"},{no:26,name:"LANGUAGE_OBJECTIVEC"},{no:27,name:"LANGUAGE_OBJECTIVECPP"},{no:28,name:"LANGUAGE_PERL"},{no:29,name:"LANGUAGE_PHP"},{no:30,name:"LANGUAGE_PLAINTEXT"},{no:31,name:"LANGUAGE_PROTOBUF"},{no:32,name:"LANGUAGE_PBTXT"},{no:33,name:"LANGUAGE_PYTHON"},{no:34,name:"LANGUAGE_R"},{no:35,name:"LANGUAGE_RUBY"},{no:36,name:"LANGUAGE_RUST"},{no:37,name:"LANGUAGE_SASS"},{no:38,name:"LANGUAGE_SCALA"},{no:39,name:"LANGUAGE_SCSS"},{no:40,name:"LANGUAGE_SHELL"},{no:41,name:"LANGUAGE_SQL"},{no:42,name:"LANGUAGE_STARLARK"},{no:43,name:"LANGUAGE_SWIFT"},{no:44,name:"LANGUAGE_TSX"},{no:45,name:"LANGUAGE_TYPESCRIPT"},{no:46,name:"LANGUAGE_VISUALBASIC"},{no:47,name:"LANGUAGE_VUE"},{no:48,name:"LANGUAGE_XML"},{no:49,name:"LANGUAGE_XSL"},{no:50,name:"LANGUAGE_YAML"},{no:51,name:"LANGUAGE_SVELTE"},{no:52,name:"LANGUAGE_TOML"},{no:53,name:"LANGUAGE_DART"},{no:54,name:"LANGUAGE_RST"},{no:55,name:"LANGUAGE_OCAML"},{no:56,name:"LANGUAGE_CMAKE"},{no:57,name:"LANGUAGE_PASCAL"},{no:58,name:"LANGUAGE_ELIXIR"},{no:59,name:"LANGUAGE_FSHARP"},{no:60,name:"LANGUAGE_LISP"},{no:61,name:"LANGUAGE_MATLAB"},{no:62,name:"LANGUAGE_POWERSHELL"},{no:63,name:"LANGUAGE_SOLIDITY"},{no:64,name:"LANGUAGE_ADA"},{no:65,name:"LANGUAGE_OCAML_INTERFACE"}]);class Je extends ie{constructor(e){super(),this.completionId="",this.text="",this.prefix="",this.stop="",this.score=0,this.tokens=[],this.decodedTokens=[],this.probabilities=[],this.adjustedProbabilities=[],this.generatedLength=ne.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Je().fromBinary(e,n)}static fromJson(e,n){return new Je().fromJson(e,n)}static fromJsonString(e,n){return new Je().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Je,e,n)}}Je.runtime=N;Je.typeName="exa.codeium_common_pb.Completion";Je.fields=N.util.newFieldList(()=>[{no:1,name:"completion_id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"prefix",kind:"scalar",T:9},{no:4,name:"stop",kind:"scalar",T:9},{no:5,name:"score",kind:"scalar",T:1},{no:6,name:"tokens",kind:"scalar",T:4,repeated:!0},{no:7,name:"decoded_tokens",kind:"scalar",T:9,repeated:!0},{no:8,name:"probabilities",kind:"scalar",T:1,repeated:!0},{no:9,name:"adjusted_probabilities",kind:"scalar",T:1,repeated:!0},{no:10,name:"generated_length",kind:"scalar",T:4}]);class Ce extends ie{constructor(e){super(),this.ideName="",this.ideVersion="",this.extensionName="",this.extensionVersion="",this.apiKey="",this.locale="",this.sessionId="",this.requestId=ne.zero,this.userAgent="",this.url="",this.authSource=Wt.CODEIUM,N.util.initPartial(e,this)}static fromBinary(e,n){return new Ce().fromBinary(e,n)}static fromJson(e,n){return new Ce().fromJson(e,n)}static fromJsonString(e,n){return new Ce().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ce,e,n)}}Ce.runtime=N;Ce.typeName="exa.codeium_common_pb.Metadata";Ce.fields=N.util.newFieldList(()=>[{no:1,name:"ide_name",kind:"scalar",T:9},{no:7,name:"ide_version",kind:"scalar",T:9},{no:12,name:"extension_name",kind:"scalar",T:9},{no:2,name:"extension_version",kind:"scalar",T:9},{no:3,name:"api_key",kind:"scalar",T:9},{no:4,name:"locale",kind:"scalar",T:9},{no:10,name:"session_id",kind:"scalar",T:9},{no:9,name:"request_id",kind:"scalar",T:4},{no:13,name:"user_agent",kind:"scalar",T:9},{no:14,name:"url",kind:"scalar",T:9},{no:15,name:"auth_source",kind:"enum",T:N.getEnumType(Wt)}]);class Ge extends ie{constructor(e){super(),this.tabSize=ne.zero,this.insertSpaces=!1,N.util.initPartial(e,this)}static fromBinary(e,n){return new Ge().fromBinary(e,n)}static fromJson(e,n){return new Ge().fromJson(e,n)}static fromJsonString(e,n){return new Ge().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ge,e,n)}}Ge.runtime=N;Ge.typeName="exa.codeium_common_pb.EditorOptions";Ge.fields=N.util.newFieldList(()=>[{no:1,name:"tab_size",kind:"scalar",T:4},{no:2,name:"insert_spaces",kind:"scalar",T:8}]);let nr=class Lt extends ie{constructor(e){super(),this.eventType=Xt.UNSPECIFIED,this.eventJson="",this.timestampUnixMs=ne.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Lt().fromBinary(e,n)}static fromJson(e,n){return new Lt().fromJson(e,n)}static fromJsonString(e,n){return new Lt().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Lt,e,n)}};nr.runtime=N;nr.typeName="exa.codeium_common_pb.Event";nr.fields=N.util.newFieldList(()=>[{no:1,name:"event_type",kind:"enum",T:N.getEnumType(Xt)},{no:2,name:"event_json",kind:"scalar",T:9},{no:3,name:"timestamp_unix_ms",kind:"scalar",T:3}]);var Zt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.INACTIVE=1]="INACTIVE",t[t.PROCESSING=2]="PROCESSING",t[t.SUCCESS=3]="SUCCESS",t[t.WARNING=4]="WARNING",t[t.ERROR=5]="ERROR"})(Zt||(Zt={}));N.util.setEnumType(Zt,"exa.language_server_pb.CodeiumState",[{no:0,name:"CODEIUM_STATE_UNSPECIFIED"},{no:1,name:"CODEIUM_STATE_INACTIVE"},{no:2,name:"CODEIUM_STATE_PROCESSING"},{no:3,name:"CODEIUM_STATE_SUCCESS"},{no:4,name:"CODEIUM_STATE_WARNING"},{no:5,name:"CODEIUM_STATE_ERROR"}]);var qn;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SINGLE=1]="SINGLE",t[t.MULTI=2]="MULTI"})(qn||(qn={}));N.util.setEnumType(qn,"exa.language_server_pb.LineType",[{no:0,name:"LINE_TYPE_UNSPECIFIED"},{no:1,name:"LINE_TYPE_SINGLE"},{no:2,name:"LINE_TYPE_MULTI"}]);var Qt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.INLINE=1]="INLINE",t[t.BLOCK=2]="BLOCK",t[t.INLINE_MASK=3]="INLINE_MASK"})(Qt||(Qt={}));N.util.setEnumType(Qt,"exa.language_server_pb.CompletionPartType",[{no:0,name:"COMPLETION_PART_TYPE_UNSPECIFIED"},{no:1,name:"COMPLETION_PART_TYPE_INLINE"},{no:2,name:"COMPLETION_PART_TYPE_BLOCK"},{no:3,name:"COMPLETION_PART_TYPE_INLINE_MASK"}]);class _e extends ie{constructor(e){super(),this.threshold=0,N.util.initPartial(e,this)}static fromBinary(e,n){return new _e().fromBinary(e,n)}static fromJson(e,n){return new _e().fromJson(e,n)}static fromJsonString(e,n){return new _e().fromJsonString(e,n)}static equals(e,n){return N.util.equals(_e,e,n)}}_e.runtime=N;_e.typeName="exa.language_server_pb.MultilineConfig";_e.fields=N.util.newFieldList(()=>[{no:1,name:"threshold",kind:"scalar",T:2}]);class ze extends ie{constructor(e){super(),this.otherDocuments=[],this.modelName="",N.util.initPartial(e,this)}static fromBinary(e,n){return new ze().fromBinary(e,n)}static fromJson(e,n){return new ze().fromJson(e,n)}static fromJsonString(e,n){return new ze().fromJsonString(e,n)}static equals(e,n){return N.util.equals(ze,e,n)}}ze.runtime=N;ze.typeName="exa.language_server_pb.GetCompletionsRequest";ze.fields=N.util.newFieldList(()=>[{no:1,name:"metadata",kind:"message",T:Ce},{no:2,name:"document",kind:"message",T:jt},{no:3,name:"editor_options",kind:"message",T:Ge},{no:5,name:"other_documents",kind:"message",T:jt,repeated:!0},{no:7,name:"experiment_config",kind:"message",T:Ke},{no:10,name:"model_name",kind:"scalar",T:9},{no:13,name:"multiline_config",kind:"message",T:_e}]);class He extends ie{constructor(e){super(),this.completionItems=[],N.util.initPartial(e,this)}static fromBinary(e,n){return new He().fromBinary(e,n)}static fromJson(e,n){return new He().fromJson(e,n)}static fromJsonString(e,n){return new He().fromJsonString(e,n)}static equals(e,n){return N.util.equals(He,e,n)}}He.runtime=N;He.typeName="exa.language_server_pb.GetCompletionsResponse";He.fields=N.util.newFieldList(()=>[{no:1,name:"state",kind:"message",T:Ze},{no:2,name:"completion_items",kind:"message",T:tt,repeated:!0}]);class qe extends ie{constructor(e){super(),this.completionId="",N.util.initPartial(e,this)}static fromBinary(e,n){return new qe().fromBinary(e,n)}static fromJson(e,n){return new qe().fromJson(e,n)}static fromJsonString(e,n){return new qe().fromJsonString(e,n)}static equals(e,n){return N.util.equals(qe,e,n)}}qe.runtime=N;qe.typeName="exa.language_server_pb.AcceptCompletionRequest";qe.fields=N.util.newFieldList(()=>[{no:1,name:"metadata",kind:"message",T:Ce},{no:2,name:"completion_id",kind:"scalar",T:9}]);class Ye extends ie{constructor(e){super(),N.util.initPartial(e,this)}static fromBinary(e,n){return new Ye().fromBinary(e,n)}static fromJson(e,n){return new Ye().fromJson(e,n)}static fromJsonString(e,n){return new Ye().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ye,e,n)}}Ye.runtime=N;Ye.typeName="exa.language_server_pb.AcceptCompletionResponse";Ye.fields=N.util.newFieldList(()=>[]);class We extends ie{constructor(e){super(),N.util.initPartial(e,this)}static fromBinary(e,n){return new We().fromBinary(e,n)}static fromJson(e,n){return new We().fromJson(e,n)}static fromJsonString(e,n){return new We().fromJsonString(e,n)}static equals(e,n){return N.util.equals(We,e,n)}}We.runtime=N;We.typeName="exa.language_server_pb.GetAuthTokenRequest";We.fields=N.util.newFieldList(()=>[]);class Xe extends ie{constructor(e){super(),this.authToken="",this.uuid="",N.util.initPartial(e,this)}static fromBinary(e,n){return new Xe().fromBinary(e,n)}static fromJson(e,n){return new Xe().fromJson(e,n)}static fromJsonString(e,n){return new Xe().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Xe,e,n)}}Xe.runtime=N;Xe.typeName="exa.language_server_pb.GetAuthTokenResponse";Xe.fields=N.util.newFieldList(()=>[{no:1,name:"auth_token",kind:"scalar",T:9},{no:2,name:"uuid",kind:"scalar",T:9}]);class je extends ie{constructor(e){super(),this.row=ne.zero,this.col=ne.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new je().fromBinary(e,n)}static fromJson(e,n){return new je().fromJson(e,n)}static fromJsonString(e,n){return new je().fromJsonString(e,n)}static equals(e,n){return N.util.equals(je,e,n)}}je.runtime=N;je.typeName="exa.language_server_pb.DocumentPosition";je.fields=N.util.newFieldList(()=>[{no:1,name:"row",kind:"scalar",T:4},{no:2,name:"col",kind:"scalar",T:4}]);let jt=class $t extends ie{constructor(e){super(),this.absolutePath="",this.relativePath="",this.text="",this.editorLanguage="",this.language=j.UNSPECIFIED,this.cursorOffset=ne.zero,this.lineEnding="",N.util.initPartial(e,this)}static fromBinary(e,n){return new $t().fromBinary(e,n)}static fromJson(e,n){return new $t().fromJson(e,n)}static fromJsonString(e,n){return new $t().fromJsonString(e,n)}static equals(e,n){return N.util.equals($t,e,n)}};jt.runtime=N;jt.typeName="exa.language_server_pb.Document";jt.fields=N.util.newFieldList(()=>[{no:1,name:"absolute_path",kind:"scalar",T:9},{no:2,name:"relative_path",kind:"scalar",T:9},{no:3,name:"text",kind:"scalar",T:9},{no:4,name:"editor_language",kind:"scalar",T:9},{no:5,name:"language",kind:"enum",T:N.getEnumType(j)},{no:6,name:"cursor_offset",kind:"scalar",T:4},{no:8,name:"cursor_position",kind:"message",T:je},{no:7,name:"line_ending",kind:"scalar",T:9}]);class Ke extends ie{constructor(e){super(),this.forceEnableExperiments=[],N.util.initPartial(e,this)}static fromBinary(e,n){return new Ke().fromBinary(e,n)}static fromJson(e,n){return new Ke().fromJson(e,n)}static fromJsonString(e,n){return new Ke().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ke,e,n)}}Ke.runtime=N;Ke.typeName="exa.language_server_pb.ExperimentConfig";Ke.fields=N.util.newFieldList(()=>[{no:1,name:"force_enable_experiments",kind:"enum",T:N.getEnumType(pn),repeated:!0}]);class Ze extends ie{constructor(e){super(),this.state=Zt.UNSPECIFIED,this.message="",N.util.initPartial(e,this)}static fromBinary(e,n){return new Ze().fromBinary(e,n)}static fromJson(e,n){return new Ze().fromJson(e,n)}static fromJsonString(e,n){return new Ze().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Ze,e,n)}}Ze.runtime=N;Ze.typeName="exa.language_server_pb.State";Ze.fields=N.util.newFieldList(()=>[{no:1,name:"state",kind:"enum",T:N.getEnumType(Zt)},{no:2,name:"message",kind:"scalar",T:9}]);let Nn=class Vt extends ie{constructor(e){super(),this.startOffset=ne.zero,this.endOffset=ne.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Vt().fromBinary(e,n)}static fromJson(e,n){return new Vt().fromJson(e,n)}static fromJsonString(e,n){return new Vt().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Vt,e,n)}};Nn.runtime=N;Nn.typeName="exa.language_server_pb.Range";Nn.fields=N.util.newFieldList(()=>[{no:1,name:"start_offset",kind:"scalar",T:4},{no:2,name:"end_offset",kind:"scalar",T:4},{no:3,name:"start_position",kind:"message",T:je},{no:4,name:"end_position",kind:"message",T:je}]);class Qe extends ie{constructor(e){super(),this.text="",this.deltaCursorOffset=ne.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new Qe().fromBinary(e,n)}static fromJson(e,n){return new Qe().fromJson(e,n)}static fromJsonString(e,n){return new Qe().fromJsonString(e,n)}static equals(e,n){return N.util.equals(Qe,e,n)}}Qe.runtime=N;Qe.typeName="exa.language_server_pb.Suffix";Qe.fields=N.util.newFieldList(()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"delta_cursor_offset",kind:"scalar",T:3}]);class et extends ie{constructor(e){super(),this.text="",this.offset=ne.zero,this.type=Qt.UNSPECIFIED,this.prefix="",this.line=ne.zero,N.util.initPartial(e,this)}static fromBinary(e,n){return new et().fromBinary(e,n)}static fromJson(e,n){return new et().fromJson(e,n)}static fromJsonString(e,n){return new et().fromJsonString(e,n)}static equals(e,n){return N.util.equals(et,e,n)}}et.runtime=N;et.typeName="exa.language_server_pb.CompletionPart";et.fields=N.util.newFieldList(()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"offset",kind:"scalar",T:4},{no:3,name:"type",kind:"enum",T:N.getEnumType(Qt)},{no:4,name:"prefix",kind:"scalar",T:9},{no:5,name:"line",kind:"scalar",T:4}]);class tt extends ie{constructor(e){super(),this.source=Kt.UNSPECIFIED,this.completionParts=[],N.util.initPartial(e,this)}static fromBinary(e,n){return new tt().fromBinary(e,n)}static fromJson(e,n){return new tt().fromJson(e,n)}static fromJsonString(e,n){return new tt().fromJsonString(e,n)}static equals(e,n){return N.util.equals(tt,e,n)}}tt.runtime=N;tt.typeName="exa.language_server_pb.CompletionItem";tt.fields=N.util.newFieldList(()=>[{no:1,name:"completion",kind:"message",T:Je},{no:5,name:"suffix",kind:"message",T:Qe},{no:2,name:"range",kind:"message",T:Nn},{no:3,name:"source",kind:"enum",T:N.getEnumType(Kt)},{no:8,name:"completion_parts",kind:"message",T:et,repeated:!0}]);const Yl={typeName:"exa.language_server_pb.LanguageServerService",methods:{getCompletions:{name:"GetCompletions",I:ze,O:He,kind:Ie.Unary},acceptCompletion:{name:"AcceptCompletion",I:qe,O:Ye,kind:Ie.Unary},getAuthToken:{name:"GetAuthToken",I:We,O:Xe,kind:Ie.Unary}}};class Pe{constructor(e,n){this.line=e,this.character=n,this.lineNumber=e+1,this.column=n+1}static fromMonaco(e){return new Pe(e.lineNumber-1,e.column-1)}static fromPosition(e){return new Pe(e.line,e.character)}}class Bt{constructor(e,n){this.start=e,this.end=n,this.startLineNumber=e.line+1,this.startColumn=e.character+1,this.endLineNumber=n.line+1,this.endColumn=n.character+1}static fromMonaco(e){return new Bt(new Pe(e.startLineNumber-1,e.startColumn-1),new Pe(e.endLineNumber-1,e.endColumn-1))}static fromRange(e){return new Bt(e.start,e.end)}}class Wl{constructor(e,n){this.text=e,this.range=n}}class Xl{constructor(e){this.model=e,this.uri=e.uri,this.languageId=e.getLanguageId()}get lineCount(){return this.model.getLineCount()}lineAt(e){return typeof e!="number"&&(e=e.line),new Wl(this.model.getLineContent(e+1),new Bt(new Pe(e,0),new Pe(e,this.model.getLineLength(e+1))))}offsetAt(e){return this.model.getOffsetAt(Pe.fromPosition(e))}positionAt(e){return Pe.fromMonaco(this.model.getPositionAt(e))}getText(e){return e?this.model.getValueInRange(Bt.fromRange(e)):this.model.getValue()}}function os(t){return t<128?1:t<2048?2:t<65536?3:4}function Kl(t,e){if(e===0)return 0;let n=0,r=0;for(const i of t)if(r+=i.length,n+=os(i.codePointAt(0)),e!==void 0&&r>=e)break;return n}function si(t,e){if(e===0)return 0;let n=0,r=0;for(const i of t)if(r+=os(i.codePointAt(0)),n+=i.length,e!==void 0&&r>=e)break;return n}const Zl=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Ql=()=>{try{return window.location.href}catch{return null}},eu=()=>{try{return window.CODEIUM_REACT_CODE_VERSION?window.CODEIUM_REACT_CODE_VERSION:null}catch{return null}},tu=t=>{switch(t.toLowerCase()){case"c":return j.C;case"clojure":return j.CLOJURE;case"coffeescript":return j.COFFEESCRIPT;case"cpp":return j.CPP;case"csharp":return j.CSHARP;case"css":return j.CSS;case"cudacpp":return j.CUDACPP;case"dockerfile":return j.DOCKERFILE;case"go":return j.GO;case"groovy":return j.GROOVY;case"handlebars":return j.HANDLEBARS;case"haskell":return j.HASKELL;case"hcl":return j.HCL;case"html":return j.HTML;case"ini":return j.INI;case"java":return j.JAVA;case"javascript":return j.JAVASCRIPT;case"json":return j.JSON;case"julia":return j.JULIA;case"kotlin":return j.KOTLIN;case"latex":return j.LATEX;case"less":return j.LESS;case"lua":return j.LUA;case"makefile":return j.MAKEFILE;case"markdown":return j.MARKDOWN;case"objectivec":return j.OBJECTIVEC;case"objectivecpp":return j.OBJECTIVECPP;case"perl":return j.PERL;case"php":return j.PHP;case"plaintext":return j.PLAINTEXT;case"protobuf":return j.PROTOBUF;case"pbtxt":return j.PBTXT;case"python":return j.PYTHON;case"r":return j.R;case"ruby":return j.RUBY;case"rust":return j.RUST;case"sass":return j.SASS;case"scala":return j.SCALA;case"scss":return j.SCSS;case"shell":return j.SHELL;case"sql":return j.SQL;case"starlark":return j.STARLARK;case"swift":return j.SWIFT;case"tsx":return j.TSX;case"typescript":return j.TYPESCRIPT;case"visualbasic":return j.VISUALBASIC;case"vue":return j.VUE;case"xml":return j.XML;case"xsl":return j.XSL;case"yaml":return j.YAML;case"svelte":return j.SVELTE;case"toml":return j.TOML;case"dart":return j.DART;case"rst":return j.RST;case"ocaml":return j.OCAML;case"cmake":return j.CMAKE;case"pascal":return j.PASCAL;case"elixir":return j.ELIXIR;case"fsharp":return j.FSHARP;case"lisp":return j.LISP;case"matlab":return j.MATLAB;case"powershell":return j.POWERSHELL;case"solidity":return j.SOLIDITY;case"ada":return j.ADA;case"ocaml_interface":return j.OCAML_INTERFACE;default:return j.UNSPECIFIED}};class nu{constructor(e,n,r){this.insertText=e,this.text=e,this.range=n,this.command={id:"codeium.acceptCompletion",title:"Accept Completion",arguments:[r,e]}}}const ru="d49954eb-cfba-4992-980f-d8fb37f0e942";class iu{constructor(e,n,r,i,s){this.setStatus=n,this.setMessage=r,this.apiKey=i,this.multilineModelThreshold=s,this.otherDocuments=[],this.sessionId=`react-editor-${Zl()}`,this.client=e}getAuthHeader(){const e=this.getMetadata();return{Authorization:`Basic ${e.apiKey}-${e.sessionId}`}}getMetadata(){var e,n,r;return new Ce({ideName:"web",ideVersion:(e=Ql())!==null&&e!==void 0?e:"unknown",extensionName:"@codeium/react-code-editor",extensionVersion:(n=eu())!==null&&n!==void 0?n:"unknown",apiKey:(r=this.apiKey)!==null&&r!==void 0?r:ru,sessionId:this.sessionId})}provideInlineCompletions(e,n,r){return er(this,void 0,void 0,function*(){const i=new Xl(e),s=Pe.fromMonaco(n);r.onCancellationRequested(()=>{var x;return(x=r.cancellationCallback)===null||x===void 0?void 0:x.call(r)});const o=new AbortController;r.onCancellationRequested(()=>{o.abort()});const a=o.signal;this.setStatus(dt.PROCESSING),this.setMessage("Generating completions...");const c=this.getDocumentInfo(i,s),u={tabSize:BigInt(e.getOptions().tabSize),insertSpaces:e.getOptions().insertSpaces};let h=this.otherDocuments;h.length>10&&(console.warn(`Too many other documents: ${h.length} (max 10)`),h=h.slice(0,10));let m;this.multilineModelThreshold!==void 0&&(m=new _e({threshold:this.multilineModelThreshold}));let d;try{d=yield this.client.getCompletions({metadata:this.getMetadata(),document:c,editorOptions:u,otherDocuments:h,multilineConfig:m},{signal:a,headers:this.getAuthHeader()})}catch(x){x instanceof de&&x.code===Z.Canceled||(this.setStatus(dt.ERROR),this.setMessage("Something went wrong; please try again."));return}if(!d.completionItems){const x=" No completions were generated";this.setStatus(dt.SUCCESS),this.setMessage(x);return}const g=d.completionItems.map(x=>this.createInlineCompletionItem(x,i)).filter(x=>!!x);this.setStatus(dt.SUCCESS);let y=`Generated ${g.length} completions`;return g.length===1&&(y="Generated 1 completion"),this.setMessage(y),{items:g}})}acceptedLastCompletion(e){new Promise((n,r)=>{this.client.acceptCompletion({metadata:this.getMetadata(),completionId:e},{headers:this.getAuthHeader()}).then(n).catch(i=>{console.log("Error: ",i)})})}getDocumentInfo(e,n){const r=e.getText(),i=e.offsetAt(n),s=Kl(r,i),o=tu(e.languageId);return o===j.UNSPECIFIED&&console.warn(`Unknown language: ${e.languageId}`),new jt({text:r,editorLanguage:e.languageId,language:o,cursorOffset:BigInt(s),lineEnding:`
`})}createInlineCompletionItem(e,n){if(!e.completion||!e.range)return;const r=n.getText(),i=n.positionAt(si(r,Number(e.range.startOffset))),s=n.positionAt(si(r,Number(e.range.endOffset))),o=new Bt(i,s);return new nu(e.completion.text,o,e.completion.completionId)}}class su{constructor(e,n,r,i,s,o){this.setCompletionCount=n,this.numCompletionsProvided=0,this.completionProvider=new iu(e,r,i,s,o)}freeInlineCompletions(){}provideInlineCompletions(e,n,r,i){return er(this,void 0,void 0,function*(){const s=yield this.completionProvider.provideInlineCompletions(e,n,i);return s&&(this.numCompletionsProvided+=1,this.setCompletionCount(this.numCompletionsProvided)),s})}acceptedLastCompletion(e){this.completionProvider.acceptedLastCompletion(e)}updateOtherDocuments(e){this.completionProvider.otherDocuments=e}}const ou=t=>{var{className:e,loading:n=!1}=t,r=Ci(t,["className","loading"]);return oe.createElement("svg",Object.assign({viewBox:"0 0 124 124","aria-label":"Codeium Logo",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{className:e}),oe.createElement("mask",{id:"mask0_306_96",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"124",height:"124"},oe.createElement("path",{d:"M0 10C0 4.47715 4.47715 0 10 0H114C119.523 0 124 4.47715 124 10V114C124 119.523 119.523 124 114 124H10C4.47715 124 0 119.523 0 114V10Z",fill:"#D9D9D9"})),oe.createElement("g",{mask:"url(#mask0_306_96)"},oe.createElement("path",{d:"M62 62L0 124V0L62 62Z",fill:"#60D5C4"}),oe.createElement("path",{d:"M62 62L124 124V0L62 62Z",fill:"#60D5C4"}),oe.createElement("path",{d:"M62 62L124 124L0 124L62 62Z",fill:"#71E9D8"}),oe.createElement("path",{d:"M62 62L124 0L0 0L62 62Z",fill:"#71E9D8"}),oe.createElement("path",{d:"M107.387 16H16.6133C16.2746 16 16 16.2746 16 16.6133V107.387C16 107.725 16.2746 108 16.6133 108H107.387C107.725 108 108 107.725 108 107.387V16.6133C108 16.2746 107.725 16 107.387 16Z",fill:"#09B6A2"}),oe.createElement("path",{d:"M75.196 77.1134C74.1902 77.1134 73.3102 76.7612 72.5559 76.0566C71.8375 75.3169 71.4783 74.4538 71.4783 73.4675C71.4783 72.4459 71.8375 71.5828 72.5559 70.8783C73.3102 70.1386 74.1902 69.7687 75.196 69.7687C76.2377 69.7687 77.1177 70.1386 77.8361 70.8783C78.5545 71.5828 78.9137 72.4459 78.9137 73.4675C78.9137 74.4538 78.5545 75.3169 77.8361 76.0566C77.1177 76.7612 76.2377 77.1134 75.196 77.1134Z",fill:"white","aria-label":"right-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"666ms"}}),oe.createElement("path",{d:"M62.3573 77.1134C61.3516 77.1134 60.4715 76.7612 59.7172 76.0566C58.9988 75.3169 58.6396 74.4538 58.6396 73.4675C58.6396 72.4459 58.9988 71.5828 59.7172 70.8783C60.4715 70.1386 61.3516 69.7687 62.3573 69.7687C63.399 69.7687 64.2791 70.1386 64.9974 70.8783C65.7158 71.5828 66.075 72.4459 66.075 73.4675C66.075 74.4538 65.7158 75.3169 64.9974 76.0566C64.2791 76.7612 63.399 77.1134 62.3573 77.1134Z",fill:"white","aria-label":"middle-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"333ms"}}),oe.createElement("path",{d:"M49.519 77.1134C48.5132 77.1134 47.6332 76.7612 46.8789 76.0566C46.1605 75.3169 45.8013 74.4538 45.8013 73.4675C45.8013 72.4459 46.1605 71.5828 46.8789 70.8783C47.6332 70.1386 48.5132 69.7687 49.519 69.7687C50.5607 69.7687 51.4407 70.1386 52.1591 70.8783C52.8775 71.5828 53.2367 72.4459 53.2367 73.4675C53.2367 74.4538 52.8775 75.3169 52.1591 76.0566C51.4407 76.7612 50.5607 77.1134 49.519 77.1134Z",fill:"white","aria-label":"left-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"0ms"}}),oe.createElement("path",{d:"M85.9869 88.6325C85.1967 88.6325 84.5501 88.3683 84.0473 87.8399C83.5444 87.3468 83.2929 86.7127 83.2929 85.9377C83.2929 85.1275 83.5444 84.4758 84.0473 83.9826C84.5501 83.4894 85.1967 83.2429 85.9869 83.2429C88.178 83.2429 89.2736 82.1684 89.2736 80.0196V67.7079C89.2736 65.2421 89.8483 63.287 90.9977 61.8427C90.423 61.1029 89.992 60.2399 89.7046 59.2535C89.4173 58.2672 89.2736 57.1575 89.2736 55.9246V43.6129C89.2736 41.4641 88.178 40.3897 85.9869 40.3897C85.1967 40.3897 84.5501 40.1431 84.0473 39.6499C83.5444 39.1567 83.2929 38.5227 83.2929 37.7477C83.2929 36.9727 83.5444 36.321 84.0473 35.7926C84.5501 35.2642 85.1967 35 85.9869 35C91.8419 35 94.7693 37.871 94.7693 43.6129V55.9246C94.7693 58.0734 95.8469 59.1478 98.0021 59.1478C98.7924 59.1478 99.4389 59.3944 99.9418 59.8876C100.481 60.3808 100.75 61.0325 100.75 61.8427C100.75 62.6177 100.481 63.2517 99.9418 63.7449C99.4389 64.2381 98.7924 64.4847 98.0021 64.4847C95.8469 64.4847 94.7693 65.5591 94.7693 67.7079V80.0196C94.7693 85.7616 91.8419 88.6325 85.9869 88.6325Z",fill:"white","aria-label":"open-bracket"}),oe.createElement("path",{d:"M38.7631 88.6325C32.9081 88.6325 29.9807 85.7616 29.9807 80.0196V67.7079C29.9807 65.5591 28.9031 64.4847 26.7479 64.4847C25.9576 64.4847 25.2931 64.2381 24.7543 63.7449C24.2514 63.2517 24 62.6177 24 61.8427C24 61.0325 24.2514 60.3808 24.7543 59.8876C25.2931 59.3944 25.9576 59.1478 26.7479 59.1478C28.9031 59.1478 29.9807 58.0734 29.9807 55.9246V43.6129C29.9807 37.871 32.9081 35 38.7631 35C39.5533 35 40.1999 35.2642 40.7027 35.7926C41.2056 36.321 41.4571 36.9727 41.4571 37.7477C41.4571 38.5227 41.2056 39.1567 40.7027 39.6499C40.1999 40.1431 39.5533 40.3897 38.7631 40.3897C36.572 40.3897 35.4764 41.4641 35.4764 43.6129V55.9246C35.4764 57.1575 35.3327 58.2672 35.0454 59.2535C34.758 60.2399 34.327 61.1029 33.7522 61.8427C34.9017 63.287 35.4764 65.2421 35.4764 67.7079V80.0196C35.4764 82.1684 36.572 83.2429 38.7631 83.2429C39.5533 83.2429 40.1999 83.4894 40.7027 83.9826C41.2056 84.4758 41.4571 85.1275 41.4571 85.9377C41.4571 86.7127 41.2056 87.3468 40.7027 87.8399C40.1999 88.3683 39.5533 88.6325 38.7631 88.6325Z",fill:"white","aria-label":"close-bracket"})))};function as(t,e){const n=Object.assign({},e);for(const r in t)typeof t[r]=="object"&&!Array.isArray(t[r])?e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?n[r]=as(t[r],e[r]):n[r]=Object.assign({},t[r]):n[r]=t[r];return n}const au=t=>{var{languageServerAddress:e="https://web-backend.codeium.com",otherDocuments:n=[],containerClassName:r="",containerStyle:i={}}=t,s=Ci(t,["languageServerAddress","otherDocuments","containerClassName","containerStyle"]);const o=b.useRef(null),a=b.useRef(null),c=b.useRef(null),[u,h]=b.useState(-1),[m,d]=b.useState(0),[p,g]=b.useState(dt.INACTIVE),[y,x]=b.useState(""),[O,T]=b.useState(!1),L=b.useMemo(()=>Lc({baseUrl:e,useBinaryFormat:!0}),[e]),E=b.useMemo(()=>mc(Yl,L),[L]);c.current=b.useMemo(()=>new su(E,d,g,x,s.apiKey,s.multilineModelThreshold),[]),b.useEffect(()=>{if(!o?.current||!a.current||!c.current)return;const I=a.current,A=I.languages.registerInlineCompletionsProvider({pattern:"**"},c.current),_=I.editor.registerCommand("codeium.acceptCompletion",(U,$,H)=>{var R;try{s.onAutocomplete&&s.onAutocomplete(H),h(u+1),(R=c.current)===null||R===void 0||R.acceptedLastCompletion($)}catch{console.log("Err")}});return()=>{A.dispose(),_.dispose()}},[o?.current,a?.current,c?.current,u,O]);const B=(I,A)=>er(void 0,void 0,void 0,function*(){o.current=I,a.current=A,T(!0);try{yield E.getCompletions({})}catch{}s.onMount&&s.onMount(I,A)});b.useEffect(()=>{var I;(I=c.current)===null||I===void 0||I.updateOtherDocuments(n)},[n]);let z={defaultLanguage:s.language,defaultValue:ql(s.language)};const D={width:s.width||"100%",height:s.height||"300px"};return oe.createElement("div",{style:Object.assign(Object.assign(Object.assign({},D),{position:"relative"}),i),className:r},oe.createElement("a",{href:"https://codeium.com?referrer=codeium-editor",target:"_blank",rel:"noreferrer noopener"},oe.createElement(ou,{width:30,height:30,style:{position:"absolute",top:12,right:12,zIndex:1}})),oe.createElement(Hl,Object.assign({},z,s,{width:D.width,height:D.height,onMount:B,options:as(s.options,{scrollBeyondLastColumn:0,scrollbar:{alwaysConsumeMouseWheel:!1},codeLens:!1,minimap:{enabled:!1},quickSuggestions:!1,folding:!1,foldingHighlight:!1,foldingImportsByDefault:!1,links:!1,fontSize:14,wordWrap:"on"})})))},cu=({message:t,type:e="error",onClose:n})=>!t||t.trim()==""?null:l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"inline-flex items-center px-2 py-1 text-xs text-red-500 bg-red-100 border border-red-300 border-solid ",children:[t,l.jsx("button",{className:"ml-2 text-xs text-red-500  hover:bg-red-200",onClick:n,children:l.jsx(Mn,{})})]})});var kn="rovingFocusGroup.onEntryFocus",lu={bubbles:!1,cancelable:!0},Tn="RovingFocusGroup",[Yn,cs,uu]=ro(Tn),[fu,ls]=fi(Tn,[uu]),[du,hu]=fu(Tn),us=b.forwardRef((t,e)=>l.jsx(Yn.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Yn.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(mu,{...t,ref:e})})}));us.displayName=Tn;var mu=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=t,d=b.useRef(null),p=Ws(e,d),g=ui(s),[y=null,x]=di({prop:o,defaultProp:a,onChange:c}),[O,T]=b.useState(!1),L=Xs(u),E=cs(n),B=b.useRef(!1),[z,D]=b.useState(0);return b.useEffect(()=>{const I=d.current;if(I)return I.addEventListener(kn,L),()=>I.removeEventListener(kn,L)},[L]),l.jsx(du,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:b.useCallback(I=>x(I),[x]),onItemShiftTab:b.useCallback(()=>T(!0),[]),onFocusableItemAdd:b.useCallback(()=>D(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>D(I=>I-1),[]),children:l.jsx(Ut.div,{tabIndex:O||z===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...t.style},onMouseDown:nt(t.onMouseDown,()=>{B.current=!0}),onFocus:nt(t.onFocus,I=>{const A=!B.current;if(I.target===I.currentTarget&&A&&!O){const _=new CustomEvent(kn,lu);if(I.currentTarget.dispatchEvent(_),!_.defaultPrevented){const U=E().filter(G=>G.focusable),$=U.find(G=>G.active),H=U.find(G=>G.id===y),M=[$,H,...U].filter(Boolean).map(G=>G.ref.current);hs(M,h)}}B.current=!1}),onBlur:nt(t.onBlur,()=>T(!1))})})}),fs="RovingFocusGroupItem",ds=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=li(),c=s||a,u=hu(fs,n),h=u.currentTabStopId===c,m=cs(n),{onFocusableItemAdd:d,onFocusableItemRemove:p}=u;return b.useEffect(()=>{if(r)return d(),()=>p()},[r,d,p]),l.jsx(Yn.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:l.jsx(Ut.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:nt(t.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:nt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:nt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=bu(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let O=m().filter(T=>T.focusable).map(T=>T.ref.current);if(y==="last")O.reverse();else if(y==="prev"||y==="next"){y==="prev"&&O.reverse();const T=O.indexOf(g.currentTarget);O=u.loop?yu(O,T+1):O.slice(T+1)}setTimeout(()=>hs(O))}})})})});ds.displayName=fs;var pu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gu(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bu(t,e,n){const r=gu(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pu[r]}function hs(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function yu(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wu=us,Su=ds,rr="Tabs",[xu,kf]=fi(rr,[ls]),ms=ls(),[Eu,ir]=xu(rr),ps=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,h=ui(a),[m,d]=di({prop:r,onChange:i,defaultProp:s});return l.jsx(Eu,{scope:n,baseId:li(),value:m,onValueChange:d,orientation:o,dir:h,activationMode:c,children:l.jsx(Ut.div,{dir:h,"data-orientation":o,...u,ref:e})})});ps.displayName=rr;var gs="TabsList",bs=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=ir(gs,n),o=ms(n);return l.jsx(wu,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(Ut.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});bs.displayName=gs;var ys="TabsTrigger",ws=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=ir(ys,n),a=ms(n),c=Es(o.baseId,r),u=Ns(o.baseId,r),h=r===o.value;return l.jsx(Su,{asChild:!0,...a,focusable:!i,active:h,children:l.jsx(Ut.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:nt(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:nt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:nt(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(r)})})})});ws.displayName=ys;var Ss="TabsContent",xs=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=ir(Ss,n),c=Es(a.baseId,r),u=Ns(a.baseId,r),h=r===a.value,m=b.useRef(h);return b.useEffect(()=>{const d=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(d)},[]),l.jsx(Ks,{present:i||h,children:({present:d})=>l.jsx(Ut.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!d,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:d&&s})})});xs.displayName=Ss;function Es(t,e){return`${t}-trigger-${e}`}function Ns(t,e){return`${t}-content-${e}`}var Nu=ps,Ts=bs,Is=ws,Os=xs;const Tu=Nu,vs=b.forwardRef(({className:t,...e},n)=>l.jsx(Ts,{ref:n,className:ht("inline-flex h-9 items-center justify-center  bg-muted p-1 text-muted-foreground",t),...e}));vs.displayName=Ts.displayName;const As=b.forwardRef(({className:t,...e},n)=>l.jsx(Is,{ref:n,className:ht("inline-flex items-center justify-center whitespace-nowrap  px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));As.displayName=Is.displayName;const Wn=b.forwardRef(({className:t,...e},n)=>l.jsx(Os,{ref:n,className:ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Wn.displayName=Os.displayName;function oi(t){return typeof t[0]=="object"&&t[0]!==null?t:t.map(e=>({text:e,value:e}))}function Iu(t){let e=1;const n=[];for(;e<=t;)n.push(l.jsx(Ot,{value:e.toString(),children:String(e)},e)),e++;return n}function ai(t,e){return e&&t.find(r=>e===r.value)?e:t[0].value}const Ou=oe.forwardRef(function({backwardText:e="Previous page",className:n="",disabled:r=!1,forwardText:i="Next page",id:s,isLastPage:o=!1,itemText:a=(I,A)=>`${I}â${A} items`,itemRangeText:c=(I,A,_)=>`${I}â${A} of ${_} items`,itemsPerPageText:u="Items per page:",onChange:h,pageNumberText:m="Page Number",pageRangeText:d=(I,A)=>`of ${A} ${A===1?"page":"pages"}`,page:p=1,pageInputDisabled:g,pageSize:y,pageSizeInputDisabled:x,pageSizes:O,pageText:T=I=>`page ${I}`,pagesUnknown:L=!1,size:E="md",totalItems:B,...z},D){const I=b.useRef(null),A=b.useRef(null),[_,U]=b.useState(()=>oi(O)),[$,H]=b.useState(O),[R,M]=b.useState(p),[G,Y]=b.useState(p),[Q,S]=b.useState(()=>ai(_,y)),[V,W]=b.useState(y),le=ht("pagination bg-neutral-100 border-t border-solid border-neutral-300 flex items-center text-md justify-between",`pagination--${E}`,n),fe=B?Math.max(Math.ceil(B/Q),1):1,se=ht("flex p-1 w-10 items-center justify-center cursor-pointer hover:bg-neutral-100",r||R===1?"opacity-50 cursor-not-allowed":""),Ne=ht("flex p-1 items-center w-10 justify-center cursor-pointer hover:bg-neutral-100",r||R===fe&&!L||o?"opacity-50 cursor-not-allowed":""),it=Iu(fe);if(p!==G&&(M(p),Y(p)),y!==V&&(S(ai(_,y)),W(y)),!io(O,$)){const v=oi(O);v.find(ae=>ae.value===Q)||M(1),U(v),H(O)}function P(v){const ae={pageSize:Number(v),page:1};M(ae.page),S(ae.pageSize),h&&h(ae)}function q(v){const ee=Number(v);ee>0&&B&&ee<=Math.max(Math.ceil(B/Q),1)&&(M(ee),h&&h({page:ee,pageSize:Q}))}function J(){const v=R+1;M(v),v===fe&&I?.current&&I.current.focus(),h&&h({page:v,pageSize:Q,ref:I})}function K(){const v=R-1;M(v),v===1&&A?.current&&A.current.focus(),h&&h({page:v,pageSize:Q,ref:A})}return l.jsxs("div",{className:le,ref:D,...z,children:[l.jsxs("div",{className:"flex gap-2 pl-4",children:[l.jsx("label",{className:"whitespace-nowrap flex items-center",children:u}),l.jsxs(Nt,{onValueChange:P,disabled:x||r,value:Q,children:[l.jsx(Tt,{className:"border-0 shadow-none",children:Q}),l.jsx(It,{children:_.map(v=>l.jsx(Ot,{value:v.value,children:String(v.text)},v.value))})]}),l.jsx("span",{className:"border-r border-solid border-neutral-300"}),l.jsx("span",{className:"whitespace-nowrap opacity-50 flex items-center pl-4",children:L||!B?B===0?c(0,0,0):a(Q*(R-1)+1,R*Q):c(Math.min(Q*(R-1)+1,B),Math.min(R*Q,B),B)})]}),l.jsx("span",{className:"border-r border-solid border-neutral-300"}),l.jsxs("div",{className:"flex whitespace-nowrap",children:[l.jsx("span",{className:"border-r border-solid border-neutral-300"}),L?l.jsx("span",{className:"whitespace-nowrap flex items-center",children:T(R)}):l.jsxs("div",{className:"flex gap-1 pr-4",children:[l.jsxs(Nt,{onValueChange:q,value:R.toString(),disabled:g||r,children:[l.jsx(Tt,{className:"border-0 shadow-none",children:R}),l.jsx(It,{children:it})]}),l.jsx("span",{className:"flex items-center opacity-50",children:d(R,fe)})]}),l.jsx("span",{className:"border-r border-solid border-neutral-300"}),l.jsxs("div",{className:"flex",children:[l.jsxs("span",{className:se,"aria-label":e,onClick:K,ref:I,children:[l.jsx($s,{}),l.jsx("span",{className:"sr-only",children:e})]}),l.jsx("span",{className:"border-r border-solid border-neutral-300"}),l.jsxs("span",{className:Ne,"aria-label":i,onClick:J,ref:I,children:[l.jsx(Vs,{}),l.jsx("span",{className:"sr-only",children:i})]})]})]})]})}),vu={on:"collection",name:"find",label:"Find",description:"Find documents in a collection",parameters:[{type:"bson",description:"The query filter document (empty means match all)",name:"filter",value:{},label:"Filter",options:{type:"autocomplete"},default:{}},{name:"options",type:"bson",value:{},options:{type:"select",values:{projection:{},sort:{},skip:0,limit:10,collation:{},hint:{},maxTimeMS:5e3}},parse:(t,e)=>{let n={};return typeof t=="object"&&(n={...t}),e.sort&&(n.sort={},n.sort[e.sort]=Number(e.direction||0)),e.skip&&(n.skip=Number(e.skip)),e.limit&&(n.limit=Number(e.limit)),n},label:"Options",description:"Optional settings for the query (e.g., sort, limit, skip)",default:{skip:0,limit:10}}]},Au=Object.freeze(Object.defineProperty({__proto__:null,default:vu},Symbol.toStringTag,{value:"Module"})),Cu={on:"collection",name:"insertOne",label:"Insert One",description:"Insert a single document into the collection",parameters:[{type:"bson",name:"document",label:"Document",description:"The document to insert",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the insert operation (e.g., writeConcern)",value:{},options:{type:"select",values:{writeConcern:{}}},default:{}}]},ju=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"})),Bu={on:"collection",name:"updateOne",label:"Update One",description:"Update a single document in the collection",parameters:[{type:"bson",name:"filter",label:"Filter",description:"The query filter to match the document to update",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"update",label:"Update",description:"The update operations to apply to the matched document",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the update operation",value:{},options:{type:"select",values:{upsert:!1,writeConcern:{},collation:{},arrayFilters:[],hint:{},let:{},sort:{}}},default:{}}]},Uu=Object.freeze(Object.defineProperty({__proto__:null,default:Bu},Symbol.toStringTag,{value:"Module"})),_u={on:"collection",name:"deleteOne",label:"Delete One",description:"Delete a single document from the collection",parameters:[{type:"bson",name:"filter",label:"Filter",description:"The query filter to match the document to delete",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the delete operation",value:{},options:{type:"select",values:{writeConcern:{},collation:{},hint:{}}},default:{}}]},Pu=Object.freeze(Object.defineProperty({__proto__:null,default:_u},Symbol.toStringTag,{value:"Module"})),Ru={on:"collection",name:"validate",label:"Validate",description:"Validates a collection and its indexes for correctness. Can optionally repair inconsistencies and check BSON conformance.",parameters:[{type:"bson",name:"options",label:"Options",description:"Optional settings for the validate operation",value:{},options:{type:"select",values:{full:!1,repair:!1,checkBSONConformance:!1}},default:{}}]},ku=Object.freeze(Object.defineProperty({__proto__:null,default:Ru},Symbol.toStringTag,{value:"Module"})),Du={on:"collection",name:"indexes",label:"Get Indexes",description:"Returns an array of documents describing the existing indexes on the collection, including hidden indexes and indexes currently being built.",parameters:[]},Mu=Object.freeze(Object.defineProperty({__proto__:null,default:Du},Symbol.toStringTag,{value:"Module"})),Fu={on:"collection",name:"dropIndex",label:"Drop Index",description:"Drops or removes the specified index from a collection. You can specify the index by name or by index specification document. Cannot drop the default _id index.",parameters:[{type:"stringOrBson",name:"index",label:"Index",description:"Required. The index to drop, specified by name or index specification document.",value:"",options:{type:"autocomplete"},default:""}]},Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"})),$u={on:"collection",name:"configureQueryAnalyzer",label:"Configure Query Analyzer",description:"Configures the query analyzer for a collection. Set the mode to 'full' or 'off', and optionally specify the number of samples per second.",parameters:[{type:"bson",name:"options",label:"Options",description:"Settings for the query analyzer",value:{},options:{type:"select",values:{mode:"full",samplesPerSecond:1}},default:{mode:"full"}}]},Vu=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),Ju={on:"collection",name:"aggregate",label:"Aggregate",description:"Calculates aggregate values for the data in a collection or a view using a sequence of aggregation pipeline stages.",parameters:[{type:"array",name:"pipeline",label:"Pipeline",description:"A sequence of data aggregation operations or stages.",value:[],options:{type:"autocomplete"},default:[]},{type:"bson",name:"options",label:"Options",description:"Optional settings for the aggregation operation.",value:{},options:{type:"select",values:{allowDiskUse:!1,batchSize:1e3,collation:{},maxTimeMS:5e3,hint:{},comment:"",explain:!1}},default:{}}]},Gu=Object.freeze(Object.defineProperty({__proto__:null,default:Ju},Symbol.toStringTag,{value:"Module"})),zu={on:"collection",name:"countDocuments",label:"Count Documents",description:"Returns the number of documents that match the query of the collection or view. Available for use in transactions.",parameters:[{type:"bson",name:"query",label:"Query",description:"The query selection criteria. To count all documents, specify an empty document.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings that affect the count behavior.",value:{},options:{type:"select",values:{limit:0,skip:0,hint:"",maxTimeMS:5e3}},default:{}}]},Hu=Object.freeze(Object.defineProperty({__proto__:null,default:zu},Symbol.toStringTag,{value:"Module"})),qu={on:"collection",name:"createIndex",label:"Create Index",description:"Creates an index on a collection. Specify the keys, options, and optionally the commit quorum.",parameters:[{type:"bson",name:"keys",label:"Keys",description:"A document containing field and value pairs for the index keys. Use 1 for ascending, -1 for descending, or specify index types (e.g., 'text', 'hashed').",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for index creation (e.g., unique, sparse, name, expireAfterSeconds, etc.).",value:{},options:{type:"select",values:{unique:!1,sparse:!1,name:"",expireAfterSeconds:0,background:!1,partialFilterExpression:{},collation:{}}},default:{}},{type:"stringOrNumber",name:"commitQuorum",label:"Commit Quorum",description:"Optional. The minimum number of voting replica set members required for index build completion. Can be an integer or string (e.g., 'majority', 'votingMembers').",value:"",options:{type:"select",values:{majority:"majority",votingMembers:"votingMembers"}},default:""}]},Yu=Object.freeze(Object.defineProperty({__proto__:null,default:qu},Symbol.toStringTag,{value:"Module"})),Wu={on:"collection",name:"distinct",label:"Distinct",description:"Finds the distinct values for a specified field across a single collection or view and returns the unique results in an array.",parameters:[{type:"string",name:"field",label:"Field",description:"The field for which to return distinct values.",value:"",options:{type:"autocomplete"},default:""},{type:"bson",name:"query",label:"Query",description:"A query that specifies the documents from which to retrieve the distinct values.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the distinct operation.",value:{},options:{type:"select",values:{collation:{},maxTimeMS:5e3,readConcern:"local"}},default:{}}]},Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Wu},Symbol.toStringTag,{value:"Module"})),Ku={on:"collection",name:"estimatedDocumentCount",label:"Estimated Document Count",description:"Returns the count of all documents in a collection or view using collection metadata.",parameters:[{type:"bson",name:"options",label:"Options",description:"Optional settings that affect the count behavior.",value:{},options:{type:"select",values:{maxTimeMS:5e3}},default:{}}]},Zu=Object.freeze(Object.defineProperty({__proto__:null,default:Ku},Symbol.toStringTag,{value:"Module"})),Qu={on:"collection",name:"findOneAndDelete",label:"Find One And Delete",description:"Deletes a single document based on the filter and sort criteria, returning the deleted document.",parameters:[{type:"bson",name:"filter",label:"Filter",description:"The selection criteria for the deletion. Specify an empty document to delete the first document returned in the collection.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the findOneAndDelete operation.",value:{},options:{type:"select",values:{writeConcern:{},projection:{},sort:{},maxTimeMS:5e3,collation:{}}},default:{}}]},ef=Object.freeze(Object.defineProperty({__proto__:null,default:Qu},Symbol.toStringTag,{value:"Module"})),tf={on:"collection",name:"findOneAndReplace",label:"Find One And Replace",description:"Replaces a single document based on the filter and sort criteria, returning the replaced document.",parameters:[{type:"bson",name:"filter",label:"Filter",description:"The selection criteria for the replacement. Specify an empty document to match the first document in the collection.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"replacement",label:"Replacement",description:"The replacement document.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the findOneAndReplace operation.",value:{},options:{type:"select",values:{writeConcern:{},projection:{},sort:{},maxTimeMS:5e3,upsert:!1,returnDocument:"before",returnNewDocument:!1,collation:{}}},default:{}}]},nf=Object.freeze(Object.defineProperty({__proto__:null,default:tf},Symbol.toStringTag,{value:"Module"})),rf={on:"collection",name:"findOneAndUpdate",label:"Find One And Update",description:"Updates a single document based on the filter and sort criteria, returning the updated document.",parameters:[{type:"bson",name:"filter",label:"Filter",description:"The selection criteria for the update. Specify an empty document to match the first document in the collection.",value:{},options:{type:"autocomplete"},default:{}},{type:"bsonOrArray",name:"update",label:"Update",description:"The update document or aggregation pipeline.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the findOneAndUpdate operation.",value:{},options:{type:"select",values:{writeConcern:{},projection:{},sort:{},maxTimeMS:5e3,upsert:!1,returnDocument:"before",returnNewDocument:!1,collation:{},arrayFilters:[]}},default:{}}]},sf=Object.freeze(Object.defineProperty({__proto__:null,default:rf},Symbol.toStringTag,{value:"Module"})),of={on:"collection",name:"getShardDistribution",label:"Get Shard Distribution",description:"Returns information about the distribution of data across shards for a sharded collection.",parameters:[]},af=Object.freeze(Object.defineProperty({__proto__:null,default:of},Symbol.toStringTag,{value:"Module"})),cf={on:"collection",name:"getShardVersion",label:"Get Shard Version",description:"Returns information about the shard version for a sharded collection.",parameters:[]},lf=Object.freeze(Object.defineProperty({__proto__:null,default:cf},Symbol.toStringTag,{value:"Module"})),uf={on:"collection",name:"isCapped",label:"Is Capped",description:"Returns a boolean indicating whether the collection is a capped collection.",parameters:[]},ff=Object.freeze(Object.defineProperty({__proto__:null,default:uf},Symbol.toStringTag,{value:"Module"})),df={on:"collection",name:"renameCollection",label:"Rename Collection",description:"Renames a collection to the specified target name. Optionally drops the target collection if it exists.",parameters:[{type:"string",name:"target",label:"Target Name",description:"The new name of the collection.",value:"",options:{type:"autocomplete"},default:""},{type:"boolean",name:"dropTarget",label:"Drop Target",description:"If true, drops the target collection before renaming. Default is false.",value:!1,options:{type:"select",values:{true:!0,false:!1}},default:!1}]},hf=Object.freeze(Object.defineProperty({__proto__:null,default:df},Symbol.toStringTag,{value:"Module"})),mf={on:"collection",name:"replaceOne",label:"Replace One",description:"Replaces a single document that matches the filter with the replacement document.",parameters:[{type:"bson",name:"filter",label:"Filter",description:"The query filter to match the document to replace.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"replacement",label:"Replacement",description:"The replacement document.",value:{},options:{type:"autocomplete"},default:{}},{type:"bson",name:"options",label:"Options",description:"Optional settings for the replace operation.",value:{},options:{type:"select",values:{upsert:!1,writeConcern:{},collation:{},hint:"",sort:{}}},default:{}}]},pf=Object.freeze(Object.defineProperty({__proto__:null,default:mf},Symbol.toStringTag,{value:"Module"})),gf={on:"collection",name:"stats",label:"Stats",description:"Returns statistics about the collection, such as storage size, document count, and index details.",parameters:[{type:"bson",name:"options",label:"Options",description:"Optional settings for the stats operation.",value:{},options:{type:"select",values:{scale:1,indexDetails:!1,indexDetailsKey:{},indexDetailsName:""}},default:{}}]},bf=Object.freeze(Object.defineProperty({__proto__:null,default:gf},Symbol.toStringTag,{value:"Module"})),yf={on:"collection",name:"storageSize",label:"Storage Size",description:"Returns the storage size in bytes for the collection. This is a shortcut for the stats command's storageSize field.",parameters:[]},wf=Object.freeze(Object.defineProperty({__proto__:null,default:yf},Symbol.toStringTag,{value:"Module"})),Sf={on:"collection",name:"totalIndexSize",label:"Total Index Size",description:"Returns the total size in bytes of all indexes for the collection. This is a shortcut for the stats command's totalIndexSize field.",parameters:[]},xf=Object.freeze(Object.defineProperty({__proto__:null,default:Sf},Symbol.toStringTag,{value:"Module"})),Ef={on:"collection",name:"totalSize",label:"Total Size",description:"Returns the total size in bytes for the collection, including all data and indexes. This is a shortcut for the stats command's totalSize field.",parameters:[]},Nf=Object.freeze(Object.defineProperty({__proto__:null,default:Ef},Symbol.toStringTag,{value:"Module"})),wt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Gu,configureQueryAnalyzer:Vu,countDocuments:Hu,createIndex:Yu,deleteOne:Pu,distinct:Xu,dropIndex:Lu,estimatedDocumentCount:Zu,find:Au,findOneAndDelete:ef,findOneAndReplace:nf,findOneAndUpdate:sf,getIndexes:Mu,getShardDistribution:af,getShardVersion:lf,insertOne:ju,isCapped:ff,renameCollection:hf,replaceOne:pf,stats:bf,storageSize:wf,totalIndexSize:xf,totalSize:Nf,updateOne:Uu,validate:ku},Symbol.toStringTag,{value:"Module"})),Cs=b.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:ht("flex min-h-[60px] w-full  border border-input bg-transparent px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Cs.displayName="Textarea";const Ue={};Object.keys(wt).forEach(t=>{if(typeof wt[t].default=="object"&&wt[t].default?.name){if(wt[t].default.on!=="collection")return;Ue[wt[t].default.name]=wt[t].default}else console.error("Unknown spec, you must export default on the function to work",t.toString())});const Tf=({onChange:t})=>l.jsx(au,{language:"json",className:"text-sm",theme:"light",onChange:t,options:{fontSize:12,padding:{top:10}}});function Df(){const t=Us(),[e,n]=b.useState({page:1,pageSize:10}),[r,i]=b.useState({field:"",direction:0}),s=_s(),o=b.useRef(!1),[a,c]=b.useState("list"),[u,h]=b.useState({}),[m,d]=b.useState(""),[p,g]=b.useState(""),[y,x]=b.useState(!1),[O,T]=b.useState("find"),L=Ps(),{columns:E}=t,[B,z]=b.useState(t),{title:D,stats:I,count:A,documents:_,raw:U,params:$}=B,H=ue.parse(_)||[],R=s.state=="submitting"||s.state=="loading",M=()=>{if(!O||O==""||!Ue[O]){g("Please select a function");return}g(""),n({...e,page:1}),s.submit({function:O,query:ue.stringify(u)},{method:"POST",encType:"application/json",action:`/database/${$.db}/${$.col}`})};if(b.useEffect(()=>{if(!o.current){o.current=!0;return}if(!$)return;const S={};if(e.page>1){const V=(e.page-1)*e.pageSize;S.skip=V}e.pageSize!=10&&(S.limit=e.pageSize),!(!O||O==""||!Ue[O])&&s.submit({function:O,query:u?ue.stringify(u):{},...S,sort:r.field,direction:r.direction},{method:"POST",encType:"application/json",action:`/database/${$.db}/${$.col}`})},[e.page,e.pageSize,r.field,r.direction]),b.useEffect(()=>{s.data&&s.data.status=="success"?(z({...B,documents:s.data.documents||"",raw:s.data.raw}),n({...e,page:s.data.skip?Math.floor((s.data.skip||0)/(s.data.limit||10))+1:1,pageSize:s.data.limit||10})):s.data&&s.data.status=="error"&&g(s.data?.message||"")},[s.data]),!I)return l.jsx("div",{children:"Loading..."});let G=null;a=="grid"?G=l.jsx(ga,{sort:r,onSort:S=>{i(V=>({field:S,direction:V.field==S?V.direction*-1:1})),n({...e,page:1})},rows:H}):G=H?.map((S,V)=>l.jsx("div",{className:"w-full p-4 mb-3 overflow-auto bg-white border border-solid border-neutral-300",children:l.jsx(cn,{autocompleteItems:E,isExpanded:!1,data:S})},S._id?S._id.toString():`document-${V}`));const Y=(typeof U=="object"||Array.isArray(U))&&typeof U<"u",Q=(U==""||typeof U=="object"||Array.isArray(U))&&typeof U<"u"?U:ue.stringify(U);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"database-page",children:[l.jsxs("div",{className:"flex items-center justify-between pb-4",children:[l.jsxs("div",{children:[l.jsxs(qs,{title:D,children:[l.jsx("span",{className:"font-normal opacity-50",children:"Collection:"}),l.jsx("span",{className:"ml-1",children:D})]}),l.jsxs("p",{className:"text-sm",children:["Documents: ",I?.count]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx(Mt,{size:"sm",variant:"danger",icon:l.jsx(Dn,{}),tooltip:"Delete Collection",onClick:S=>{S.preventDefault(),x(!0)},children:"Delete Collection"}),l.jsx(Mt,{hasIconOnly:!0,size:"md",variant:"ghost",className:a=="list"?"bg-neutral-100":"",icon:l.jsx(Js,{}),tooltip:"List View",onClick:S=>{S.preventDefault(),c("list")}}),l.jsx(Mt,{hasIconOnly:!0,size:"md",variant:"ghost",className:a=="grid"?"bg-neutral-100":"",icon:l.jsx(Gs,{}),tooltip:"Table View",onClick:S=>{S.preventDefault(),c("grid")}})]})]}),l.jsxs("div",{className:"p-4 mt-1 mb-1 border border-solid border-neutral-300",children:[l.jsxs("div",{className:"py-1",children:[l.jsx("span",{className:"block text-base font-bold",children:"Query"}),l.jsx("span",{className:"block mb-2 text-xs opacity-50",children:"Please enter your query below"})]}),l.jsxs(Tu,{defaultValue:"json",children:[l.jsx(vs,{className:"bg-neutral-100","aria-label":"List of tabs",children:l.jsx(As,{value:"json",children:"Json Editor"})}),l.jsxs(Wn,{value:"json",children:[l.jsxs("div",{className:"flex bg-white divide-x divide-neutral-200 min-h-36",children:[O&&Ue[O]&&Ue[O].parameters.length>0?Ue[O].parameters.map((S,V)=>l.jsxs("div",{className:"flex-1 pr-10"+(V==0?" pl-0":" pl-6"),children:[l.jsxs("div",{className:"flex flex-col mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:S.label}),l.jsx("p",{className:"text-xs text-neutral-500",children:S.description})]}),l.jsx(cn,{data:u[S.name],autocompleteItems:S.options&&S.options.type=="autocomplete"?E:S.options.values||{},autocompleteType:S.options&&S.options.type=="autocomplete"?"search":S.options.type||"search",onChange:W=>h({...u,[S.name]:W})})]},S.name+V)):null,l.jsxs("div",{className:"flex-1 overflow-auto"+(O&&Ue[O]&&Ue[O].parameters.length>0?" pl-10 pr-10":""),children:[l.jsxs("div",{className:"flex flex-col mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Raw Response"}),l.jsx("p",{className:"text-xs text-neutral-500",children:"Raw response from the server"})]}),Y?l.jsx(cn,{autocompleteItems:E,isExpanded:!1,data:Q}):l.jsx(Cs,{readOnly:!0,value:Q})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-1 gap-2",children:[l.jsx("div",{className:"flex items-center gap-2 mb-4",children:l.jsxs(Nt,{disabled:R,value:O,onValueChange:S=>{z({...B,raw:""}),T(S)},children:[l.jsx(Tt,{id:"function-select",className:"px-2 py-1 text-sm bg-white border border-neutral-300",children:l.jsx(an,{placeholder:"Select a function"})}),l.jsx(It,{children:Object.keys(Ue).map(S=>l.jsx(Ot,{value:S,children:Ue[S].label||S},S))})]})}),l.jsx(Mt,{size:"sm",disabled:!O||O=="",icon:l.jsx(zs,{}),loading:R,onClick:()=>{M()},children:"Execute"})]}),l.jsx(so,{size:"sm",className:"ml-2",variant:"ghost",text:ue.stringify(u),children:"Copy as BSON"})]}),p!=""&&l.jsx(cu,{message:p,onClose:()=>g("")})]})]}),l.jsx(Wn,{value:"editor",children:l.jsx(Tf,{onChange:S=>{d(S);try{h(ue.parse(S)),g("")}catch(V){g(V.message)}}})})]})]}),l.jsx("div",{className:"mb-3 bg-neutral-100",children:l.jsx(Qs,{type:"multiple",children:l.jsxs(eo,{value:"statistics",className:"pr-0 ",children:[l.jsx(to,{className:"px-4 border-t border-solid border-neutral-200",children:l.jsx("span",{className:"font-medium",children:"Statistics"})}),l.jsx(no,{className:"px-0",children:l.jsxs("div",{className:"flex flex-col items-start w-full pb-4 lg:flex-row",children:[l.jsx("div",{className:"flex-1 w-full",children:l.jsx(ur,{className:"text-md",children:l.jsxs(fr,{children:[l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Namespace"}),l.jsx(re,{children:I.ns})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Host"}),l.jsx(re,{children:I.host})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Local Time"}),l.jsx(re,{children:I.localTime})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Reads Latency"}),l.jsxs(re,{children:[Re(I.latencyStats?.reads.latency)," ms"]})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Writes Latency"}),l.jsxs(re,{children:[Re(I.latencyStats?.writes.latency)," ms"]})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Commands Latency"}),l.jsxs(re,{children:[Re(I.latencyStats?.commands.latency)," ms"]})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Transactions Latency"}),l.jsxs(re,{children:[Re(I.latencyStats?.transactions.latency)," ms"]})]})]})})}),l.jsx("div",{className:"flex-1 w-full",children:l.jsx(ur,{className:"mt-4 text-md lg:mt-0",children:l.jsxs(fr,{children:[l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Storage Size"}),l.jsxs(re,{children:[Re(I.storageStats?.storageSize)," B"]})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Total Index Size"}),l.jsxs(re,{children:[Re(I.storageStats?.totalIndexSize)," B"]})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Total Size"}),l.jsxs(re,{children:[Re(I.storageStats?.totalSize)," B"]})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Count"}),l.jsx(re,{children:I.storageStats?.count})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Collection Scans Total"}),l.jsx(re,{children:Re(I.queryExecStats?.collectionScans.total)})]}),l.jsxs(we,{children:[l.jsx(re,{className:"font-bold",children:"Collection Scans Non-Tailable"}),l.jsx(re,{children:Re(I.queryExecStats?.collectionScans.nonTailable)})]})]})})})]})})]})})}),l.jsx("div",{className:"w-full min-h-72",children:G})]}),l.jsx(Ou,{className:"mt-3 mb-10 text-sm",backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"Items per page:",onChange:({page:S,pageSize:V})=>{n({page:S,pageSize:V})},page:e.page,pageSize:e.pageSize,pageSizes:[10,20,30,40,50,100,500],size:"md",totalItems:A}),l.jsx(Zs,{open:y,onClose:()=>x(!1),collectionName:D,dbName:$.db,onSuccess:()=>{x(!1),L(`/database/${$.db}`)}})]})}export{Df as default};
