import{R as x,r as y,j as m,g as qi,u as Yi,b as Wi,a as Xi}from"./components-Cj7Yk1Hh.js";import{u as mt,c as pe,_ as je,P as T,b as It,d as Ki,g as Ar}from"./index-_rCr0AGk.js";import{A as Zi,a as Qi}from"./AccordionItem-DNYUtNot.js";import{u as Us,t as eo,g as vr,b as $s,r as _s,a as to,m as Lt,h as ks,A as Rs,H as js,k as Ls,D as no,B as xt}from"./Button-Bl4KegFP.js";import{G as ro,C as so}from"./Column-BatEsPZP.js";import{S as Cr,a as Ds,m as jn,T as io,n as Ve}from"./functions-B7s41jYM.js";import{j as oo,k as ao,a as nn,i as co,f as fn,E as lo}from"./TextInput-CKh2Yhf_.js";import{d as Br}from"./index-B37bIhWk.js";import{u as uo,a as fo}from"./useMatchMedia-DCVgUbq7.js";import{g as ho,h as mo,i as go,d as Ms,c as dn,f as bo,A as po,a as Pr}from"./bucket-3-B5cXRAyd.js";import{T as Wn,b as we,a as Xn,c as te}from"./TableRow-Zi2gF0TG.js";import{C as Fs}from"./bucket-4-DNu0uQyD.js";import{r as Ur,T as yo}from"./index-DCm1eCXF.js";import{T as Kn}from"./bucket-17-BFRBnihc.js";import{w as wo}from"./wrapComponent-DVKhoVmh.js";import{a as Eo}from"./collection-D6bPwBCG.js";import{b as So}from"./bucket-10-BakHwRxf.js";import"./Modal-K69mcxHf.js";import"./index-BgfNTfNX.js";function Zn(t){if(!t||!t.childNodes)return null;if(No(t))return t;for(const e of t.childNodes){const n=Zn(e);if(n)return n}return null}function No(t){if(t.tabIndex===void 0||t.tabIndex<0||t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return t.type!=="hidden";default:return!0}}const Qn=t=>{let{className:e,small:n=!1,href:r,size:s="lg",...i}=t;const o=mt(),c={className:pe(e,{[`${o}--skeleton`]:!0,[`${o}--btn`]:!0,[`${o}--btn--sm`]:n||s==="sm",[`${o}--btn--md`]:s==="md",[`${o}--btn--lg`]:s==="lg",[`${o}--btn--xl`]:s==="xl",[`${o}--btn--2xl`]:s==="2xl"}),...i},l=x.createElement("div",c),f=x.createElement("a",je({},c,{href:r,role:"button"}));return r?f:l};Qn.propTypes={className:T.string,href:T.string,size:T.oneOf(["sm","md","lg","xl","2xl"]),small:T.bool};var Vs={exports:{}},Q={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=Symbol.for("react.element"),mr=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),yn=Symbol.for("react.strict_mode"),wn=Symbol.for("react.profiler"),En=Symbol.for("react.provider"),Sn=Symbol.for("react.context"),xo=Symbol.for("react.server_context"),Nn=Symbol.for("react.forward_ref"),xn=Symbol.for("react.suspense"),In=Symbol.for("react.suspense_list"),Tn=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Io=Symbol.for("react.offscreen"),Js;Js=Symbol.for("react.module.reference");function Pe(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hr:switch(t=t.type,t){case pn:case wn:case yn:case xn:case In:return t;default:switch(t=t&&t.$$typeof,t){case xo:case Sn:case Nn:case On:case Tn:case En:return t;default:return e}}case mr:return e}}}Q.ContextConsumer=Sn;Q.ContextProvider=En;Q.Element=hr;Q.ForwardRef=Nn;Q.Fragment=pn;Q.Lazy=On;Q.Memo=Tn;Q.Portal=mr;Q.Profiler=wn;Q.StrictMode=yn;Q.Suspense=xn;Q.SuspenseList=In;Q.isAsyncMode=function(){return!1};Q.isConcurrentMode=function(){return!1};Q.isContextConsumer=function(t){return Pe(t)===Sn};Q.isContextProvider=function(t){return Pe(t)===En};Q.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hr};Q.isForwardRef=function(t){return Pe(t)===Nn};Q.isFragment=function(t){return Pe(t)===pn};Q.isLazy=function(t){return Pe(t)===On};Q.isMemo=function(t){return Pe(t)===Tn};Q.isPortal=function(t){return Pe(t)===mr};Q.isProfiler=function(t){return Pe(t)===wn};Q.isStrictMode=function(t){return Pe(t)===yn};Q.isSuspense=function(t){return Pe(t)===xn};Q.isSuspenseList=function(t){return Pe(t)===In};Q.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pn||t===wn||t===yn||t===xn||t===In||t===Io||typeof t=="object"&&t!==null&&(t.$$typeof===On||t.$$typeof===Tn||t.$$typeof===En||t.$$typeof===Sn||t.$$typeof===Nn||t.$$typeof===Js||t.getModuleId!==void 0)};Q.typeOf=Pe;Vs.exports=Q;var er=Vs.exports;const Fe={NONE:"NONE",DESC:"DESC",ASC:"ASC"},To=wo({name:"TableHead",type:"thead"}),Oo="col",Gs={buttonDescription:"carbon.table.header.icon.description"},Ao=(t,e)=>e&&t===Gs.buttonDescription?e.isSortHeader&&Fe?e.sortDirection===Fe.NONE?`Click to sort rows by ${e.header} header in ascending order`:e.sortDirection===Fe.ASC?`Click to sort rows by ${e.header} header in descending order`:`Click to unsort rows by ${e.header} header`:`Click to sort rows by ${e.header} header in ascending order`:"",vo={[Fe.NONE]:"none",[Fe.ASC]:"ascending",[Fe.DESC]:"descending"},An=x.forwardRef(function(e,n){let{className:r,children:s,colSpan:i,isSortable:o=!1,isSortHeader:a,onClick:c,scope:l=Oo,sortDirection:f,translateWithId:h=Ao,slug:u,id:b,...S}=e;const g=mt(),w=Us("table-sort"),k=y.useRef(null);let I;u&&(I=x.cloneElement(u,{size:"mini",ref:k}));const B=pe({[`${g}--table-header-label`]:!0,[`${g}--table-header-label--slug`]:u});if(!o)return x.createElement("th",je({},S,{id:b,className:r,scope:l,colSpan:i,ref:n}),s?x.createElement("div",{className:B},s,I):null);const p=pe(r,{[`${g}--table-sort`]:!0,[`${g}--table-sort--active`]:a&&f!==Fe.NONE,[`${g}--table-sort--descending`]:a&&f===Fe.DESC}),$=!a||!f?"none":vo[f],U=h&&h("carbon.table.header.icon.description",{header:s,sortDirection:f,isSortHeader:a,sortStates:Fe}),D=pe(r,`${g}--table-sort__header`,{[`${g}--table-sort__header--slug`]:u}),q=N=>{if(!(u&&k.current&&k.current.contains(N.target))&&c)return c(N)};return x.createElement("th",{id:b,"aria-sort":$,className:D,colSpan:i,ref:n,scope:l},x.createElement("div",{className:`${g}--table-sort__description`,id:w},U),x.createElement("button",je({type:"button","aria-describedby":w,className:p,onClick:q},S),x.createElement("span",{className:`${g}--table-sort__flex`},x.createElement("div",{className:`${g}--table-header-label`},s),x.createElement(ho,{size:20,className:`${g}--table-sort__icon`}),x.createElement(mo,{size:20,className:`${g}--table-sort__icon-unsorted`}),I)))});An.propTypes={children:T.node,className:T.string,colSpan:T.number,id:T.string,isSortHeader:T.bool,isSortable:T.bool,onClick:T.func,scope:T.string,sortDirection:T.oneOf(Object.values(Fe)),translateWithId:T.func};An.translationKeys=Object.values(Gs);An.displayName="TableHeader";function Co(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;if(t===e)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var $r,_r;function kr(t){return typeof t[0]=="object"&&t[0]!==null?t:t.map(e=>({text:e,value:e}))}function Bo(t){let e=1;const n=[];for(;e<=t;)n.push(x.createElement(Ds,{key:e,value:e,text:String(e)})),e++;return n}function Rr(t,e){return e&&t.find(r=>e===r.value)?e:t[0].value}const Hs=x.forwardRef(function(e,n){let{backwardText:r="Previous page",className:s="",disabled:i=!1,forwardText:o="Next page",id:a,isLastPage:c=!1,itemText:l=(Y,ae)=>`${Y}–${ae} items`,itemRangeText:f=(Y,ae,he)=>`${Y}–${ae} of ${he} items`,itemsPerPageText:h="Items per page:",onChange:u,pageNumberText:b="Page Number",pageRangeText:S=(Y,ae)=>`of ${ae} ${ae===1?"page":"pages"}`,page:g=1,pageInputDisabled:w,pageSize:k,pageSizeInputDisabled:I,pageSizes:B,pageText:p=Y=>`page ${Y}`,pagesUnknown:$=!1,size:U="md",totalItems:D,...q}=e;const N=mt(),v=eo(a?.toString()),_=y.useRef(null),J=y.useRef(null),[A,M]=y.useState(()=>kr(B)),[G,ne]=y.useState(B),[ce,me]=y.useState(g),[$e,Le]=y.useState(g),[H,de]=y.useState(()=>Rr(A,k)),[Z,ge]=y.useState(k),Ne=pe({[`${N}--pagination`]:!0,[`${N}--pagination--${U}`]:U,[s]:!!s}),z=D?Math.max(Math.ceil(D/H),1):1,ee=i||ce===1,ve=pe({[`${N}--pagination__button`]:!0,[`${N}--pagination__button--backward`]:!0,[`${N}--pagination__button--no-index`]:ee}),j=i||ce===z&&!$,W=pe({[`${N}--pagination__button`]:!0,[`${N}--pagination__button--forward`]:!0,[`${N}--pagination__button--no-index`]:j}),V=Bo(z);if(g!==$e&&(me(g),Le(g)),k!==Z&&(de(Rr(A,k)),ge(k)),!Co(B,G)){const Y=kr(B);Y.find(he=>he.value===H)||me(1),M(Y),ne(B)}function ie(Y){const he={pageSize:Number(Y.target.value),page:1};me(he.page),de(he.pageSize),u&&u(he)}function R(Y){const ae=Number(Y.target.value);ae>0&&D&&ae<=Math.max(Math.ceil(D/H),1)&&(me(ae),u&&u({page:ae,pageSize:H}))}function le(){const Y=ce+1;me(Y),Y===z&&_?.current&&_.current.focus(),u&&u({page:Y,pageSize:H,ref:_})}function ye(){const Y=ce-1;me(Y),Y===1&&J?.current&&J.current.focus(),u&&u({page:Y,pageSize:H,ref:J})}return x.createElement("div",je({className:Ne,ref:n},q),x.createElement("div",{className:`${N}--pagination__left`},x.createElement("label",{id:`${N}-pagination-select-${v}-count-label`,className:`${N}--pagination__text`,htmlFor:`${N}-pagination-select-${v}`},h),x.createElement(Cr,{id:`${N}-pagination-select-${v}`,className:`${N}--select__item-count`,labelText:"",hideLabel:!0,noLabel:!0,inline:!0,onChange:ie,disabled:I||i,value:H},A.map(Y=>x.createElement(Ds,{key:Y.value,value:Y.value,text:String(Y.text)}))),x.createElement("span",{className:`${N}--pagination__text ${N}--pagination__items-count`},$||!D?D===0?f(0,0,0):l(H*(ce-1)+1,ce*H):f(Math.min(H*(ce-1)+1,D),Math.min(ce*H,D),D))),x.createElement("div",{className:`${N}--pagination__right`},$?x.createElement("span",{className:`${N}--pagination__text ${N}--pagination__page-text ${N}--pagination__unknown-pages-text`},p(ce)):x.createElement(x.Fragment,null,x.createElement(Cr,{id:`${N}-pagination-select-${v}-right`,className:`${N}--select__page-number`,labelText:`Page number, of ${z} pages`,inline:!0,hideLabel:!0,onChange:R,value:ce,disabled:w||i},V),x.createElement("span",{className:`${N}--pagination__text`},S(ce,z))),x.createElement("div",{className:`${N}--pagination__control-buttons`},x.createElement(vr,{align:"top",disabled:ee,kind:"ghost",className:ve,label:r,"aria-label":r,onClick:ye,ref:_},$r||($r=x.createElement(oo,null))),x.createElement(vr,{align:"top-end",disabled:j||c,kind:"ghost",className:W,label:o,"aria-label":o,onClick:le,ref:J},_r||(_r=x.createElement(ao,null))))))});Hs.propTypes={backwardText:T.string,className:T.string,disabled:T.bool,forwardText:T.string,id:T.oneOfType([T.string,T.number]),isLastPage:T.bool,itemRangeText:T.func,itemText:T.func,itemsPerPageText:T.string,onChange:T.func,page:T.number,pageInputDisabled:T.bool,pageNumberText:T.string,pageRangeText:T.func,pageSize:T.number,pageSizeInputDisabled:T.bool,pageSizes:T.oneOfType([T.arrayOf(T.number.isRequired),T.arrayOf(T.shape({text:T.string.isRequired,value:T.number.isRequired}).isRequired)]).isRequired,pageText:T.func,pagesUnknown:T.bool,size:T.oneOf(["sm","md","lg"]),totalItems:T.number};function tr(t){const e=y.useRef(t),n=y.useRef(!1);y.useEffect(()=>{e.current=t}),y.useEffect(()=>{n.current!==!0&&(n.current=!0,e.current())},[])}function jr(t){let{onPress:e,onPressIn:n,onPressOut:r,onLongPress:s,delayLongPressMs:i=500}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=y.useRef(e),a=y.useRef(n),c=y.useRef(r),l=y.useRef(s),[f,h]=y.useState(!1),[u,b]=y.useState(!1),S=y.useRef({longPress:!1});y.useEffect(()=>{o.current=e},[e]),y.useEffect(()=>{a.current=n},[n]),y.useEffect(()=>{c.current=r},[r]),y.useEffect(()=>{l.current=s},[s]),y.useEffect(()=>{const{current:g}=t;function w(U){h(!0),a.current?.(),U.preventDefault()}function k(){h(!1),b(!1),c.current?.(S.current)}function I(){h(!1),b(!1),c.current?.(),S.current.longPress=!1}function B(){h(!1),b(!1),c.current?.(),S.current.longPress=!1}function p(){b(!1),h(!1),o.current?.(S.current),S.current.longPress=!1}function $(U){U.preventDefault()}return g.addEventListener("pointerdown",w),g.addEventListener("pointerup",k),g.addEventListener("pointercancel",I),g.addEventListener("pointerleave",B),g.addEventListener("click",p),g.addEventListener("contextmenu",$),()=>{g.removeEventListener("pointerdown",w),g.removeEventListener("pointerup",k),g.removeEventListener("pointercancel",I),g.removeEventListener("pointerleave",B),g.removeEventListener("click",p),g.removeEventListener("contextmenu",$)}},[t]),y.useEffect(()=>{if(f){const g=setTimeout(()=>{h(!1),b(!0)},i);return()=>{clearTimeout(g)}}},[f,i]),y.useEffect(()=>{if(u)return S.current.longPress=!0,l.current?.()},[u])}var Lr,Dr;const vn=x.createContext({baseId:"",activeIndex:0,defaultSelectedIndex:0,dismissable:!1,onTabCloseRequest(){},setActiveIndex(){},selectedIndex:0,setSelectedIndex(){}}),zs=x.createContext({index:0,hasSecondaryLabel:!1}),Po=`(min-width: ${co.lg.width})`,qs=x.createContext(0);function Ys(t){let{children:e,defaultSelectedIndex:n=0,onChange:r,selectedIndex:s,dismissable:i,onTabCloseRequest:o}=t;const a=Us("ccs"),[c,l]=y.useState(n),[f,h]=uo({value:s,defaultValue:n,onChange:b=>r?.({selectedIndex:b})}),u={baseId:a,activeIndex:c,defaultSelectedIndex:n,dismissable:i,onTabCloseRequest:o,setActiveIndex:l,selectedIndex:f,setSelectedIndex:h};return x.createElement(vn.Provider,{value:u},e)}Ys.propTypes={children:T.node,defaultSelectedIndex:T.number,dismissable:T.bool,onChange:T.func,onTabCloseRequest:t=>{if(t.dismissable&&!t.onTabCloseRequest)return new Error("dismissable property specified without also providing an onTabCloseRequest property.")},selectedIndex:T.number};T.node,T.number,T.string,T.func,T.number;function Uo(t,e,n){switch(!0){case Lt(t,ks):return(n+1)%e;case Lt(t,Rs):return(e+n-1)%e;case Lt(t,js):return 0;case Lt(t,Ls):return e-1;default:return n}}function Ws(t){let{activation:e="automatic","aria-label":n,children:r,className:s,contained:i=!1,fullWidth:o=!1,iconSize:a,leftOverflowButtonProps:c,light:l,rightOverflowButtonProps:f,scrollDebounceWait:h=200,scrollIntoView:u,...b}=t;const{activeIndex:S,selectedIndex:g,setSelectedIndex:w,setActiveIndex:k,dismissable:I}=x.useContext(vn),B=mt(),p=y.useRef(null),$=y.useRef(null),U=y.useRef(null),[D,q]=y.useState(!1),[N,v]=y.useState(0);let _=!1;i&&(_=x.Children.toArray(r).some(z=>er.isElement(z)&&!!z.props.secondaryLabel));const J=fo(Po),A=o&&i&&J&&x.Children.toArray(r).length<9,M=pe(`${B}--tabs`,{[`${B}--tabs--contained`]:i,[`${B}--tabs--light`]:l,[`${B}--tabs__icon--default`]:a==="default",[`${B}--tabs__icon--lg`]:a==="lg",[`${B}--layout--size-lg`]:a==="lg",[`${B}--tabs--tall`]:_,[`${B}--tabs--full-width`]:A,[`${B}--tabs--dismissable`]:I},s),G=44,[ne,ce]=y.useState(p.current?N+G+p.current.clientWidth<p.current.scrollWidth:!1),me=p.current?D&&N>0:!1,$e=pe(`${B}--tab--overflow-nav-button`,`${B}--tab--overflow-nav-button--previous`,{[`${B}--tab--overflow-nav-button--hidden`]:!me}),Le=pe(`${B}--tab--overflow-nav-button`,`${B}--tab--overflow-nav-button--next`,{[`${B}--tab--overflow-nav-button--hidden`]:!ne}),H=y.useRef([]),de=y.useCallback(()=>Br(z=>{v(z.target.scrollLeft)},h),[h]);function Z(z){if(to(z,[ks,Rs,js,Ls])){z.preventDefault();const ve=H.current.filter(V=>V!==null).filter(V=>!V.disabled),j=ve.indexOf(H.current[e==="automatic"?g:S]),W=H.current.indexOf(ve[Uo(z,ve.length,j)]);e==="automatic"?w(W):e==="manual"&&k(W),H.current[W]?.focus()}}function ge(z){let{relatedTarget:ee}=z;p.current?.contains(ee)||e==="manual"&&k(g)}function Ne(z){if(!(!D||!p.current)&&z){const{width:ee}=z.getBoundingClientRect(),ve=z.offsetLeft,j=z.offsetLeft+ee,W=p.current.scrollLeft+G,V=p.current.scrollLeft+p.current.clientWidth-G;ve<W&&v(ve-G),j>V&&v(j+G-p.current.clientWidth)}}return tr(()=>{const z=H.current[g];u&&z&&z.scrollIntoView({block:"nearest",inline:"nearest"})}),y.useEffect(()=>{ce(p.current?N+G+p.current.clientWidth+1<p.current.scrollWidth:!1),I&&p.current&&q(p.current.scrollWidth>p.current.clientWidth)},[N,r,I,D]),tr(()=>{if(H.current[g]?.disabled){const z=H.current.filter(ee=>!ee.disabled);if(z.length>0){const ee=z[0];w(H.current.indexOf(ee))}}}),It(()=>{p.current&&q(p.current.scrollWidth>p.current.clientWidth+1);function z(){p.current&&q(p.current.scrollWidth>p.current.clientWidth+1)}const ee=Br(z,200);return window.addEventListener("resize",ee),()=>{ee.cancel(),window.removeEventListener("resize",ee)}},[]),It(()=>{N!==null&&p.current&&(p.current.scrollLeft=N)},[N]),It(()=>{const z=e==="manual"?H.current[S]:H.current[g];Ne(z)},[e,S]),It(()=>{const z=H.current[g];Ne(z)},[g,D,r]),jr($,{onPress(z){let{longPress:ee}=z;!ee&&p.current&&v(Math.max(N-p.current.scrollWidth/H.current.length*1.5,0))},onLongPress(){return Mr(p,"backward",v)}}),jr(U,{onPress(z){let{longPress:ee}=z;!ee&&p.current&&v(Math.min(N+p.current.scrollWidth/H.current.length*1.5,p.current.scrollWidth-p.current.clientWidth))},onLongPress(){return Mr(p,"forward",v)}}),x.createElement("div",{className:M},x.createElement("button",je({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll left",ref:$,className:$e,type:"button"},c),Lr||(Lr=x.createElement(go,null))),x.createElement("div",je({},b,{"aria-label":n,ref:p,role:"tablist",className:`${B}--tab--list`,onScroll:de,onKeyDown:Z,onBlur:ge}),x.Children.map(r,(z,ee)=>er.isElement(z)?x.createElement(zs.Provider,{value:{index:ee,hasSecondaryLabel:_,contained:i}},x.cloneElement(z,{ref:ve=>{H.current[ee]=ve}})):null)),x.createElement("button",je({"aria-hidden":"true",tabIndex:-1,"aria-label":"Scroll right",ref:U,className:Le,type:"button"},f),Dr||(Dr=x.createElement(Ms,null))))}Ws.propTypes={activation:T.oneOf(["automatic","manual"]),"aria-label":T.string.isRequired,children:T.node,className:T.string,contained:T.bool,fullWidth:T.bool,iconSize:T.oneOf(["default","lg"]),leftOverflowButtonProps:T.object,light:Ki(T.bool),rightOverflowButtonProps:T.object,scrollDebounceWait:T.number,scrollIntoView:T.bool};T.oneOf(["automatic","manual"]),T.string.isRequired,T.node,T.string;function Mr(t,e,n){const r=t.current;if(!r)return()=>{};const s=r?.style["scroll-behavior"];r.style["scroll-behavior"]="auto";const i=e==="forward"?5:-5;let o=null;function a(){r&&(r.scrollLeft=r.scrollLeft+i,o=requestAnimationFrame(a))}return o=requestAnimationFrame(a),()=>{r.style["scroll-behavior"]=s,n(r.scrollLeft),o&&cancelAnimationFrame(o)}}const hn=y.forwardRef(function(e,n){let{as:r="button",children:s,className:i,disabled:o,onClick:a,onKeyDown:c,secondaryLabel:l,renderIcon:f,...h}=e;const u=mt(),{selectedIndex:b,setSelectedIndex:S,baseId:g,dismissable:w,onTabCloseRequest:k}=x.useContext(vn),{index:I,hasSecondaryLabel:B,contained:p}=x.useContext(zs),$=y.useRef(null),U=y.useRef(null),D=$s([n,U]),[q,N]=y.useState(!1),v=`${g}-tab-${I}`,_=`${g}-tabpanel-${I}`,[J,A]=y.useState(!1),M=Z=>(A(Z.offsetHeight<Z.scrollHeight),Z.offsetHeight<Z.scrollHeight),G=pe(`${u}--tabs__nav-item`,`${u}--tabs__nav-link`,{[`${u}--tabs__nav-item--selected`]:b===I,[`${u}--tabs__nav-item--disabled`]:o,[`${u}--tabs__nav-item--hover-off`]:q},i),ne=r,ce=Z=>{p&&U.current&&(Z.stopPropagation(),N(!0),U.current.classList.add(`${u}--tabs__nav-item--hover-off`))},me=()=>{p&&U.current&&(U.current.classList.remove(`${u}--tabs__nav-item--hover-off`),N(!1))};Ar($,"mouseover",ce),Ar($,"mouseleave",me),It(()=>{function Z(){const ge=document.getElementById(`${v}`)||U.current;if(ge?.closest(`.${u}--tabs--vertical`)){const Ne=ge?.getElementsByClassName(`${u}--tabs__nav-item-label`)[0];M(Ne)}}return Z(),window.addEventListener("resize",Z),()=>{window.removeEventListener("resize",Z)}},[u,v]);const $e=Z=>{if(Z.stopPropagation(),k?.(I),U.current&&U.current.parentElement){const ge=Array.from(U.current.parentElement.childNodes).filter(Ne=>{const z=Ne;return z.classList.contains(`${u}--tabs__nav-link`)&&!z.classList.contains(`${u}--tabs__nav-item--disabled`)}).length;if(U.current&&I+1!==ge)U.current.focus();else{const Ne=(ge-2)*2;U.current.parentElement.childNodes[Ne]?.focus()}}},Le=Z=>{w&&Lt(Z,no)&&$e(Z),c?.(Z)},H=x.createElement("div",{className:pe({[`${u}--tabs__nav-item--close`]:w,[`${u}--tabs__nav-item--close--hidden`]:!w})},x.createElement("button",{type:"button",tabIndex:b===I&&w?0:-1,"aria-disabled":o,"aria-hidden":b===I&&w?"false":"true",disabled:o,className:pe({[`${u}--tabs__nav-item--close-icon`]:w,[`${u}--visually-hidden`]:!w,[`${u}--tabs__nav-item--close-icon--selected`]:b===I,[`${u}--tabs__nav-item--close-icon--disabled`]:o}),onClick:$e,title:`Remove ${typeof s=="string"?s:""} tab`,ref:$},x.createElement(dn,{"aria-hidden":b===I&&w?"false":"true","aria-label":`Press delete to remove ${typeof s=="string"?s:""} tab`}))),de=f??w;return J?x.createElement(_s,{label:s,align:"top",leaveDelayMs:0,autoAlign:!0,onMouseEnter:()=>!1,closeOnActivation:!0},x.createElement(ne,je({},h,{"aria-controls":_,"aria-disabled":o,"aria-selected":b===I,ref:D,id:v,role:"tab",className:G,disabled:o,title:s,onClick:Z=>{o||(S(I),a?.(Z))},onKeyDown:Le,tabIndex:b===I?"0":"-1",type:"button"}),x.createElement("div",{className:`${u}--tabs__nav-item-label-wrapper`},x.createElement(nn,{className:`${u}--tabs__nav-item-label`},s)),B&&l&&x.createElement(nn,{as:"div",className:`${u}--tabs__nav-item-secondary-label`,title:l},l))):x.createElement(x.Fragment,null,x.createElement(ne,je({},h,{"aria-controls":_,"aria-disabled":o,"aria-selected":b===I,ref:D,id:v,role:"tab",className:G,disabled:o,onClick:Z=>{o||(S(I),a?.(Z))},onKeyDown:Le,tabIndex:b===I?"0":"-1",type:"button"}),x.createElement("div",{className:`${u}--tabs__nav-item-label-wrapper`},w&&f&&x.createElement("div",{className:`${u}--tabs__nav-item--icon-left`},x.createElement(f,{size:16})),x.createElement(nn,{className:`${u}--tabs__nav-item-label`},s),!w&&f&&x.createElement("div",{className:pe(`${u}--tabs__nav-item--icon`,{[`${u}--visually-hidden`]:!de})},!w&&f&&x.createElement(f,{size:16}))),B&&l&&x.createElement(nn,{as:"div",className:`${u}--tabs__nav-item-secondary-label`,title:l},l)),H)});hn.propTypes={as:T.oneOfType([T.string,T.elementType]),children:T.node,className:T.string,disabled:T.bool,onClick:T.func,onKeyDown:T.func,renderButton:T.func,renderIcon:T.oneOfType([T.func,T.object]),secondaryLabel:T.string};const $o=x.forwardRef(function(e,n){let{children:r,className:s,defaultOpen:i=!1,enterDelayMs:o,leaveDelayMs:a,label:c,...l}=e;const f=mt(),h=pe(`${f}--tabs__nav-item--icon-only`,s);return x.createElement(_s,{align:"bottom",defaultOpen:i,className:`${f}--icon-tooltip`,enterDelayMs:o,label:c,leaveDelayMs:a},x.createElement(hn,je({className:h,ref:n},l),r))});$o.propTypes={children:T.node,className:T.string,defaultOpen:T.bool,enterDelayMs:T.number,label:T.node.isRequired,leaveDelayMs:T.number};const nr=x.forwardRef(function(e,n){let{children:r,className:s,...i}=e;const o=mt(),a=y.useRef(null),c=$s([n,a]),[l,f]=y.useState(0),[h,u]=y.useState(!1),{selectedIndex:b,baseId:S}=x.useContext(vn),g=x.useContext(qs),w=`${S}-tabpanel-${g}`,k=`${S}-tab-${g}`,I=pe(`${o}--tab-content`,s,{[`${o}--tab-content--interactive`]:h});return tr(()=>{if(!a.current)return;Zn(a.current)&&(u(!0),f(-1))}),y.useEffect(()=>{const B=a.current;if(!B)return;function p(){Zn(B)?(u(!0),f(-1)):(u(!1),f(0))}const $=new MutationObserver(p);return $.observe(B,{childList:!0,subtree:!0}),()=>$.disconnect()},[]),x.createElement("div",je({},i,{"aria-labelledby":k,id:w,className:I,ref:c,role:"tabpanel",tabIndex:l,hidden:b!==g}),r)});nr.propTypes={children:T.node,className:T.string};function Xs(t){let{children:e}=t;const n=mt(),r=y.useRef([]),s=y.useRef([]);return It(()=>{const i=r.current[0]?.previousElementSibling,o=i?.classList.contains(`${n}--tabs--vertical`),a=i?.parentElement?.style.height;if(o&&!a){s.current=r.current.map(f=>f?.hidden||!1),r.current.forEach(f=>{f&&(f.hidden=!1)});const c=r.current.map(f=>f?.offsetHeight||0),l=Math.max(...c);i.style.height=l+"px",r.current.forEach((f,h)=>{f&&(f.hidden=s.current[h])})}}),x.createElement(x.Fragment,null,x.Children.map(e,(i,o)=>er.isElement(i)?x.createElement(qs.Provider,{value:o},x.cloneElement(i,{ref:a=>{r.current[o]=a}})):null))}Xs.propTypes={children:T.node};const rr=({text:t,className:e})=>{const[n,r]=y.useState(!1),s=()=>{t&&navigator.clipboard.writeText(String(t)).then(()=>{r(!0),setTimeout(()=>{r(!1)},1e3)})};return m.jsx("span",{className:"cursor-pointer"+(e?" "+e:""),onClick:s,children:n?m.jsx(fn,{}):m.jsx(Fs,{})})},_o=({text:t,children:e,...n})=>{const[r,s]=y.useState(!1),i=o=>{o.preventDefault(),t&&navigator.clipboard.writeText(String(t)).then(()=>{s(!0),setTimeout(()=>{s(!1)},1e3)})};return m.jsx(xt,{renderIcon:r?fn:Fs,onClick:i,...n,children:e})};var Ks={exports:{}};(function(t){(function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function s(i,o,a){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var c=a&&a.debug||!1;if(c){var l=document.querySelector("#input-textarea-caret-position-mirror-div");l&&l.parentNode.removeChild(l)}var f=document.createElement("div");f.id="input-textarea-caret-position-mirror-div",document.body.appendChild(f);var h=f.style,u=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,b=i.nodeName==="INPUT";h.whiteSpace="pre-wrap",b||(h.wordWrap="break-word"),h.position="absolute",c||(h.visibility="hidden"),e.forEach(function(w){b&&w==="lineHeight"?h.lineHeight=u.height:h[w]=u[w]}),r?i.scrollHeight>parseInt(u.height)&&(h.overflowY="scroll"):h.overflow="hidden",f.textContent=i.value.substring(0,o),b&&(f.textContent=f.textContent.replace(/\s/g," "));var S=document.createElement("span");S.textContent=i.value.substring(o)||".",f.appendChild(S);var g={top:S.offsetTop+parseInt(u.borderTopWidth),left:S.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return c?S.style.backgroundColor="#aaa":document.body.removeChild(f),g}t.exports=s})()})(Ks);var ko=Ks.exports;const Ro=qi(ko);function jo(t){let e=0,n=0;if(!t)return{start:e,end:n};if(typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number")return{start:t.selectionStart,end:t.selectionEnd};if(!document)return{start:e,end:n};const r=document.getSelection(),s=r?r.getRangeAt(0):null;if(!s||s.commonAncestorContainer!==t)return{start:e,end:n};const i=t.value.length,o=t.value.replace(/\r\n/g,`
`),a=t.createTextRange(),c=s.cloneRange();a.setStart(c.startContainer,c.startOffset),a.setEnd(c.endContainer,c.endOffset);const l=t.createTextRange();return l.collapse(!1),a.compareEndPoints("StartToEnd",l)>-1?e=n=i:(e=-a.moveStart("character",-i),e+=o.slice(0,e).split(`
`).length-1,a.compareEndPoints("EndToEnd",l)>-1?n=i:(n=-a.moveEnd("character",-i),n+=o.slice(0,n).split(`
`).length-1)),{start:e,end:n}}function Lo(t,e){if(t)if(t.createTextRange){const n=t.createTextRange();n.move("character",e),n.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()}const Do=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function Mo(t,e){if(!t.isConnected||!(s=>{let i=s;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(t))return;const n=(s=>{const i=window.getComputedStyle(s);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(t);if((s=>typeof s=="object"&&typeof s.behavior=="function")(e))return e.behavior(Ur(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:s,top:i,left:o}of Ur(t,Do(e))){const a=i-n.top+n.bottom,c=o-n.left+n.right;s.scroll({top:a,left:c,behavior:r})}}const Fo=38,Vo=40,Jo=13,Go=14,Ho=27,zo=9,qo=100,Ln=({Component:t="textarea",defaultValue:e="",disabled:n=!1,maxOptions:r=6,onBlur:s=()=>{},onChange:i=()=>{},onKeyDown:o=()=>{},onRequestOptions:a=()=>{},onSelect:c=()=>{},changeOnSelect:l=(_,J)=>J.substring(0,1)==_?J:_+J,options:f=[],regex:h="^[A-Za-z0-9\\-_]+$",matchAny:u=!1,minChars:b=0,requestOnlyIfNoOptions:S=!0,spaceRemovers:g=[",",".","!","?"],spacer:w="",trigger:k="@",offsetX:I=0,offsetY:B=0,value:p=null,passThroughEnter:$=!1,passThroughTab:U=!0,triggerMatchWholeWord:D=!1,triggerCaseInsensitive:q=!1,className:N,attributes:v})=>{const[_,J]=y.useState({helperVisible:!1,left:0,trigger:null,matchLength:0,matchStart:0,options:[],selection:0,top:0,caret:0}),A=y.useRef(e),M=y.useRef(!1),G=y.useRef(null),ne=y.useRef(null),ce=y.useRef(null);y.useEffect(()=>{const j=()=>J(W=>({...W,helperVisible:!1}));return window.addEventListener("resize",j),window.addEventListener("scroll",j),()=>{window.removeEventListener("resize",j),window.removeEventListener("scroll",j)}},[]),y.useEffect(()=>{const{helperVisible:j}=_;j&&ne.current&&Mo(ne.current,{boundary:ce.current,scrollMode:"if-needed"})},[_.caret,_.helperVisible]);const me=(j,W,V)=>{const ie=new RegExp(h);let R=[];Array.isArray(k)?R=k:R=[k],R.sort();const le=V;Array.isArray(V)&&R.forEach(ae=>{le[ae]=V});const ye=$e(R,ie);let Y=null;for(let ae=0;ae<ye.length;ae++){const{triggerStr:he,triggerMatch:wt,triggerLength:xe}=ye[ae];for(let Ie=W-1;Ie>=0;--Ie){const gt=j.substring(Ie,W).match(ie);let ut=-1;if(xe>0){const Et=wt?Ie:Ie-xe+1;if(Et<0||(Le(he,j,Et)&&(ut=Et+xe),!gt&&ut<0))break}else{if(gt&&Ie>0)continue;if(ut=Ie===0&&gt?0:Ie+1,W-ut===0)break}if(ut>=0){const Et=le[he];if(Et==null)continue;const Nr=j.substring(ut-1,W),xr=Et.filter(zi=>{const Or=zi.toLowerCase().indexOf(Nr.toLowerCase());return Or!==-1&&(u||Or===0)}),Ir=he,Tr=Nr.length;Y===null?Y={trigger:Ir,matchStart:ut-1,matchLength:Tr,options:xr}:Y={...Y,trigger:Ir,matchStart:ut-1,matchLength:Tr,options:xr}}}}return Y},$e=(j,W)=>j.map(V=>({triggerStr:V,triggerMatch:V.match(W),triggerLength:V.length})),Le=(j,W,V)=>!j||!j.length?!0:D&&V>0&&W.charAt(V-1).match(/[\w]/)?!1:!!(W.substr(V,j.length)===j||q&&W.substr(V,j.length).toLowerCase()===j.toLowerCase()),H=j=>{ee(),s&&s(j)},de=j=>{const W=A.current,V=j.target.value,ie=jo(j.target).end;if(V.length||J(R=>({...R,helperVisible:!1})),A.current=V,J(R=>({...R,caret:ie,value:j.target.value})),!V.length||!ie)return i(j.target.value);if(M.current&&g.length&&V.length>2&&w.length){for(let R=0;R<Math.max(W.length,V.length);++R)if(W[R]!==V[R]){if(R>=2&&V[R-1]===w&&g.indexOf(V[R-2])===-1&&g.indexOf(V[R])!==-1&&me(V.substring(0,R-2),ie-3,f)){const le=`${V.slice(0,R-1)}${V.slice(R,R+1)}${V.slice(R-1,R)}${V.slice(R+1)}`;return Ne(R+1),G.current&&(G.current.value=le),p||J(ye=>({...ye,value:le})),i(le)}break}M.current=!1}return z(V,ie,f),p||J(R=>({...R,value:j.target.value})),i(j.target.value)},Z=j=>{const{helperVisible:W,options:V,selection:ie}=_,R=r>0?Math.min(V.length,r):V.length;if(W)switch(j.keyCode){case Ho:j.preventDefault(),ee();break;case Fo:j.preventDefault(),R>0&&J(le=>({...le,selection:Math.max(0,R+ie-1)%R}));break;case Vo:j.preventDefault(),R>0&&J(le=>({...le,selection:(ie+1)%R}));break;case Go:case Jo:$||j.preventDefault(),ge(ie);break;case zo:U||j.preventDefault(),ge(ie);break;default:o(j);break}else o(j)},ge=j=>{const{matchStart:W,matchLength:V,options:ie,trigger:R}=_,le=ie[j],ye=A.current;if(R){const Y=R.length===0?"":ye.substring(0,W-R.length),ae=ye.substring(W+V),he={target:G.current},wt=l(R,le);he.target&&(he.target.value=`${Y}${wt}${w}${ae}`,de(he),c(he.target.value)),ee();const xe=Y.length+wt.length+(w?w.length:1);Ne(xe),M.current=!0}},Ne=j=>{J(W=>{const V={...W,caret:j};return Lo(G.current,j),V})},z=(j,W,V)=>{const ie=G.current,R=me(j,W,V);if(R&&ie){const le=Ro(ie,W),ye=ie.getBoundingClientRect(),Y=le.top+ye.top-ie.scrollTop,ae=Math.min(le.left+ye.left-ie.scrollLeft,window.innerWidth-qo);R.matchLength>=b&&(R.options.length>1||R.options.length===1&&(R.options[0].length!==R.matchLength||R.options[0].length===1))?J({..._,helperVisible:!0,top:Y,left:ae,...R}):((!S||!R.options.length)&&a(j.substr(R.matchStart,R.matchLength)),ee())}else ee()},ee=()=>{J(j=>({...j,helperVisible:!1,selection:0}))},ve=()=>{const{helperVisible:j,left:W,matchStart:V,matchLength:ie,options:R,selection:le,top:ye}=_;if(!j||R.length===0)return null;if(le>=R.length)return J(xe=>({...xe,selection:0})),null;const Y=r===0?R.length:r,ae=R.slice(0,Y).map((xe,Ie)=>{let _t=0;return p&&(_t=xe.toLowerCase().indexOf(p.substr(V,ie).toLowerCase())),m.jsxs("li",{className:"cursor-pointer px-2 py-1 text-xs"+(Ie===le?" bg-neutral-200":""),ref:Ie===le?ne:null,onClick:()=>{ge(Ie)},onMouseDown:gt=>{gt.preventDefault()},onMouseEnter:()=>{J(gt=>({...gt,selection:Ie}))},children:[xe.slice(0,_t),m.jsx("strong",{className:"font-bold",children:xe.substr(_t,ie)}),xe.slice(_t+ie)]},xe)}),he=window.innerWidth-W-I-5,wt=window.innerHeight-ye-B-5;return m.jsx("ul",{className:"fixed bottom-auto z-50 block p-px mt-1 overflow-y-scroll text-xs text-left bg-white border border-solid bg-clip-padding border-neutral-100",style:{left:W+I,top:ye+B,maxHeight:wt,maxWidth:he},ref:ce,children:ae})};return m.jsxs(m.Fragment,{children:[m.jsx(t,{...v,className:N,disabled:n,onBlur:H,onChange:de,onKeyDown:Z,ref:G,value:p}),ve()]})},Yo="modulepreload",Wo=function(t){return"/"+t},Fr={},Xo=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(n.map(c=>{if(c=Wo(c),c in Fr)return;Fr[c]=!0;const l=c.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Yo,l||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((u,b)=>{h.addEventListener("load",u),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Vr=new WeakMap,vt={ArrayBuffer:"[object ArrayBuffer]",SharedArrayBuffer:"[object SharedArrayBuffer]",Uint8Array:"[object Uint8Array]",BigInt64Array:"[object BigInt64Array]",BigUint64Array:"[object BigUint64Array]",RegExp:"[object RegExp]",Map:"[object Map]",Date:"[object Date]"};function en(t){let e=Vr.get(t);return e||(e=Object.prototype.toString.call(t),t!==null&&typeof t=="object"&&Vr.set(t,e)),e}function Ko(t){const e=en(t);return e===vt.ArrayBuffer||e===vt.SharedArrayBuffer}function Zs(t){return en(t)===vt.Uint8Array}function Zo(t){return en(t)===vt.RegExp}function Qs(t){return en(t)===vt.Map}function Qo(t){return en(t)===vt.Date}function Ae(t,e){return JSON.stringify(t,(n,r)=>typeof r=="bigint"?{$numberLong:`${r}`}:Qs(r)?Object.fromEntries(r):r)}function ea(t){if(t!=null&&typeof t=="object"&&"stylize"in t&&typeof t.stylize=="function")return t.stylize}const gr=6,ei=Symbol.for("@@mdb.bson.version"),br=2147483647,pr=-2147483648,ti=Math.pow(2,63)-1,ni=-Math.pow(2,63),ta=Math.pow(2,53),na=-Math.pow(2,53),ri=4;class C extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(e,n){super(e,n)}static isBSONError(e){return e!=null&&typeof e=="object"&&"bsonError"in e&&e.bsonError===!0&&"name"in e&&"message"in e&&"stack"in e}}class ra extends C{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${gr}.x.x`)}}class Jr extends C{get name(){return"BSONRuntimeError"}constructor(e){super(e)}}class dt extends C{get name(){return"BSONOffsetError"}constructor(e,n,r){super(`${e}. offset: ${n}`,r),this.offset=n}}let Gr,Hr;function si(t,e,n,r){if(r){Gr??=new TextDecoder("utf8",{fatal:!0});try{return Gr.decode(t.subarray(e,n))}catch(s){throw new C("Invalid UTF-8 string in BSON document",{cause:s})}}return Hr??=new TextDecoder("utf8",{fatal:!1}),Hr.decode(t.subarray(e,n))}function ii(t,e,n){if(t.length===0)return"";const r=n-e;if(r===0)return"";if(r>20)return null;if(r===1&&t[e]<128)return String.fromCharCode(t[e]);if(r===2&&t[e]<128&&t[e+1]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1]);if(r===3&&t[e]<128&&t[e+1]<128&&t[e+2]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1])+String.fromCharCode(t[e+2]);const s=[];for(let i=e;i<n;i++){const o=t[i];if(o>127)return null;s.push(o)}return String.fromCharCode(...s)}function sa(t,e,n){if(e.length===0)return 0;if(e.length>25||t.length-n<e.length)return null;for(let r=0,s=n;r<e.length;r++,s++){const i=e.charCodeAt(r);if(i>127)return null;t[s]=i}return e.length}function ia(t){return Ge.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}const oa=await(async()=>{try{return(await Xo(async()=>{const{randomBytes:t}=await import("./logout-D0ECua74.js").then(e=>e._);return{randomBytes:t}},[])).randomBytes}catch{return ia}})(),Ge={toLocalBufferType(t){if(Buffer.isBuffer(t))return t;if(ArrayBuffer.isView(t))return Buffer.from(t.buffer,t.byteOffset,t.byteLength);const e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return Buffer.from(t);throw new C("Cannot create Buffer from the passed potentialBuffer.")},allocate(t){return Buffer.alloc(t)},allocateUnsafe(t){return Buffer.allocUnsafe(t)},equals(t,e){return Ge.toLocalBufferType(t).equals(e)},fromNumberArray(t){return Buffer.from(t)},fromBase64(t){return Buffer.from(t,"base64")},toBase64(t){return Ge.toLocalBufferType(t).toString("base64")},fromISO88591(t){return Buffer.from(t,"binary")},toISO88591(t){return Ge.toLocalBufferType(t).toString("binary")},fromHex(t){return Buffer.from(t,"hex")},toHex(t){return Ge.toLocalBufferType(t).toString("hex")},toUTF8(t,e,n,r){const s=n-e<=20?ii(t,e,n):null;if(s!=null)return s;const i=Ge.toLocalBufferType(t).toString("utf8",e,n);if(r){for(let o=0;o<i.length;o++)if(i.charCodeAt(o)===65533){si(t,e,n,!0);break}}return i},utf8ByteLength(t){return Buffer.byteLength(t,"utf8")},encodeUTF8Into(t,e,n){const r=sa(t,e,n);return r??Ge.toLocalBufferType(t).write(e,n,void 0,"utf8")},randomBytes:oa,swap32(t){return Ge.toLocalBufferType(t).swap32()}};function aa(){const{navigator:t}=globalThis;return typeof t=="object"&&t.product==="ReactNative"}function ca(t){if(t<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${t}`);return Ht.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}const la=(()=>{const{crypto:t}=globalThis;if(t!=null&&typeof t.getRandomValues=="function")return e=>t.getRandomValues(Ht.allocate(e));if(aa()){const{console:e}=globalThis;e?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return ca})(),zr=/(\d|[a-f])/i,Ht={toLocalBufferType(t){const e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="Uint8Array")return t;if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return new Uint8Array(t);throw new C("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(t){if(typeof t!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(t)}`);return new Uint8Array(t)},allocateUnsafe(t){return Ht.allocate(t)},equals(t,e){if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},fromNumberArray(t){return Uint8Array.from(t)},fromBase64(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))},toBase64(t){return btoa(Ht.toISO88591(t))},fromISO88591(t){return Uint8Array.from(t,e=>e.charCodeAt(0)&255)},toISO88591(t){return Array.from(Uint16Array.from(t),e=>String.fromCharCode(e)).join("")},fromHex(t){const e=t.length%2===0?t:t.slice(0,t.length-1),n=[];for(let r=0;r<e.length;r+=2){const s=e[r],i=e[r+1];if(!zr.test(s)||!zr.test(i))break;const o=Number.parseInt(`${s}${i}`,16);n.push(o)}return Uint8Array.from(n)},toHex(t){return Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")},toUTF8(t,e,n,r){const s=n-e<=20?ii(t,e,n):null;return s??si(t,e,n,r)},utf8ByteLength(t){return new TextEncoder().encode(t).byteLength},encodeUTF8Into(t,e,n){const r=new TextEncoder().encode(e);return t.set(r,n),r.byteLength},randomBytes:la,swap32(t){if(t.length%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t.length;e+=4){const n=t[e],r=t[e+1],s=t[e+2],i=t[e+3];t[e]=i,t[e+1]=s,t[e+2]=r,t[e+3]=n}return t}},ua=typeof Buffer=="function"&&Buffer.prototype?._isBuffer!==!0,L=ua?Ge:Ht;class Ue{get[ei](){return gr}[Symbol.for("nodejs.util.inspect.custom")](e,n,r){return this.inspect(e,n,r)}}const Tt=new Float64Array(1),X=new Uint8Array(Tt.buffer,0,8);Tt[0]=-1;const Dn=X[7]===0,lt={isBigEndian:Dn,getNonnegativeInt32LE(t,e){if(t[e+3]>127)throw new RangeError(`Size cannot be negative at offset: ${e}`);return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getInt32LE(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getUint32LE(t,e){return t[e]+t[e+1]*256+t[e+2]*65536+t[e+3]*16777216},getUint32BE(t,e){return t[e+3]+t[e+2]*256+t[e+1]*65536+t[e]*16777216},getBigInt64LE(t,e){const n=lt.getUint32LE(t,e),r=lt.getUint32LE(t,e+4);return(BigInt(r)<<BigInt(32))+BigInt(n)},getFloat64LE:Dn?(t,e)=>(X[7]=t[e],X[6]=t[e+1],X[5]=t[e+2],X[4]=t[e+3],X[3]=t[e+4],X[2]=t[e+5],X[1]=t[e+6],X[0]=t[e+7],Tt[0]):(t,e)=>(X[0]=t[e],X[1]=t[e+1],X[2]=t[e+2],X[3]=t[e+3],X[4]=t[e+4],X[5]=t[e+5],X[6]=t[e+6],X[7]=t[e+7],Tt[0]),setInt32BE(t,e,n){return t[e+3]=n,n>>>=8,t[e+2]=n,n>>>=8,t[e+1]=n,n>>>=8,t[e]=n,4},setInt32LE(t,e,n){return t[e]=n,n>>>=8,t[e+1]=n,n>>>=8,t[e+2]=n,n>>>=8,t[e+3]=n,4},setBigInt64LE(t,e,n){const r=BigInt(4294967295);let s=Number(n&r);t[e]=s,s>>=8,t[e+1]=s,s>>=8,t[e+2]=s,s>>=8,t[e+3]=s;let i=Number(n>>BigInt(32)&r);return t[e+4]=i,i>>=8,t[e+5]=i,i>>=8,t[e+6]=i,i>>=8,t[e+7]=i,8},setFloat64LE:Dn?(t,e,n)=>(Tt[0]=n,t[e]=X[7],t[e+1]=X[6],t[e+2]=X[5],t[e+3]=X[4],t[e+4]=X[3],t[e+5]=X[2],t[e+6]=X[1],t[e+7]=X[0],8):(t,e,n)=>(Tt[0]=n,t[e]=X[0],t[e+1]=X[1],t[e+2]=X[2],t[e+3]=X[3],t[e+4]=X[4],t[e+5]=X[5],t[e+6]=X[6],t[e+7]=X[7],8)};class F extends Ue{get _bsontype(){return"Binary"}constructor(e,n){if(super(),e!=null&&typeof e=="string"&&!ArrayBuffer.isView(e)&&!Ko(e)&&!Array.isArray(e))throw new C("Binary can only be constructed from Uint8Array or number[]");this.sub_type=n??F.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=L.allocate(F.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(e)?L.fromNumberArray(e):L.toLocalBufferType(e),this.position=this.buffer.byteLength)}put(e){if(typeof e=="string"&&e.length!==1)throw new C("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new C("only accepts single character Uint8Array or Array");let n;if(typeof e=="string"?n=e.charCodeAt(0):typeof e=="number"?n=e:n=e[0],n<0||n>255)throw new C("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=n;else{const r=L.allocate(F.BUFFER_SIZE+this.buffer.length);r.set(this.buffer,0),this.buffer=r,this.buffer[this.position++]=n}}write(e,n){if(n=typeof n=="number"?n:this.position,this.buffer.byteLength<n+e.length){const r=L.allocate(this.buffer.byteLength+e.length);r.set(this.buffer,0),this.buffer=r}if(ArrayBuffer.isView(e))this.buffer.set(L.toLocalBufferType(e),n),this.position=n+e.byteLength>this.position?n+e.length:this.position;else if(typeof e=="string")throw new C("input cannot be string")}read(e,n){n=n&&n>0?n:this.position;const r=e+n;return this.buffer.subarray(e,r>this.position?this.position:r)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return L.toBase64(this.buffer.subarray(0,this.position))}toString(e){return e==="hex"?L.toHex(this.buffer.subarray(0,this.position)):e==="base64"?L.toBase64(this.buffer.subarray(0,this.position)):e==="utf8"||e==="utf-8"?L.toUTF8(this.buffer,0,this.position,!1):L.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(e){e=e||{},this.sub_type===F.SUBTYPE_VECTOR&&fa(this);const n=L.toBase64(this.buffer),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:n,$type:r.length===1?"0"+r:r}:{$binary:{base64:n,subType:r.length===1?"0"+r:r}}}toUUID(){if(this.sub_type===F.SUBTYPE_UUID)return new Ee(this.buffer.subarray(0,this.position));throw new C(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${F.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(e,n){return new F(L.fromHex(e),n)}static createFromBase64(e,n){return new F(L.fromBase64(e),n)}static fromExtendedJSON(e,n){n=n||{};let r,s;if("$binary"in e?n.legacy&&typeof e.$binary=="string"&&"$type"in e?(s=e.$type?parseInt(e.$type,16):0,r=L.fromBase64(e.$binary)):typeof e.$binary!="string"&&(s=e.$binary.subType?parseInt(e.$binary.subType,16):0,r=L.fromBase64(e.$binary.base64)):"$uuid"in e&&(s=4,r=Ee.bytesFromString(e.$uuid)),!r)throw new C(`Unexpected Binary Extended JSON format ${JSON.stringify(e)}`);return s===ri?new Ee(r):new F(r,s)}inspect(e,n,r){r??=Ae;const s=L.toBase64(this.buffer.subarray(0,this.position)),i=r(s,n),o=r(this.sub_type,n);return`Binary.createFromBase64(${i}, ${o})`}toInt8Array(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.Int8)throw new C("Binary datatype field is not Int8");return new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.Float32)throw new C("Binary datatype field is not Float32");const e=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return lt.isBigEndian&&L.swap32(e),new Float32Array(e.buffer)}toPackedBits(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.PackedBit)throw new C("Binary datatype field is not packed bit");return new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==F.SUBTYPE_VECTOR)throw new C("Binary sub_type is not Vector");if(this.buffer[0]!==F.VECTOR_TYPE.PackedBit)throw new C("Binary datatype field is not packed bit");const n=(this.length()-2)*8-this.buffer[1],r=new Int8Array(n);for(let s=0;s<r.length;s++){const i=s/8|0,o=this.buffer[i+2],a=7-s%8,c=o>>a&1;r[s]=c}return r}static fromInt8Array(e){const n=L.allocate(e.byteLength+2);n[0]=F.VECTOR_TYPE.Int8,n[1]=0;const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return n.set(r,2),new this(n,this.SUBTYPE_VECTOR)}static fromFloat32Array(e){const n=L.allocate(e.byteLength+2);n[0]=F.VECTOR_TYPE.Float32,n[1]=0;const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return n.set(r,2),lt.isBigEndian&&L.swap32(new Uint8Array(n.buffer,2)),new this(n,this.SUBTYPE_VECTOR)}static fromPackedBits(e,n=0){const r=L.allocate(e.byteLength+2);return r[0]=F.VECTOR_TYPE.PackedBit,r[1]=n,r.set(e,2),new this(r,this.SUBTYPE_VECTOR)}static fromBits(e){const n=e.length+7>>>3,r=new Uint8Array(n+2);r[0]=F.VECTOR_TYPE.PackedBit;const s=e.length%8;r[1]=s===0?0:8-s;for(let i=0;i<e.length;i++){const o=i>>>3,a=e[i];if(a!==0&&a!==1)throw new C(`Invalid bit value at ${i}: must be 0 or 1, found ${e[i]}`);if(a===0)continue;const c=7-i%8;r[o+2]|=a<<c}return new this(r,F.SUBTYPE_VECTOR)}}F.BSON_BINARY_SUBTYPE_DEFAULT=0;F.BUFFER_SIZE=256;F.SUBTYPE_DEFAULT=0;F.SUBTYPE_FUNCTION=1;F.SUBTYPE_BYTE_ARRAY=2;F.SUBTYPE_UUID_OLD=3;F.SUBTYPE_UUID=4;F.SUBTYPE_MD5=5;F.SUBTYPE_ENCRYPTED=6;F.SUBTYPE_COLUMN=7;F.SUBTYPE_SENSITIVE=8;F.SUBTYPE_VECTOR=9;F.SUBTYPE_USER_DEFINED=128;F.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});function fa(t){if(t.sub_type!==F.SUBTYPE_VECTOR)return;const e=t.position,n=t.buffer[0],r=t.buffer[1];if((n===F.VECTOR_TYPE.Float32||n===F.VECTOR_TYPE.Int8)&&r!==0)throw new C("Invalid Vector: padding must be zero for int8 and float32 vectors");if(n===F.VECTOR_TYPE.PackedBit&&r!==0&&e===2)throw new C("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(n===F.VECTOR_TYPE.PackedBit&&r>7)throw new C(`Invalid Vector: padding must be a value between 0 and 7. found: ${r}`)}const Mn=16,da=/^[0-9A-F]{32}$/i,ha=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class Ee extends F{constructor(e){let n;if(e==null)n=Ee.generate();else if(e instanceof Ee)n=L.toLocalBufferType(new Uint8Array(e.buffer));else if(ArrayBuffer.isView(e)&&e.byteLength===Mn)n=L.toLocalBufferType(e);else if(typeof e=="string")n=Ee.bytesFromString(e);else throw new C("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(n,ri)}get id(){return this.buffer}set id(e){this.buffer=e}toHexString(e=!0){return e?[L.toHex(this.buffer.subarray(0,4)),L.toHex(this.buffer.subarray(4,6)),L.toHex(this.buffer.subarray(6,8)),L.toHex(this.buffer.subarray(8,10)),L.toHex(this.buffer.subarray(10,16))].join("-"):L.toHex(this.buffer)}toString(e){return e==="hex"?L.toHex(this.id):e==="base64"?L.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(!e)return!1;if(e instanceof Ee)return L.equals(e.id,this.id);try{return L.equals(new Ee(e).id,this.id)}catch{return!1}}toBinary(){return new F(this.id,F.SUBTYPE_UUID)}static generate(){const e=L.randomBytes(Mn);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e}static isValid(e){return e?typeof e=="string"?Ee.isValidUUIDString(e):Zs(e)?e.byteLength===Mn:e._bsontype==="Binary"&&e.sub_type===this.SUBTYPE_UUID&&e.buffer.byteLength===16:!1}static createFromHexString(e){const n=Ee.bytesFromString(e);return new Ee(n)}static createFromBase64(e){return new Ee(L.fromBase64(e))}static bytesFromString(e){if(!Ee.isValidUUIDString(e))throw new C("UUID string representation must be 32 hex digits or canonical hyphenated representation");return L.fromHex(e.replace(/-/g,""))}static isValidUUIDString(e){return da.test(e)||ha.test(e)}inspect(e,n,r){return r??=Ae,`new UUID(${r(this.toHexString(),n)})`}}let yr=class oi extends Ue{get _bsontype(){return"Code"}constructor(e,n){super(),this.code=e.toString(),this.scope=n??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new oi(e.$code,e.$scope)}inspect(e,n,r){r??=Ae;let s=r(this.code,n);const i=s.includes(`
`);this.scope!=null&&(s+=`,${i?`
`:" "}${r(this.scope,n)}`);const o=i&&this.scope===null;return`new Code(${i?`
`:""}${s}${o?`
`:""})`}};function ma(t){return t!=null&&typeof t=="object"&&"$id"in t&&t.$id!=null&&"$ref"in t&&typeof t.$ref=="string"&&(!("$db"in t)||"$db"in t&&typeof t.$db=="string")}class Ct extends Ue{get _bsontype(){return"DBRef"}constructor(e,n,r,s){super();const i=e.split(".");i.length===2&&(r=i.shift(),e=i.shift()),this.collection=e,this.oid=n,this.db=r,this.fields=s||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){const e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let n={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(n.$db=this.db),n=Object.assign(n,this.fields)),n}static fromExtendedJSON(e){const n=Object.assign({},e);return delete n.$ref,delete n.$id,delete n.$db,new Ct(e.$ref,e.$id,e.$db,n)}inspect(e,n,r){r??=Ae;const s=[r(this.namespace,n),r(this.oid,n),...this.db?[r(this.db,n)]:[],...Object.keys(this.fields).length>0?[r(this.fields,n)]:[]];return s[1]=r===Ae?`new ObjectId(${s[1]})`:s[1],`new DBRef(${s.join(", ")})`}}function ai(t){if(t==="")return t;let e=0;const n=t[e]==="-",r=t[e]==="+";(r||n)&&(e+=1);let s=!1;for(;e<t.length&&t[e]==="0";++e)s=!0;return s?`${n?"-":""}${t.length===e?"0":t.slice(e)}`:r?t.slice(1):t}function ga(t,e){e=e??10;const n="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,e);return new RegExp(`[^-+${n}]`,"i").test(t)?!1:t}let Ce;try{Ce=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const qr=65536,ba=1<<24,Ot=qr*qr,ci=Ot*Ot,Yr=ci/2,Wr={},Xr={},pa=20,ya=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class d extends Ue{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(e=0,n,r){super();const s=typeof n=="boolean"?n:!!r,i=typeof n=="number"?n:0,o=typeof e=="string"?d.fromString(e,s):typeof e=="bigint"?d.fromBigInt(e,s):{low:e|0,high:i|0,unsigned:s};this.low=o.low,this.high=o.high,this.unsigned=o.unsigned}static fromBits(e,n,r){return new d(e,n,r)}static fromInt(e,n){let r,s,i;return n?(e>>>=0,(i=0<=e&&e<256)&&(s=Xr[e],s)?s:(r=d.fromBits(e,(e|0)<0?-1:0,!0),i&&(Xr[e]=r),r)):(e|=0,(i=-128<=e&&e<128)&&(s=Wr[e],s)?s:(r=d.fromBits(e,e<0?-1:0,!1),i&&(Wr[e]=r),r))}static fromNumber(e,n){if(isNaN(e))return n?d.UZERO:d.ZERO;if(n){if(e<0)return d.UZERO;if(e>=ci)return d.MAX_UNSIGNED_VALUE}else{if(e<=-Yr)return d.MIN_VALUE;if(e+1>=Yr)return d.MAX_VALUE}return e<0?d.fromNumber(-e,n).neg():d.fromBits(e%Ot|0,e/Ot|0,n)}static fromBigInt(e,n){const r=BigInt(4294967295),s=BigInt(32);return new d(Number(e&r),Number(e>>s&r),n)}static _fromString(e,n,r){if(e.length===0)throw new C("empty string");if(r<2||36<r)throw new C("radix");let s;if((s=e.indexOf("-"))>0)throw new C("interior hyphen");if(s===0)return d._fromString(e.substring(1),n,r).neg();const i=d.fromNumber(Math.pow(r,8));let o=d.ZERO;for(let a=0;a<e.length;a+=8){const c=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+c),r);if(c<8){const f=d.fromNumber(Math.pow(r,c));o=o.mul(f).add(d.fromNumber(l))}else o=o.mul(i),o=o.add(d.fromNumber(l))}return o.unsigned=n,o}static fromStringStrict(e,n,r){let s=!1;if(typeof n=="number"?(r=n,n=!1):s=!!n,r??=10,e.trim()!==e)throw new C(`Input: '${e}' contains leading and/or trailing whitespace`);if(!ga(e,r))throw new C(`Input: '${e}' contains invalid characters for radix: ${r}`);const i=ai(e),o=d._fromString(i,s,r);if(o.toString(r).toLowerCase()!==i.toLowerCase())throw new C(`Input: ${e} is not representable as ${o.unsigned?"an unsigned":"a signed"} 64-bit Long ${r!=null?`with radix: ${r}`:""}`);return o}static fromString(e,n,r){let s=!1;return typeof n=="number"?(r=n,n=!1):s=!!n,r??=10,e==="NaN"&&r<24||(e==="Infinity"||e==="+Infinity"||e==="-Infinity")&&r<35?d.ZERO:d._fromString(e,s,r)}static fromBytes(e,n,r){return r?d.fromBytesLE(e,n):d.fromBytesBE(e,n)}static fromBytesLE(e,n){return new d(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}static fromBytesBE(e,n){return new d(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}static isLong(e){return e!=null&&typeof e=="object"&&"__isLong__"in e&&e.__isLong__===!0}static fromValue(e,n){return typeof e=="number"?d.fromNumber(e,n):typeof e=="string"?d.fromString(e,n):d.fromBits(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}add(e){d.isLong(e)||(e=d.fromValue(e));const n=this.high>>>16,r=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,a=e.high&65535,c=e.low>>>16,l=e.low&65535;let f=0,h=0,u=0,b=0;return b+=i+l,u+=b>>>16,b&=65535,u+=s+c,h+=u>>>16,u&=65535,h+=r+a,f+=h>>>16,h&=65535,f+=n+o,f&=65535,d.fromBits(u<<16|b,f<<16|h,this.unsigned)}and(e){return d.isLong(e)||(e=d.fromValue(e)),d.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(d.isLong(e)||(e=d.fromValue(e)),this.eq(e))return 0;const n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){if(d.isLong(e)||(e=d.fromValue(e)),e.isZero())throw new C("division by zero");if(Ce){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;const i=(this.unsigned?Ce.div_u:Ce.div_s)(this.low,this.high,e.low,e.high);return d.fromBits(i,Ce.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?d.UZERO:d.ZERO;let n,r,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return d.UZERO;if(e.gt(this.shru(1)))return d.UONE;s=d.UZERO}else{if(this.eq(d.MIN_VALUE))return e.eq(d.ONE)||e.eq(d.NEG_ONE)?d.MIN_VALUE:e.eq(d.MIN_VALUE)?d.ONE:(n=this.shr(1).div(e).shl(1),n.eq(d.ZERO)?e.isNegative()?d.ONE:d.NEG_ONE:(r=this.sub(e.mul(n)),s=n.add(r.div(e)),s));if(e.eq(d.MIN_VALUE))return this.unsigned?d.UZERO:d.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=d.ZERO}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));const i=Math.ceil(Math.log(n)/Math.LN2),o=i<=48?1:Math.pow(2,i-48);let a=d.fromNumber(n),c=a.mul(e);for(;c.isNegative()||c.gt(r);)n-=o,a=d.fromNumber(n,this.unsigned),c=a.mul(e);a.isZero()&&(a=d.ONE),s=s.add(a),r=r.sub(c)}return s}div(e){return this.divide(e)}equals(e){return d.isLong(e)||(e=d.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(d.MIN_VALUE)?64:this.neg().getNumBitsAbs();const e=this.high!==0?this.high:this.low;let n;for(n=31;n>0&&!(e&1<<n);n--);return this.high!==0?n+33:n+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(e){return this.comp(e)<0}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return this.comp(e)<=0}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(d.isLong(e)||(e=d.fromValue(e)),Ce){const n=(this.unsigned?Ce.rem_u:Ce.rem_s)(this.low,this.high,e.low,e.high);return d.fromBits(n,Ce.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return d.ZERO;if(d.isLong(e)||(e=d.fromValue(e)),Ce){const S=Ce.mul(this.low,this.high,e.low,e.high);return d.fromBits(S,Ce.get_high(),this.unsigned)}if(e.isZero())return d.ZERO;if(this.eq(d.MIN_VALUE))return e.isOdd()?d.MIN_VALUE:d.ZERO;if(e.eq(d.MIN_VALUE))return this.isOdd()?d.MIN_VALUE:d.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d.TWO_PWR_24)&&e.lt(d.TWO_PWR_24))return d.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);const n=this.high>>>16,r=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,a=e.high&65535,c=e.low>>>16,l=e.low&65535;let f=0,h=0,u=0,b=0;return b+=i*l,u+=b>>>16,b&=65535,u+=s*l,h+=u>>>16,u&=65535,u+=i*c,h+=u>>>16,u&=65535,h+=r*l,f+=h>>>16,h&=65535,h+=s*c,f+=h>>>16,h&=65535,h+=i*a,f+=h>>>16,h&=65535,f+=n*l+r*c+s*a+i*o,f&=65535,d.fromBits(u<<16|b,f<<16|h,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(d.MIN_VALUE)?d.MIN_VALUE:this.not().add(d.ONE)}neg(){return this.negate()}not(){return d.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return d.isLong(e)||(e=d.fromValue(e)),d.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return d.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?d.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):d.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return d.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?d.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):d.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(d.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;{const n=this.high;if(e<32){const r=this.low;return d.fromBits(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?d.fromBits(n,0,this.unsigned):d.fromBits(n>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return d.isLong(e)||(e=d.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*Ot+(this.low>>>0):this.high*Ot+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){const e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){const e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]}toSigned(){return this.unsigned?d.fromBits(this.low,this.high,!1):this}toString(e){if(e=e||10,e<2||36<e)throw new C("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(d.MIN_VALUE)){const i=d.fromNumber(e),o=this.div(i),a=o.mul(i).sub(this);return o.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);const n=d.fromNumber(Math.pow(e,6),this.unsigned);let r=this,s="";for(;;){const i=r.div(n);let a=(r.sub(i.mul(n)).toInt()>>>0).toString(e);if(r=i,r.isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}}toUnsigned(){return this.unsigned?this:d.fromBits(this.low,this.high,!0)}xor(e){return d.isLong(e)||(e=d.fromValue(e)),d.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,n){const{useBigInt64:r=!1,relaxed:s=!0}={...n};if(e.$numberLong.length>pa)throw new C("$numberLong string is too long");if(!ya.test(e.$numberLong))throw new C(`$numberLong string "${e.$numberLong}" is in an invalid format`);if(r){const o=BigInt(e.$numberLong);return BigInt.asIntN(64,o)}const i=d.fromString(e.$numberLong);return s?i.toNumber():i}inspect(e,n,r){r??=Ae;const s=r(this.toString(),n),i=this.unsigned?`, ${r(this.unsigned,n)}`:"";return`new Long(${s}${i})`}}d.TWO_PWR_24=d.fromInt(ba);d.MAX_UNSIGNED_VALUE=d.fromBits(-1,-1,!0);d.ZERO=d.fromInt(0);d.UZERO=d.fromInt(0,!0);d.ONE=d.fromInt(1);d.UONE=d.fromInt(1,!0);d.NEG_ONE=d.fromInt(-1);d.MAX_VALUE=d.fromBits(-1,2147483647,!1);d.MIN_VALUE=d.fromBits(0,-2147483648,!1);const wa=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Ea=/^(\+|-)?(Infinity|inf)$/i,Sa=/^(\+|-)?NaN$/i,St=6111,kt=-6176,Kr=6176,Zr=34,Fn=L.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Qr=L.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),es=L.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Na=/^([-+])?(\d+)?$/,xa=31,ts=16383,Ia=30,Ta=31;function ns(t){return!isNaN(parseInt(t,10))}function Oa(t){const e=d.fromNumber(1e9);let n=d.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:n};for(let r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new d(t.parts[r],0)),t.parts[r]=n.div(e).low,n=n.modulo(e);return{quotient:t,rem:n}}function Aa(t,e){if(!t&&!e)return{high:d.fromNumber(0),low:d.fromNumber(0)};const n=t.shiftRightUnsigned(32),r=new d(t.getLowBits(),0),s=e.shiftRightUnsigned(32),i=new d(e.getLowBits(),0);let o=n.multiply(s),a=n.multiply(i);const c=r.multiply(s);let l=r.multiply(i);return o=o.add(a.shiftRightUnsigned(32)),a=new d(a.getLowBits(),0).add(c).add(l.shiftRightUnsigned(32)),o=o.add(a.shiftRightUnsigned(32)),l=a.shiftLeft(32).add(new d(l.getLowBits(),0)),{high:o,low:l}}function va(t,e){const n=t.high>>>0,r=e.high>>>0;if(n<r)return!0;if(n===r){const s=t.low>>>0,i=e.low>>>0;if(s<i)return!0}return!1}function _e(t,e){throw new C(`"${t}" is not a valid Decimal128 string - ${e}`)}class Te extends Ue{get _bsontype(){return"Decimal128"}constructor(e){if(super(),typeof e=="string")this.bytes=Te.fromString(e).bytes;else if(e instanceof Uint8Array||Zs(e)){if(e.byteLength!==16)throw new C("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new C("Decimal128 must take a Buffer or string")}static fromString(e){return Te._fromString(e,{allowRounding:!1})}static fromStringWithRounding(e){return Te._fromString(e,{allowRounding:!0})}static _fromString(e,n){let r=!1,s=!1,i=!1,o=!1,a=0,c=0,l=0,f=0,h=0;const u=[0];let b=0,S=0,g=0,w=0,k=new d(0,0),I=new d(0,0),B=0,p=0;if(e.length>=7e3)throw new C(""+e+" not a valid Decimal128 string");const $=e.match(wa),U=e.match(Ea),D=e.match(Sa);if(!$&&!U&&!D||e.length===0)throw new C(""+e+" not a valid Decimal128 string");if($){const _=$[2],J=$[4],A=$[5],M=$[6];J&&M===void 0&&_e(e,"missing exponent power"),J&&_===void 0&&_e(e,"missing exponent base"),J===void 0&&(A||M)&&_e(e,"missing e before exponent")}if((e[p]==="+"||e[p]==="-")&&(s=!0,r=e[p++]==="-"),!ns(e[p])&&e[p]!=="."){if(e[p]==="i"||e[p]==="I")return new Te(r?Qr:es);if(e[p]==="N")return new Te(Fn)}for(;ns(e[p])||e[p]===".";){if(e[p]==="."){i&&_e(e,"contains multiple periods"),i=!0,p=p+1;continue}b<Zr&&(e[p]!=="0"||o)&&(o||(h=c),o=!0,u[S++]=parseInt(e[p],10),b=b+1),o&&(l=l+1),i&&(f=f+1),c=c+1,p=p+1}if(i&&!c)throw new C(""+e+" not a valid Decimal128 string");if(e[p]==="e"||e[p]==="E"){const _=e.substr(++p).match(Na);if(!_||!_[2])return new Te(Fn);w=parseInt(_[0],10),p=p+_[0].length}if(e[p])return new Te(Fn);if(!b)u[0]=0,l=1,b=1,a=0;else if(g=b-1,a=l,a!==1)for(;e[h+a-1+Number(s)+Number(i)]==="0";)a=a-1;for(w<=f&&f>w+16384?w=kt:w=w-f;w>St;){if(g=g+1,g>=Zr){if(a===0){w=St;break}_e(e,"overflow")}w=w-1}if(n.allowRounding){for(;w<kt||b<l;){if(g===0&&a<b){w=kt,a=0;break}if(b<l?l=l-1:g=g-1,w<St)w=w+1;else{if(u.join("").match(/^0+$/)){w=St;break}_e(e,"overflow")}}if(g+1<a){let _=c;i&&(h=h+1,_=_+1),s&&(h=h+1,_=_+1);const J=parseInt(e[h+g+1],10);let A=0;if(J>=5&&(A=1,J===5)){A=u[g]%2===1?1:0;for(let M=h+g+2;M<_;M++)if(parseInt(e[M],10)){A=1;break}}if(A){let M=g;for(;M>=0&&++u[M]>9;M--)if(u[M]=0,M===0)if(w<St)w=w+1,u[M]=1;else return new Te(r?Qr:es)}}}else{for(;w<kt||b<l;){if(g===0){if(a===0){w=kt;break}_e(e,"exponent underflow")}b<l?(e[l-1+Number(s)+Number(i)]!=="0"&&a!==0&&_e(e,"inexact rounding"),l=l-1):(u[g]!==0&&_e(e,"inexact rounding"),g=g-1),w<St?w=w+1:_e(e,"overflow")}g+1<a&&(i&&(h=h+1),s&&(h=h+1),parseInt(e[h+g+1],10)!==0&&_e(e,"inexact rounding"))}if(k=d.fromNumber(0),I=d.fromNumber(0),a===0)k=d.fromNumber(0),I=d.fromNumber(0);else if(g<17){let _=0;for(I=d.fromNumber(u[_++]),k=new d(0,0);_<=g;_++)I=I.multiply(d.fromNumber(10)),I=I.add(d.fromNumber(u[_]))}else{let _=0;for(k=d.fromNumber(u[_++]);_<=g-17;_++)k=k.multiply(d.fromNumber(10)),k=k.add(d.fromNumber(u[_]));for(I=d.fromNumber(u[_++]);_<=g;_++)I=I.multiply(d.fromNumber(10)),I=I.add(d.fromNumber(u[_]))}const q=Aa(k,d.fromString("100000000000000000"));q.low=q.low.add(I),va(q.low,I)&&(q.high=q.high.add(d.fromNumber(1))),B=w+Kr;const N={low:d.fromNumber(0),high:d.fromNumber(0)};q.high.shiftRightUnsigned(49).and(d.fromNumber(1)).equals(d.fromNumber(1))?(N.high=N.high.or(d.fromNumber(3).shiftLeft(61)),N.high=N.high.or(d.fromNumber(B).and(d.fromNumber(16383).shiftLeft(47))),N.high=N.high.or(q.high.and(d.fromNumber(0x7fffffffffff)))):(N.high=N.high.or(d.fromNumber(B&16383).shiftLeft(49)),N.high=N.high.or(q.high.and(d.fromNumber(562949953421311)))),N.low=q.low,r&&(N.high=N.high.or(d.fromString("9223372036854775808")));const v=L.allocateUnsafe(16);return p=0,v[p++]=N.low.low&255,v[p++]=N.low.low>>8&255,v[p++]=N.low.low>>16&255,v[p++]=N.low.low>>24&255,v[p++]=N.low.high&255,v[p++]=N.low.high>>8&255,v[p++]=N.low.high>>16&255,v[p++]=N.low.high>>24&255,v[p++]=N.high.low&255,v[p++]=N.high.low>>8&255,v[p++]=N.high.low>>16&255,v[p++]=N.high.low>>24&255,v[p++]=N.high.high&255,v[p++]=N.high.high>>8&255,v[p++]=N.high.high>>16&255,v[p++]=N.high.high>>24&255,new Te(v)}toString(){let e,n=0;const r=new Array(36);for(let p=0;p<r.length;p++)r[p]=0;let s=0,i=!1,o,a={parts:[0,0,0,0]},c,l;const f=[];s=0;const h=this.bytes,u=h[s++]|h[s++]<<8|h[s++]<<16|h[s++]<<24,b=h[s++]|h[s++]<<8|h[s++]<<16|h[s++]<<24,S=h[s++]|h[s++]<<8|h[s++]<<16|h[s++]<<24,g=h[s++]|h[s++]<<8|h[s++]<<16|h[s++]<<24;s=0,{low:new d(u,b),high:new d(S,g)}.high.lessThan(d.ZERO)&&f.push("-");const k=g>>26&xa;if(k>>3===3){if(k===Ia)return f.join("")+"Infinity";if(k===Ta)return"NaN";e=g>>15&ts,o=8+(g>>14&1)}else o=g>>14&7,e=g>>17&ts;const I=e-Kr;if(a.parts[0]=(g&16383)+((o&15)<<14),a.parts[1]=S,a.parts[2]=b,a.parts[3]=u,a.parts[0]===0&&a.parts[1]===0&&a.parts[2]===0&&a.parts[3]===0)i=!0;else for(l=3;l>=0;l--){let p=0;const $=Oa(a);if(a=$.quotient,p=$.rem.low,!!p)for(c=8;c>=0;c--)r[l*9+c]=p%10,p=Math.floor(p/10)}if(i)n=1,r[s]=0;else for(n=36;!r[s];)n=n-1,s=s+1;const B=n-1+I;if(B>=34||B<=-7||I>0){if(n>34)return f.push("0"),I>0?f.push(`E+${I}`):I<0&&f.push(`E${I}`),f.join("");f.push(`${r[s++]}`),n=n-1,n&&f.push(".");for(let p=0;p<n;p++)f.push(`${r[s++]}`);f.push("E"),B>0?f.push(`+${B}`):f.push(`${B}`)}else if(I>=0)for(let p=0;p<n;p++)f.push(`${r[s++]}`);else{let p=n+I;if(p>0)for(let $=0;$<p;$++)f.push(`${r[s++]}`);else f.push("0");for(f.push(".");p++<0;)f.push("0");for(let $=0;$<n-Math.max(p-1,0);$++)f.push(`${r[s++]}`)}return f.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return Te.fromString(e.$numberDecimal)}inspect(e,n,r){return r??=Ae,`new Decimal128(${r(this.toString(),n)})`}}class ze extends Ue{get _bsontype(){return"Double"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e}static fromString(e){const n=Number(e);if(e==="NaN")return new ze(NaN);if(e==="Infinity")return new ze(1/0);if(e==="-Infinity")return new ze(-1/0);if(!Number.isFinite(n))throw new C(`Input: ${e} is not representable as a Double`);if(e.trim()!==e)throw new C(`Input: '${e}' contains whitespace`);if(e==="")throw new C("Input is an empty string");if(/[^-0-9.+eE]/.test(e))throw new C(`Input: '${e}' is not in decimal or exponential notation`);return new ze(n)}valueOf(){return this.value}toJSON(){return this.value}toString(e){return this.value.toString(e)}toExtendedJSON(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(e,n){const r=parseFloat(e.$numberDouble);return n&&n.relaxed?r:new ze(r)}inspect(e,n,r){return r??=Ae,`new Double(${r(this.value,n)})`}}class Bt extends Ue{get _bsontype(){return"Int32"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e|0}static fromString(e){const n=ai(e),r=Number(e);if(br<r)throw new C(`Input: '${e}' is larger than the maximum value for Int32`);if(pr>r)throw new C(`Input: '${e}' is smaller than the minimum value for Int32`);if(Number.isSafeInteger(r)){if(r.toString()!==n)throw new C(`Input: '${e}' is not a valid Int32 string`)}else throw new C(`Input: '${e}' is not a safe integer`);return new Bt(r)}valueOf(){return this.value}toString(e){return this.value.toString(e)}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,n){return n&&n.relaxed?parseInt(e.$numberInt,10):new Bt(e.$numberInt)}inspect(e,n,r){return r??=Ae,`new Int32(${r(this.value,n)})`}}class Cn extends Ue{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new Cn}inspect(){return"new MaxKey()"}}class Bn extends Ue{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new Bn}inspect(){return"new MinKey()"}}let bt=null;class re extends Ue{get _bsontype(){return"ObjectId"}constructor(e){super();let n;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new C("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?n=L.fromHex(e.toHexString()):n=e.id}else n=e;if(n==null||typeof n=="number")this.buffer=re.generate(typeof n=="number"?n:void 0);else if(ArrayBuffer.isView(n)&&n.byteLength===12)this.buffer=L.toLocalBufferType(n);else if(typeof n=="string")if(re.validateHexString(n))this.buffer=L.fromHex(n);else throw new C("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new C("Argument passed in does not match the accepted types");re.cacheHexString&&(this.__id=L.toHex(this.id))}get id(){return this.buffer}set id(e){this.buffer=e,re.cacheHexString&&(this.__id=L.toHex(e))}static validateHexString(e){if(e?.length!==24)return!1;for(let n=0;n<24;n++){const r=e.charCodeAt(n);if(!(r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70))return!1}return!0}toHexString(){if(re.cacheHexString&&this.__id)return this.__id;const e=L.toHex(this.id);return re.cacheHexString&&!this.__id&&(this.__id=e),e}static getInc(){return re.index=(re.index+1)%16777215}static generate(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));const n=re.getInc(),r=L.allocateUnsafe(12);return lt.setInt32BE(r,0,e),bt===null&&(bt=L.randomBytes(5)),r[4]=bt[0],r[5]=bt[1],r[6]=bt[2],r[7]=bt[3],r[8]=bt[4],r[11]=n&255,r[10]=n>>8&255,r[9]=n>>16&255,r}toString(e){return e==="base64"?L.toBase64(this.id):e==="hex"?this.toHexString():this.toHexString()}toJSON(){return this.toHexString()}static is(e){return e!=null&&typeof e=="object"&&"_bsontype"in e&&e._bsontype==="ObjectId"}equals(e){if(e==null)return!1;if(re.is(e))return this.buffer[11]===e.buffer[11]&&L.equals(this.buffer,e.buffer);if(typeof e=="string")return e.toLowerCase()===this.toHexString();if(typeof e=="object"&&typeof e.toHexString=="function"){const n=e.toHexString(),r=this.toHexString();return typeof n=="string"&&n.toLowerCase()===r}return!1}getTimestamp(){const e=new Date,n=lt.getUint32BE(this.buffer,0);return e.setTime(Math.floor(n)*1e3),e}static createPk(){return new re}serializeInto(e,n){return e[n]=this.buffer[0],e[n+1]=this.buffer[1],e[n+2]=this.buffer[2],e[n+3]=this.buffer[3],e[n+4]=this.buffer[4],e[n+5]=this.buffer[5],e[n+6]=this.buffer[6],e[n+7]=this.buffer[7],e[n+8]=this.buffer[8],e[n+9]=this.buffer[9],e[n+10]=this.buffer[10],e[n+11]=this.buffer[11],12}static createFromTime(e){const n=L.allocate(12);for(let r=11;r>=4;r--)n[r]=0;return lt.setInt32BE(n,0,e),new re(n)}static createFromHexString(e){if(e?.length!==24)throw new C("hex string must be 24 characters");return new re(L.fromHex(e))}static createFromBase64(e){if(e?.length!==16)throw new C("base64 string must be 16 characters");return new re(L.fromBase64(e))}static isValid(e){if(e==null)return!1;if(typeof e=="string")return re.validateHexString(e);try{return new re(e),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new re(e.$oid)}inspect(e,n,r){return r??=Ae,`new ObjectId(${r(this.toHexString(),n)})`}}re.index=Math.floor(Math.random()*16777215);function Ca(t){return t.split("").sort().join("")}class We extends Ue{get _bsontype(){return"BSONRegExp"}constructor(e,n){if(super(),this.pattern=e,this.options=Ca(n??""),this.pattern.indexOf("\0")!==-1)throw new C(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new C(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let r=0;r<this.options.length;r++)if(!(this.options[r]==="i"||this.options[r]==="m"||this.options[r]==="x"||this.options[r]==="l"||this.options[r]==="s"||this.options[r]==="u"))throw new C(`The regular expression option [${this.options[r]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new We(e.$regex,We.parseOptions(e.$options));if("$regularExpression"in e)return new We(e.$regularExpression.pattern,We.parseOptions(e.$regularExpression.options));throw new C(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(e)}`)}inspect(e,n,r){const s=ea(n)??(a=>a);r??=Ae;const i=s(r(this.pattern),"regexp"),o=s(r(this.options),"regexp");return`new BSONRegExp(${i}, ${o})`}}class Pn extends Ue{get _bsontype(){return"BSONSymbol"}constructor(e){super(),this.value=e}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new Pn(e.$symbol)}inspect(e,n,r){return r??=Ae,`new BSONSymbol(${r(this.value,n)})`}}const Ba=d;class qe extends Ba{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(e){if(e==null)super(0,0,!0);else if(typeof e=="bigint")super(e,!0);else if(d.isLong(e))super(e.low,e.high,!0);else if(typeof e=="object"&&"t"in e&&"i"in e){if(typeof e.t!="number"&&(typeof e.t!="object"||e.t._bsontype!=="Int32"))throw new C("Timestamp constructed from { t, i } must provide t as a number");if(typeof e.i!="number"&&(typeof e.i!="object"||e.i._bsontype!=="Int32"))throw new C("Timestamp constructed from { t, i } must provide i as a number");const n=Number(e.t),r=Number(e.i);if(n<0||Number.isNaN(n))throw new C("Timestamp constructed from { t, i } must provide a positive t");if(r<0||Number.isNaN(r))throw new C("Timestamp constructed from { t, i } must provide a positive i");if(n>4294967295)throw new C("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(r>4294967295)throw new C("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(r,n,!0)}else throw new C("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new qe(d.fromInt(e,!0))}static fromNumber(e){return new qe(d.fromNumber(e,!0))}static fromBits(e,n){return new qe({i:e,t:n})}static fromString(e,n){return new qe(d.fromString(e,!0,n))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(e){const n=d.isLong(e.$timestamp.i)?e.$timestamp.i.getLowBitsUnsigned():e.$timestamp.i,r=d.isLong(e.$timestamp.t)?e.$timestamp.t.getLowBitsUnsigned():e.$timestamp.t;return new qe({t:r,i:n})}inspect(e,n,r){r??=Ae;const s=r(this.t,n),i=r(this.i,n);return`new Timestamp({ t: ${s}, i: ${i} })`}}qe.MAX_VALUE=d.MAX_UNSIGNED_VALUE;d.fromNumber(ta);d.fromNumber(na);function Pa(t){return t!=null&&typeof t=="object"&&"_bsontype"in t&&typeof t._bsontype=="string"}const Ua={$oid:re,$binary:F,$uuid:F,$symbol:Pn,$numberInt:Bt,$numberDecimal:Te,$numberDouble:ze,$numberLong:d,$minKey:Bn,$maxKey:Cn,$regex:We,$regularExpression:We,$timestamp:qe};function li(t,e={}){if(typeof t=="number"){const r=t<=br&&t>=pr,s=t<=ti&&t>=ni;if(e.relaxed||e.legacy)return t;if(Number.isInteger(t)&&!Object.is(t,-0)){if(r)return new Bt(t);if(s)return e.useBigInt64?BigInt(t):d.fromNumber(t)}return new ze(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;const n=Object.keys(t).filter(r=>r.startsWith("$")&&t[r]!=null);for(let r=0;r<n.length;r++){const s=Ua[n[r]];if(s)return s.fromExtendedJSON(t,e)}if(t.$date!=null){const r=t.$date,s=new Date;if(e.legacy)if(typeof r=="number")s.setTime(r);else if(typeof r=="string")s.setTime(Date.parse(r));else if(typeof r=="bigint")s.setTime(Number(r));else throw new Jr(`Unrecognized type for EJSON date: ${typeof r}`);else if(typeof r=="string")s.setTime(Date.parse(r));else if(d.isLong(r))s.setTime(r.toNumber());else if(typeof r=="number"&&e.relaxed)s.setTime(r);else if(typeof r=="bigint")s.setTime(Number(r));else throw new Jr(`Unrecognized type for EJSON date: ${typeof r}`);return s}if(t.$code!=null){const r=Object.assign({},t);return t.$scope&&(r.$scope=li(t.$scope)),yr.fromExtendedJSON(t)}if(ma(t)||t.$dbPointer){const r=t.$ref?t:t.$dbPointer;if(r instanceof Ct)return r;const s=Object.keys(r).filter(o=>o.startsWith("$"));let i=!0;if(s.forEach(o=>{["$ref","$id","$db"].indexOf(o)===-1&&(i=!1)}),i)return Ct.fromExtendedJSON(r)}return t}function $a(t,e){return t.map((n,r)=>{e.seenObjects.push({propertyName:`index ${r}`,obj:null});try{return He(n,e)}finally{e.seenObjects.pop()}})}function rs(t){const e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function He(t,e){if(t instanceof Map||Qs(t)){const n=Object.create(null);for(const[r,s]of t){if(typeof r!="string")throw new C("Can only serialize maps with string keys");n[r]=s}return He(n,e)}if((typeof t=="object"||typeof t=="function")&&t!==null){const n=e.seenObjects.findIndex(r=>r.obj===t);if(n!==-1){const r=e.seenObjects.map(f=>f.propertyName),s=r.slice(0,n).map(f=>`${f} -> `).join(""),i=r[n],o=" -> "+r.slice(n+1,r.length-1).map(f=>`${f} -> `).join(""),a=r[r.length-1],c=" ".repeat(s.length+i.length/2),l="-".repeat(o.length+(i.length+a.length)/2-1);throw new C(`Converting circular structure to EJSON:
    ${s}${i}${o}${a}
    ${c}\\${l}/`)}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return $a(t,e);if(t===void 0)return null;if(t instanceof Date||Qo(t)){const n=t.getTime(),r=n>-1&&n<2534023188e5;return e.legacy?e.relaxed&&r?{$date:t.getTime()}:{$date:rs(t)}:e.relaxed&&r?{$date:rs(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Number.isInteger(t)&&!Object.is(t,-0)){if(t>=pr&&t<=br)return{$numberInt:t.toString()};if(t>=ni&&t<=ti)return{$numberLong:t.toString()}}return{$numberDouble:Object.is(t,-0)?"-0.0":t.toString()}}if(typeof t=="bigint")return e.relaxed?Number(BigInt.asIntN(64,t)):{$numberLong:BigInt.asIntN(64,t).toString()};if(t instanceof RegExp||Zo(t)){let n=t.flags;if(n===void 0){const s=t.toString().match(/[gimuy]*$/);s&&(n=s[0])}return new We(t.source,n).toExtendedJSON(e)}return t!=null&&typeof t=="object"?ka(t,e):t}const _a={Binary:t=>new F(t.value(),t.sub_type),Code:t=>new yr(t.code,t.scope),DBRef:t=>new Ct(t.collection||t.namespace,t.oid,t.db,t.fields),Decimal128:t=>new Te(t.bytes),Double:t=>new ze(t.value),Int32:t=>new Bt(t.value),Long:t=>d.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_),MaxKey:()=>new Cn,MinKey:()=>new Bn,ObjectId:t=>new re(t),BSONRegExp:t=>new We(t.pattern,t.options),BSONSymbol:t=>new Pn(t.value),Timestamp:t=>qe.fromBits(t.low,t.high)};function ka(t,e){if(t==null||typeof t!="object")throw new C("not an object instance");const n=t._bsontype;if(typeof n>"u"){const r={};for(const s of Object.keys(t)){e.seenObjects.push({propertyName:s,obj:null});try{const i=He(t[s],e);s==="__proto__"?Object.defineProperty(r,s,{value:i,writable:!0,enumerable:!0,configurable:!0}):r[s]=i}finally{e.seenObjects.pop()}}return r}else{if(t!=null&&typeof t=="object"&&typeof t._bsontype=="string"&&t[ei]!==gr)throw new ra;if(Pa(t)){let r=t;if(typeof r.toExtendedJSON!="function"){const s=_a[t._bsontype];if(!s)throw new C("Unrecognized or invalid _bsontype: "+t._bsontype);r=s(r)}return n==="Code"&&r.scope?r=new yr(r.code,He(r.scope,e)):n==="DBRef"&&r.oid&&(r=new Ct(He(r.collection,e),He(r.oid,e),He(r.db,e),He(r.fields,e))),r.toExtendedJSON(e)}else throw new C("_bsontype must be a string, but was: "+typeof n)}}function ui(t,e){const n={useBigInt64:e?.useBigInt64??!1,relaxed:e?.relaxed??!0,legacy:e?.legacy??!1};return JSON.parse(t,(r,s)=>{if(r.indexOf("\0")!==-1)throw new C(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(r)}`);return li(s,n)})}function fi(t,e,n,r){n!=null&&typeof n=="object"&&(r=n,n=0),e!=null&&typeof e=="object"&&!Array.isArray(e)&&(r=e,e=void 0,n=0);const s=Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]}),i=He(t,s);return JSON.stringify(i,e,n)}function Ra(t,e){return e=e||{},JSON.parse(fi(t,e))}function ja(t,e){return e=e||{},ui(JSON.stringify(t),e)}const fe=Object.create(null);fe.parse=ui;fe.stringify=fi;fe.serialize=Ra;fe.deserialize=ja;Object.freeze(fe);function Vn(t,e){try{return lt.getNonnegativeInt32LE(t,e)}catch(n){throw new dt("BSON size cannot be negative",e,{cause:n})}}function Jn(t,e){let n=e;for(;t[n]!==0;n++);if(n===t.length-1)throw new dt("Null terminator not found",e);return n}function La(t,e=0){if(e??=0,t.length<5)throw new dt(`Input must be at least 5 bytes, got ${t.length} bytes`,e);const n=Vn(t,e);if(n>t.length-e)throw new dt(`Parsed documentSize (${n} bytes) does not match input length (${t.length} bytes)`,e);if(t[e+n-1]!==0)throw new dt("BSON documents must end in 0x00",e+n);const r=[];let s=e+4;for(;s<=n+e;){const i=t[s];if(s+=1,i===0){if(s-e!==n)throw new dt("Invalid 0x00 type byte",s);break}const o=s,a=Jn(t,s)-o;s+=a+1;let c;if(i===1||i===18||i===9||i===17)c=8;else if(i===16)c=4;else if(i===7)c=12;else if(i===19)c=16;else if(i===8)c=1;else if(i===10||i===6||i===127||i===255)c=0;else if(i===11)c=Jn(t,Jn(t,s)+1)+1-s;else if(i===3||i===4||i===15)c=Vn(t,s);else if(i===2||i===5||i===12||i===13||i===14)c=Vn(t,s)+4,i===5&&(c+=1),i===12&&(c+=12);else throw new dt(`Invalid 0x${i.toString(16).padStart(2,"0")} type byte`,s);if(c>n)throw new dt("value reports length larger than document",s);r.push([i,o,a,s,c]),s+=c}return r}const Un=Object.create(null);Un.parseToElements=La;Un.ByteUtils=L;Un.NumberUtils=lt;Object.freeze(Un);const Da=1024*1024*17;L.allocate(Da);const Je=({children:t,...e})=>m.jsx("button",{...e,className:"px-1 py-1 hover:bg-neutral-200"+(e.className?" "+e.className:""),children:t}),di=({expanded:t,allowEdit:e,data:n,path:r,autocompleteItems:s,onUpdate:i,onDelete:o,onAdd:a})=>{const[c,l]=y.useState(t),[f,h]=y.useState(!1),[u,b]=y.useState(""),[S,g]=y.useState(""),[w,k]=y.useState(""),[I,B]=y.useState(!1),p=y.useRef(null),$=()=>l(!c),U=()=>{b(fe.stringify(n)),h(!0)},D=()=>{try{const A=fe.parse(u);i?.(r,A),h(!1)}catch{i?.(r,u),h(!1)}l(!0)},q=()=>{try{const A=w.trim()===""?"":fe.parse(w);a?.(r,S,A),g(()=>""),k(()=>""),B(!1)}catch{a?.(r,S,w),g(()=>""),k(()=>""),B(!1)}l(!0)},N=()=>{if(f&&e){let A={};return p.current&&(A={minWidth:p.current.clientWidth+5+"px"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ln,{className:"w-32 h-6 px-1 pt-0.5 text-xs font-medium border border-solid rounded-sm border-neutral-300",trigger:["$"].concat(s.map(M=>M.substring(0,1))),options:jn.map(M=>M.substring(1)).concat(s),attributes:{placeholder:"Value (JSON or String or Number ...)",style:{resize:"both",...A}},value:u,Component:"textarea",onChange:M=>b(M)}),m.jsx(Je,{onClick:D,className:"",children:m.jsx(fn,{className:"w-4 h-4"})}),m.jsx(Je,{onClick:()=>h(!1),className:"",children:m.jsx(dn,{className:"w-4 h-4"})})]})}if(typeof n!="object"||n===null||n instanceof re||n instanceof Date){let A=n;return n instanceof re?A=`ObjectId("${n.toHexString()}")`:n instanceof Date?A=n.toISOString():A=fe.stringify(n),m.jsx("span",{ref:p,className:["px-1 rounded",typeof n=="string"&&"text-green-600",typeof n=="number"&&"text-blue-600",n instanceof re&&"text-red-600 font-medium",n instanceof Date&&"text-yellow-600 font-medium",typeof n=="boolean"&&"text-purple-600",n===null&&"text-neutral-600"].filter(Boolean).join(" "),children:A})}return null},v=()=>I?m.jsxs("div",{className:"flex items-center gap-1 mt-1 mb-1 ml-4",children:[m.jsx(Ln,{className:"w-32 h-6 px-1 text-xs font-medium border border-solid rounded-sm border-neutral-300",trigger:["$"].concat(s.map(A=>A.substring(0,1))),options:jn.concat(s),attributes:{placeholder:"Key"},value:S,Component:"input",onChange:A=>g(A)}),m.jsx("span",{className:"text-xs",children:":"}),m.jsx(Ln,{className:"w-32 h-6 px-1 pt-0.5 text-xs font-medium border border-solid rounded-sm border-neutral-300",trigger:["$"].concat(s.map(A=>A.substring(0,1))),options:jn.map(A=>A.substring(1)).concat(s),attributes:{placeholder:"Value (JSON or String or Number ...)",style:{resize:"both"}},value:w,Component:"textarea",onChange:A=>k(A)}),m.jsx(Je,{onClick:q,disabled:!S.trim(),children:m.jsx(fn,{className:"w-4 h-4"})}),m.jsx(Je,{onClick:()=>{g(()=>""),k(()=>""),B(!1)},children:m.jsx(dn,{className:"w-4 h-4"})})]}):null;if(typeof n!="object"||n===null||n instanceof re||n instanceof Date)return m.jsxs("div",{className:"relative flex items-center gap-1 py-0.5 text-sm hover:bg-neutral-100 group",children:[m.jsx("div",{className:"w-4"}),m.jsxs("span",{className:"flex gap-1",children:[m.jsx("span",{className:"font-medium text-center text-right min-w-4",children:r[r.length-1]}),m.jsx("span",{className:"font-medium text-center",children:":"})]}),N(),m.jsxs("div",{className:"flex items-center h-5 gap-1 ml-10 opacity-0 group-hover:opacity-100 left-full",children:[!f&&e&&m.jsxs(m.Fragment,{children:[m.jsx(Je,{onClick:U,title:"Edit",children:m.jsx(lo,{className:"w-4 h-4"})}),m.jsx(Je,{onClick:()=>o?.(r),className:"px-1 py-1 text-red-600 hover:bg-neutral-200",children:m.jsx(Kn,{className:"w-4 h-4"})})]}),m.jsx(Je,{className:"px-1 py-1 hover:bg-neutral-200",children:m.jsx(rr,{text:fe.stringify(n)})})]})]});let _=null,J=!1;return r.length?_=`${r[r.length-1]}:`:(J=!0,_=m.jsx("span",{children:Array.isArray(n)&&n&&n._id?` #${String(n._id)}:`:n&&n._id?` #${String(n._id)}:`:null})),m.jsxs("div",{children:[m.jsxs("div",{className:"relative flex items-center gap-1 py-0.5 text-sm group"+(J?" mb-1":""),children:[m.jsx("button",{onClick:$,className:"w-4 h-4",children:c?m.jsx(bo,{className:"w-4 h-4"}):m.jsx(Ms,{className:"w-4 h-4"})}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"flex font-medium",children:_}),m.jsxs("span",{className:"text-xs text-neutral-400 whitespace-nowrap",children:[Array.isArray(n)?"Array":"Object"," (",Array.isArray(n)?n.length:Object.keys(n).length," items)"]})]}),!f&&e&&m.jsxs("div",{className:"flex items-center h-5 gap-1 ml-10 opacity-0 group-hover:opacity-100 left-full",children:[m.jsx(Je,{onClick:()=>B(!0),children:m.jsx(po,{className:"w-4 h-4"})}),m.jsx(Je,{onClick:()=>o?.(r),className:"text-red-600",children:m.jsx(Kn,{className:"w-4 h-4"})})]})]}),e&&v(),c&&m.jsx("div",{className:"ml-4",children:Object.entries(n).map(([A,M])=>m.jsx(di,{autocompleteItems:s,allowEdit:e,data:M,path:[...r,A],onUpdate:i,onDelete:o,onAdd:a},A))})]})},sr=({autocompleteItems:t,isExpanded:e,allowEdit:n=!0,data:r={},onChange:s})=>{const i=(c,l)=>{const f={...r};let h=f;for(let u=0;u<c.length-1;u++)h=h[c[u]];h[c[c.length-1]]=l,s?.(f)},o=c=>{if(c.length===0){s?.({});return}const l={...r};let f=l;for(let h=0;h<c.length-1;h++)f=f[c[h]];Array.isArray(f)?f.splice(parseInt(c[c.length-1]),1):delete f[c[c.length-1]],s?.(l)},a=(c,l,f)=>{const h={...r};let u=h;for(const b of c)u=u[b];Array.isArray(u)?u.push(f):u[l]=f,s?.(h)};return m.jsx(di,{autocompleteItems:t,allowEdit:!!(s&&n),expanded:e,data:r,path:[],onUpdate:s?i:void 0,onDelete:s?o:void 0,onAdd:s?a:void 0})},Ma=({sort:t,rows:e,allowEdit:n=!1,onSort:r})=>{const s=[];return e.length>0&&e.forEach(i=>{Object.keys(i).forEach(o=>{s.includes(o)||s.push(o)})}),m.jsxs(Wn,{isSortable:!0,size:"md",useZebraStyles:!1,children:[m.jsx(To,{children:m.jsx(we,{children:s.map((i,o)=>m.jsx(An,{className:"bg-neutral-200",sortDirection:t.field==i?t.direction>0?"ASC":"DESC":"NONE",isSortHeader:t.field==i,isSortable:!0,onClick:()=>{r(i)},id:`${i}-${o}`,children:i},i))})}),m.jsx(Xn,{children:e.map(i=>m.jsx(we,{children:Object.keys(i).map(o=>{if((Array.isArray(i[o])||i[o]instanceof Object)&&!(i[o]instanceof re||i[o]instanceof Date))return m.jsx(te,{children:m.jsxs("div",{className:"flex items-start gap-2 group/item",children:[m.jsx(sr,{autocompleteItems:[],allowEdit:n,data:i[o]}),m.jsx(rr,{className:"p-1 ml-auto opacity-0 group-hover/item:opacity-100 hover:bg-white",text:fe.stringify(i[o])})]})},o);let a="";return i[o]instanceof re?a=`ObjectId("${i[o].toHexString()}")`:i[o]instanceof Date?a=i[o].toISOString():a=fe.stringify(i[o]),m.jsx(te,{children:m.jsxs("div",{className:"flex items-center gap-1 px-1 group hover:bg-white",children:[fe.stringify(i[o]),m.jsx(rr,{className:"p-1 ml-auto opacity-0 group-hover:opacity-100 hover:bg-neutral-200",text:a})]})},o)})},i._id))})]})};var ss={};typeof window<"u"&&(window.CODEIUM_REACT_CODE_VERSION="1.0.12");function hi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wr(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{l(r.next(f))}catch(h){o(h)}}function c(f){try{l(r.throw(f))}catch(h){o(h)}}function l(f){f.done?i(f.value):s(f.value).then(a,c)}l((r=r.apply(t,[])).next())})}function Se(t,e){if(!t)throw new Error(e)}const Fa=34028234663852886e22,Va=-34028234663852886e22,Ja=4294967295,Ga=2147483647,Ha=-2147483648;function cn(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>Ga||t<Ha)throw new Error("invalid int 32: "+t)}function ir(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>Ja||t<0)throw new Error("invalid uint 32: "+t)}function mi(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>Fa||t<Va))throw new Error("invalid float 32: "+t)}const gi=Symbol("@bufbuild/protobuf/enum-type");function za(t){const e=t[gi];return Se(e,"missing enum type on enum object"),e}function bi(t,e,n,r){t[gi]=pi(e,n.map(s=>({no:s.no,name:s.name,localName:t[s.no]})))}function pi(t,e,n){const r=Object.create(null),s=Object.create(null),i=[];for(const o of e){const a=yi(o);i.push(a),r[o.name]=a,s[o.no]=a}return{typeName:t,values:i,findName(o){return r[o]},findNumber(o){return s[o]}}}function qa(t,e,n){const r={};for(const s of e){const i=yi(s);r[i.localName]=i.no,r[i.no]=i.localName}return bi(r,t,e),r}function yi(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class oe{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),s=r.runtime.bin,i=s.makeReadOptions(n);return s.readMessage(this,i.readerFactory(e),e.byteLength,i),this}fromJson(e,n){const r=this.getType(),s=r.runtime.json,i=s.makeReadOptions(n);return s.readMessage(r,e,i,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(s){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${s instanceof Error?s.message:String(s)}`)}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,s=r.makeWriteOptions(e),i=s.writerFactory();return r.writeMessage(this,i,s),i.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,s=r.makeWriteOptions(e);return r.writeMessage(this,s)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Ya(t,e,n,r){var s;const i=(s=r?.localName)!==null&&s!==void 0?s:e.substring(e.lastIndexOf(".")+1),o={[i]:function(a){t.util.initFields(this),t.util.initPartial(a,this)}}[i];return Object.setPrototypeOf(o.prototype,new oe),Object.assign(o,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(a,c){return new o().fromBinary(a,c)},fromJson(a,c){return new o().fromJson(a,c)},fromJsonString(a,c){return new o().fromJsonString(a,c)},equals(a,c){return t.util.equals(o,a,c)}}),o}function Wa(t,e,n,r){return{syntax:t,json:e,bin:n,util:r,makeMessageType(s,i,o){return Ya(this,s,i,o)},makeEnum:qa,makeEnumType:pi,getEnumType:za}}var E;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(E||(E={}));var yt;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(yt||(yt={}));function Xa(){let t=0,e=0;for(let r=0;r<28;r+=7){let s=this.buf[this.pos++];if(t|=(s&127)<<r,!(s&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let s=this.buf[this.pos++];if(e|=(s&127)<<r,!(s&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Gn(t,e,n){for(let i=0;i<28;i=i+7){const o=t>>>i,a=!(!(o>>>7)&&e==0),c=(a?o|128:o)&255;if(n.push(c),!a)return}const r=t>>>28&15|(e&7)<<4,s=!!(e>>3);if(n.push((s?r|128:r)&255),!!s){for(let i=3;i<31;i=i+7){const o=e>>>i,a=!!(o>>>7),c=(a?o|128:o)&255;if(n.push(c),!a)return}n.push(e>>>31&1)}}const ln=4294967296;function is(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,s=0;function i(o,a){const c=Number(t.slice(o,a));s*=n,r=r*n+c,r>=ln&&(s=s+(r/ln|0),r=r%ln)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),e?Ei(r,s):Er(r,s)}function Ka(t,e){let n=Er(t,e);const r=n.hi&2147483648;r&&(n=Ei(n.lo,n.hi));const s=wi(n.lo,n.hi);return r?"-"+s:s}function wi(t,e){if({lo:t,hi:e}=Za(t,e),e<=2097151)return String(ln*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,s=e>>16&65535;let i=n+r*6777216+s*6710656,o=r+s*8147497,a=s*2;const c=1e7;return i>=c&&(o+=Math.floor(i/c),i%=c),o>=c&&(a+=Math.floor(o/c),o%=c),a.toString()+os(o)+os(i)}function Za(t,e){return{lo:t>>>0,hi:e>>>0}}function Er(t,e){return{lo:t|0,hi:e|0}}function Ei(t,e){return e=~e,t?t=~t+1:e+=1,Er(t,e)}const os=t=>{const e=String(t);return"0000000".slice(e.length)+e};function as(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function Qa(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function ec(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof ss!="object"||ss.BUF_BIGINT_DISABLE!=="1")){const s=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>i||l<s)throw new Error(`int64 invalid: ${c}`);return l},uParse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>a||l<o)throw new Error(`uint64 invalid: ${c}`);return l},enc(c){return t.setBigInt64(0,this.parse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(c){return t.setBigInt64(0,this.uParse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(c,l){return t.setInt32(0,c,!0),t.setInt32(4,l,!0),t.getBigInt64(0,!0)},uDec(c,l){return t.setInt32(0,c,!0),t.setInt32(4,l,!0),t.getBigUint64(0,!0)}}}const n=s=>Se(/^-?[0-9]+$/.test(s),`int64 invalid: ${s}`),r=s=>Se(/^[0-9]+$/.test(s),`uint64 invalid: ${s}`);return{zero:"0",supported:!1,parse(s){return typeof s!="string"&&(s=s.toString()),n(s),s},uParse(s){return typeof s!="string"&&(s=s.toString()),r(s),s},enc(s){return typeof s!="string"&&(s=s.toString()),n(s),is(s)},uEnc(s){return typeof s!="string"&&(s=s.toString()),r(s),is(s)},dec(s,i){return Ka(s,i)},uDec(s,i){return wi(s,i)}}}const se=ec();var ue;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(ue||(ue={}));class tc{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let s=0;s<this.chunks.length;s++)e+=this.chunks[s].length;let n=new Uint8Array(e),r=0;for(let s=0;s<this.chunks.length;s++)n.set(this.chunks[s],r),r+=this.chunks[s].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(ir(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return cn(e),as(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){mi(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){ir(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){cn(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return cn(e),e=(e<<1^e>>31)>>>0,as(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),s=se.enc(e);return r.setInt32(0,s.lo,!0),r.setInt32(4,s.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),s=se.uEnc(e);return r.setInt32(0,s.lo,!0),r.setInt32(4,s.hi,!0),this.raw(n)}int64(e){let n=se.enc(e);return Gn(n.lo,n.hi,this.buf),this}sint64(e){let n=se.enc(e),r=n.hi>>31,s=n.lo<<1^r,i=(n.hi<<1|n.lo>>>31)^r;return Gn(s,i,this.buf),this}uint64(e){let n=se.uEnc(e);return Gn(n.lo,n.hi,this.buf),this}}class nc{constructor(e,n){this.varint64=Xa,this.uint32=Qa,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e){let n=this.pos;switch(e){case ue.Varint:for(;this.buf[this.pos++]&128;);break;case ue.Bit64:this.pos+=4;case ue.Bit32:this.pos+=4;break;case ue.LengthDelimited:let r=this.uint32();this.pos+=r;break;case ue.StartGroup:let s;for(;(s=this.tag()[1])!==ue.EndGroup;)this.skip(s);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return se.dec(...this.varint64())}uint64(){return se.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,se.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return se.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return se.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function or(t,e){return e instanceof oe||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}E.DOUBLE,E.FLOAT,E.INT64,E.UINT64,E.INT32,E.UINT32,E.BOOL,E.STRING,E.BYTES;function ft(t,e,n){if(e===n)return!0;if(t==E.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return e==n}return!1}function ar(t,e){switch(t){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return e==0?se.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function Si(t,e){const n=e===void 0;let r=ue.Varint,s=e===0;switch(t){case E.STRING:s=n||!e.length,r=ue.LengthDelimited;break;case E.BOOL:s=e===!1;break;case E.DOUBLE:r=ue.Bit64;break;case E.FLOAT:r=ue.Bit32;break;case E.INT64:s=n||e==0;break;case E.UINT64:s=n||e==0;break;case E.FIXED64:s=n||e==0,r=ue.Bit64;break;case E.BYTES:s=n||!e.byteLength,r=ue.LengthDelimited;break;case E.FIXED32:r=ue.Bit32;break;case E.SFIXED32:r=ue.Bit32;break;case E.SFIXED64:s=n||e==0,r=ue.Bit64;break;case E.SINT64:s=n||e==0;break}const i=E[t].toLowerCase();return[r,i,n||s]}const Nt=Symbol("@bufbuild/protobuf/unknown-fields"),cs={readUnknownFields:!0,readerFactory:t=>new nc(t)},ls={writeUnknownFields:!0,writerFactory:()=>new tc};function rc(t){return t?Object.assign(Object.assign({},cs),t):cs}function sc(t){return t?Object.assign(Object.assign({},ls),t):ls}function ic(){return{makeReadOptions:rc,makeWriteOptions:sc,listUnknownFields(t){var e;return(e=t[Nt])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[Nt]},writeUnknownFields(t,e){const r=t[Nt];if(r)for(const s of r)e.tag(s.no,s.wireType).raw(s.data)},onUnknownField(t,e,n,r){const s=t;Array.isArray(s[Nt])||(s[Nt]=[]),s[Nt].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r){const s=t.getType(),i=n===void 0?e.len:e.pos+n;for(;e.pos<i;){const[o,a]=e.tag(),c=s.fields.find(o);if(!c){const u=e.skip(a);r.readUnknownFields&&this.onUnknownField(t,o,a,u);continue}let l=t,f=c.repeated,h=c.localName;switch(c.oneof&&(l=l[c.oneof.localName],l.case!=h&&delete l.value,l.case=h,h="value"),c.kind){case"scalar":case"enum":const u=c.kind=="enum"?E.INT32:c.T;let b=mn;if(c.kind=="scalar"&&c.L>0&&(b=ac),f){let k=l[h];if(a==ue.LengthDelimited&&u!=E.STRING&&u!=E.BYTES){let I=e.uint32()+e.pos;for(;e.pos<I;)k.push(b(e,u))}else k.push(b(e,u))}else l[h]=b(e,u);break;case"message":const S=c.T;f?l[h].push(un(e,new S,r)):l[h]instanceof oe?un(e,l[h],r):(l[h]=un(e,new S,r),S.fieldWrapper&&!c.oneof&&!c.repeated&&(l[h]=S.fieldWrapper.unwrapField(l[h])));break;case"map":let[g,w]=oc(c,e,r);l[h][g]=w;break}}}}}function un(t,e,n){return e.getType().runtime.bin.readMessage(e,t,t.uint32(),n),e}function oc(t,e,n){const r=e.uint32(),s=e.pos+r;let i,o;for(;e.pos<s;){let[a]=e.tag();switch(a){case 1:i=mn(e,t.K);break;case 2:switch(t.V.kind){case"scalar":o=mn(e,t.V.T);break;case"enum":o=e.int32();break;case"message":o=un(e,new t.V.T,n);break}break}}if(i===void 0){let a=ar(t.K,yt.BIGINT);i=t.K==E.BOOL?a.toString():a}if(typeof i!="string"&&typeof i!="number"&&(i=i.toString()),o===void 0)switch(t.V.kind){case"scalar":o=ar(t.V.T,yt.BIGINT);break;case"enum":o=0;break;case"message":o=new t.V.T;break}return[i,o]}function ac(t,e){const n=mn(t,e);return typeof n=="bigint"?n.toString():n}function mn(t,e){switch(e){case E.STRING:return t.string();case E.BOOL:return t.bool();case E.DOUBLE:return t.double();case E.FLOAT:return t.float();case E.INT32:return t.int32();case E.INT64:return t.int64();case E.UINT64:return t.uint64();case E.FIXED64:return t.fixed64();case E.BYTES:return t.bytes();case E.FIXED32:return t.fixed32();case E.SFIXED32:return t.sfixed32();case E.SFIXED64:return t.sfixed64();case E.SINT64:return t.sint64();case E.UINT32:return t.uint32();case E.SINT32:return t.sint32()}}function cc(t,e,n,r,s){t.tag(n.no,ue.LengthDelimited),t.fork();let i=r;switch(n.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:i=Number.parseInt(r);break;case E.BOOL:Se(r=="true"||r=="false"),i=r=="true";break}switch(Jt(t,n.K,1,i,!0),n.V.kind){case"scalar":Jt(t,n.V.T,2,s,!0);break;case"enum":Jt(t,E.INT32,2,s,!0);break;case"message":cr(t,e,n.V.T,2,s);break}t.join()}function cr(t,e,n,r,s){if(s!==void 0){const i=or(n,s);t.tag(r,ue.LengthDelimited).bytes(i.toBinary(e))}}function Jt(t,e,n,r,s){let[i,o,a]=Si(e,r);(!a||s)&&t.tag(n,i)[o](r)}function lc(t,e,n,r){if(!r.length)return;t.tag(n,ue.LengthDelimited).fork();let[,s]=Si(e);for(let i=0;i<r.length;i++)t[s](r[i]);t.join()}function uc(){return Object.assign(Object.assign({},ic()),{writeMessage(t,e,n){const r=t.getType();for(const s of r.fields.byNumber()){let i,o=s.repeated,a=s.localName;if(s.oneof){const c=t[s.oneof.localName];if(c.case!==a)continue;i=c.value}else i=t[a];switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?E.INT32:s.T;if(o)if(s.packed)lc(e,c,s.no,i);else for(const l of i)Jt(e,c,s.no,l,!0);else i!==void 0&&Jt(e,c,s.no,i,!!s.oneof||s.opt);break;case"message":if(o)for(const l of i)cr(e,n,s.T,s.no,l);else cr(e,n,s.T,s.no,i);break;case"map":for(const[l,f]of Object.entries(i))cc(e,n,s,l,f);break}}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}let Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),$n=[];for(let t=0;t<Ye.length;t++)$n[Ye[t].charCodeAt(0)]=t;$n[45]=Ye.indexOf("+");$n[95]=Ye.indexOf("/");const _n={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,s=0,i,o=0;for(let a=0;a<t.length;a++){if(i=$n[t.charCodeAt(a)],i===void 0)switch(t[a]){case"=":s=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:o=i,s=1;break;case 1:n[r++]=o<<2|(i&48)>>4,o=i,s=2;break;case 2:n[r++]=(o&15)<<4|(i&60)>>2,o=i,s=3;break;case 3:n[r++]=(o&3)<<6|i,s=0;break}}if(s==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,s=0;for(let i=0;i<t.length;i++)switch(r=t[i],n){case 0:e+=Ye[r>>2],s=(r&3)<<4,n=1;break;case 1:e+=Ye[s|r>>4],s=(r&15)<<2,n=2;break;case 2:e+=Ye[s|r>>6],e+=Ye[r&63],n=0;break}return n&&(e+=Ye[s],e+="=",n==1&&(e+="=")),e}},us={ignoreUnknownFields:!1},fs={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function fc(t){return t?Object.assign(Object.assign({},us),t):us}function dc(t){return t?Object.assign(Object.assign({},fs),t):fs}function hc(t){const e=t(mc,ds);return{makeReadOptions:fc,makeWriteOptions:dc,readMessage(n,r,s,i){if(r==null||Array.isArray(r)||typeof r!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(r)}`);i=i??new n;const o={};for(const[a,c]of Object.entries(r)){const l=n.fields.findJsonName(a);if(!l){if(!s.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${a}" is unknown`);continue}let f=l.localName,h=i;if(l.oneof){if(c===null&&l.kind=="scalar")continue;const u=o[l.oneof.localName];if(u)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${u}", "${a}"`);o[l.oneof.localName]=a,h=h[l.oneof.localName]={case:f},f="value"}if(l.repeated){if(c===null)continue;if(!Array.isArray(c))throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`);const u=h[f];for(const b of c){if(b===null)throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(b)}`);let S;switch(l.kind){case"message":S=l.T.fromJson(b,s);break;case"enum":if(S=Hn(l.T,b,s.ignoreUnknownFields),S===void 0)continue;break;case"scalar":try{S=Rt(l.T,b,l.L)}catch(g){let w=`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(b)}`;throw g instanceof Error&&g.message.length>0&&(w+=`: ${g.message}`),new Error(w)}break}u.push(S)}}else if(l.kind=="map"){if(c===null)continue;if(Array.isArray(c)||typeof c!="object")throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`);const u=h[f];for(const[b,S]of Object.entries(c)){if(S===null)throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: map value null`);let g;switch(l.V.kind){case"message":g=l.V.T.fromJson(S,s);break;case"enum":if(g=Hn(l.V.T,S,s.ignoreUnknownFields),g===void 0)continue;break;case"scalar":try{g=Rt(l.V.T,S,yt.BIGINT)}catch(w){let k=`cannot decode map value for field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`;throw w instanceof Error&&w.message.length>0&&(k+=`: ${w.message}`),new Error(k)}break}try{u[Rt(l.K,l.K==E.BOOL?b=="true"?!0:b=="false"?!1:b:b,yt.BIGINT).toString()]=g}catch(w){let k=`cannot decode map key for field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`;throw w instanceof Error&&w.message.length>0&&(k+=`: ${w.message}`),new Error(k)}}}else switch(l.kind){case"message":const u=l.T;if(c===null&&u.typeName!="google.protobuf.Value"){if(l.oneof)throw new Error(`cannot decode field ${n.typeName}.${l.name} from JSON: null is invalid for oneof field "${a}"`);continue}h[f]instanceof oe?h[f].fromJson(c,s):(h[f]=u.fromJson(c,s),u.fieldWrapper&&!l.oneof&&(h[f]=u.fieldWrapper.unwrapField(h[f])));break;case"enum":const b=Hn(l.T,c,s.ignoreUnknownFields);b!==void 0&&(h[f]=b);break;case"scalar":try{h[f]=Rt(l.T,c,l.L)}catch(S){let g=`cannot decode field ${n.typeName}.${l.name} from JSON: ${this.debug(c)}`;throw S instanceof Error&&S.message.length>0&&(g+=`: ${S.message}`),new Error(g)}break}}return i},writeMessage(n,r){const s=n.getType(),i={};let o;try{for(const a of s.fields.byMember()){let c;if(a.kind=="oneof"){const l=n[a.localName];if(l.value===void 0)continue;if(o=a.findField(l.case),!o)throw"oneof case not found: "+l.case;c=e(o,l.value,r)}else o=a,c=e(o,n[o.localName],r);c!==void 0&&(i[r.useProtoFieldName?o.name:o.jsonName]=c)}}catch(a){const c=o?`cannot encode field ${s.typeName}.${o.name} to JSON`:`cannot encode message ${s.typeName} to JSON`,l=a instanceof Error?a.message:String(a);throw new Error(c+(l.length>0?`: ${l}`:""))}return i},readScalar:Rt,writeScalar:ds,debug:Ni}}function Ni(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function Rt(t,e,n){switch(t){case E.DOUBLE:case E.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==E.FLOAT&&mi(r),r;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:if(e===null)return 0;let s;if(typeof e=="number"?s=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(s=Number(e)),s===void 0)break;return t==E.UINT32?ir(s):cn(s),s;case E.INT64:case E.SFIXED64:case E.SINT64:if(e===null)return se.zero;if(typeof e!="number"&&typeof e!="string")break;const i=se.parse(e);return n?i.toString():i;case E.FIXED64:case E.UINT64:if(e===null)return se.zero;if(typeof e!="number"&&typeof e!="string")break;const o=se.uParse(e);return n?o.toString():o;case E.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case E.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case E.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return _n.dec(e)}throw new Error}function Hn(t,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.findName(e);if(r||n)return r?.no;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${Ni(e)}`)}function mc(t,e,n,r){var s;if(e===void 0)return e;if(e===0&&!n)return;if(r)return e;if(t.typeName=="google.protobuf.NullValue")return null;const i=t.findNumber(e);return(s=i?.name)!==null&&s!==void 0?s:e}function ds(t,e,n){if(e!==void 0)switch(t){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return Se(typeof e=="number"),e!=0||n?e:void 0;case E.FLOAT:case E.DOUBLE:return Se(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case E.STRING:return Se(typeof e=="string"),e.length>0||n?e:void 0;case E.BOOL:return Se(typeof e=="boolean"),e||n?e:void 0;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return Se(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case E.BYTES:return Se(e instanceof Uint8Array),n||e.byteLength>0?_n.enc(e):void 0}}function gc(){return hc((t,e)=>function(r,s,i){if(r.kind=="map"){const o={};switch(r.V.kind){case"scalar":for(const[c,l]of Object.entries(s)){const f=e(r.V.T,l,!0);Se(f!==void 0),o[c.toString()]=f}break;case"message":for(const[c,l]of Object.entries(s))o[c.toString()]=l.toJson(i);break;case"enum":const a=r.V.T;for(const[c,l]of Object.entries(s)){Se(l===void 0||typeof l=="number");const f=t(a,l,!0,i.enumAsInteger);Se(f!==void 0),o[c.toString()]=f}break}return i.emitDefaultValues||Object.keys(o).length>0?o:void 0}else if(r.repeated){const o=[];switch(r.kind){case"scalar":for(let a=0;a<s.length;a++)o.push(e(r.T,s[a],!0));break;case"enum":for(let a=0;a<s.length;a++)o.push(t(r.T,s[a],!0,i.enumAsInteger));break;case"message":for(let a=0;a<s.length;a++)o.push(or(r.T,s[a]).toJson(i));break}return i.emitDefaultValues||o.length>0?o:void 0}else switch(r.kind){case"scalar":return e(r.T,s,!!r.oneof||r.opt||i.emitDefaultValues);case"enum":return t(r.T,s,!!r.oneof||r.opt||i.emitDefaultValues,i.enumAsInteger);case"message":return s!==void 0?or(r.T,s).toJson(i):void 0}})}function bc(){return{setEnumType:bi,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const s=r.localName,i=e,o=t;if(o[s]!==void 0)switch(r.kind){case"oneof":const a=o[s].case;if(a===void 0)continue;const c=r.findField(a);let l=o[s].value;c&&c.kind=="message"&&!(l instanceof c.T)?l=new c.T(l):c&&c.kind==="scalar"&&c.T===E.BYTES&&(l=jt(l)),i[s]={case:a,value:l};break;case"scalar":case"enum":let f=o[s];r.T===E.BYTES&&(f=r.repeated?f.map(jt):jt(f)),i[s]=f;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===E.BYTES)for(const[b,S]of Object.entries(o[s]))i[s][b]=jt(S);else Object.assign(i[s],o[s]);break;case"message":const u=r.V.T;for(const b of Object.keys(o[s])){let S=o[s][b];u.fieldWrapper||(S=new u(S)),i[s][b]=S}break}break;case"message":const h=r.T;if(r.repeated)i[s]=o[s].map(u=>u instanceof h?u:new h(u));else if(o[s]!==void 0){const u=o[s];h.fieldWrapper?h.typeName==="google.protobuf.BytesValue"?i[s]=jt(u):i[s]=u:i[s]=u instanceof h?u:new h(u)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const s=e[r.localName],i=n[r.localName];if(r.repeated){if(s.length!==i.length)return!1;switch(r.kind){case"message":return s.every((o,a)=>r.T.equals(o,i[a]));case"scalar":return s.every((o,a)=>ft(r.T,o,i[a]));case"enum":return s.every((o,a)=>ft(E.INT32,o,i[a]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(s,i);case"enum":return ft(E.INT32,s,i);case"scalar":return ft(r.T,s,i);case"oneof":if(s.case!==i.case)return!1;const o=r.findField(s.case);if(o===void 0)return!0;switch(o.kind){case"message":return o.T.equals(s.value,i.value);case"enum":return ft(E.INT32,s.value,i.value);case"scalar":return ft(o.T,s.value,i.value)}throw new Error(`oneof cannot contain ${o.kind}`);case"map":const a=Object.keys(s).concat(Object.keys(i));switch(r.V.kind){case"message":const c=r.V.T;return a.every(f=>c.equals(s[f],i[f]));case"enum":return a.every(f=>ft(E.INT32,s[f],i[f]));case"scalar":const l=r.V.T;return a.every(f=>ft(l,s[f],i[f]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const s of e.fields.byMember()){const i=t[s.localName];let o;if(s.repeated)o=i.map(rn);else if(s.kind=="map"){o=r[s.localName];for(const[a,c]of Object.entries(i))o[a]=rn(c)}else s.kind=="oneof"?o=s.findField(i.case)?{case:i.case,value:rn(i.value)}:{case:void 0}:o=rn(i);r[s.localName]=o}return n}}}function rn(t){if(t===void 0)return t;if(t instanceof oe)return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function jt(t){return t instanceof Uint8Array?t:new Uint8Array(t)}class pc{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function xi(t,e){const n=Ii(t);return e?n:xc(Nc(n))}function yc(t){return xi(t,!1)}const wc=Ii;function Ii(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let s=t.charAt(r);switch(s){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(s),e=!1;break;default:e&&(e=!1,s=s.toUpperCase()),n.push(s);break}}return n.join("")}const Ec=new Set(["constructor","toString","toJSON","valueOf"]),Sc=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Ti=t=>`${t}$`,Nc=t=>Sc.has(t)?Ti(t):t,xc=t=>Ec.has(t)?Ti(t):t;class Ic{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=yc(e)}addField(e){Se(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const O=Wa("proto3",gc(),uc(),Object.assign(Object.assign({},bc()),{newFieldList(t){return new pc(t,Tc)},initFields(t){for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=ar(e.T,e.L);break}}}}));function Tc(t){var e,n,r,s;const i=[];let o;for(const a of typeof t=="function"?t():t){const c=a;if(c.localName=xi(a.name,a.oneof!==void 0),c.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:wc(a.name),c.repeated=(n=a.repeated)!==null&&n!==void 0?n:!1,a.kind=="scalar"&&(c.L=(r=a.L)!==null&&r!==void 0?r:yt.BIGINT),c.packed=(s=a.packed)!==null&&s!==void 0?s:a.kind=="enum"||a.kind=="scalar"&&a.T!=E.BYTES&&a.T!=E.STRING,a.oneof!==void 0){const l=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!o||o.name!=l)&&(o=new Ic(l)),c.oneof=o,o.addField(c)}i.push(c)}return i}var Be;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(Be||(Be={}));var lr;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(lr||(lr={}));var K;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(K||(K={}));function ur(t){const e=K[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let sn;function Oc(t){if(!sn){sn={};for(const e of Object.values(K))typeof e!="string"&&(sn[ur(e)]=e)}return sn[t]}class be extends Error{constructor(e,n=K.Unknown,r,s,i){super(Ac(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(r??{}),this.details=s??[],this.cause=i}static from(e,n=K.Unknown){return e instanceof be?e:e instanceof Error?e.name=="AbortError"?new be(e.message,K.Canceled):new be(e.message,n,void 0,void 0,e):new be(String(e),n,void 0,void 0,e)}findDetails(e){const n="typeName"in e?{findMessage:s=>s===e.typeName?e:void 0}:e,r=[];for(const s of this.details){if(s instanceof oe){n.findMessage(s.getType().typeName)&&r.push(s);continue}const i=n.findMessage(s.type);if(i)try{r.push(i.fromBinary(s.value))}catch{}}return r}}function Ac(t,e){return t.length?`[${ur(e)}] ${t}`:`[${ur(e)}]`}function vc(...t){const e=new Headers;for(const n of t)n.forEach((r,s)=>{e.append(s,r)});return e}function Cc(t,e){const n={};for(const[r,s]of Object.entries(t.methods)){const i=e(Object.assign(Object.assign({},s),{localName:r,service:t}));i!=null&&(n[r]=i)}return n}function Bc(t){let e,n=new Uint8Array(0);function r(s){const i=new Uint8Array(n.length+s.length);i.set(n),i.set(s,n.length),n=i}return new ReadableStream({start(){e=t.getReader()},async pull(s){let i;for(;;){if(i===void 0&&n.byteLength>=5){let c=0;for(let l=1;l<5;l++)c=(c<<8)+n[l];i={flags:n[0],length:c}}if(i!==void 0&&n.byteLength>=i.length+5)break;const a=await e.read();if(a.done)break;r(a.value)}if(i===void 0){if(n.byteLength==0){s.close();return}s.error(new be("premature end of stream",K.DataLoss));return}const o=n.subarray(5,5+i.length);n=n.subarray(5+i.length),s.enqueue({flags:i.flags,data:o})}})}function Pc(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const r=new DataView(n.buffer,n.byteOffset,n.byteLength);return r.setUint8(0,t),r.setUint32(1,e.length),n}var Uc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}},zt=function(t){return this instanceof zt?(this.v=t,this):new zt(t)},$c=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(u){r[u]&&(s[u]=function(b){return new Promise(function(S,g){i.push([u,b,S,g])>1||a(u,b)})})}function a(u,b){try{c(r[u](b))}catch(S){h(i[0][3],S)}}function c(u){u.value instanceof zt?Promise.resolve(u.value.v).then(l,f):h(i[0][2],u)}function l(u){a("next",u)}function f(u){a("throw",u)}function h(u,b){u(b),i.shift(),i.length&&a(i[0][0],i[0][1])}},_c=function(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:zt(t[s](o)),done:!1}:i?i(o):o}:i}};function kc(t){return $c(this,arguments,function*(){yield zt(yield*_c(Uc(t)))})}var Oi=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}},Pt=function(t){return this instanceof Pt?(this.v=t,this):new Pt(t)},Rc=function(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Pt(t[s](o)),done:!1}:i?i(o):o}:i}},jc=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(u){r[u]&&(s[u]=function(b){return new Promise(function(S,g){i.push([u,b,S,g])>1||a(u,b)})})}function a(u,b){try{c(r[u](b))}catch(S){h(i[0][3],S)}}function c(u){u.value instanceof Pt?Promise.resolve(u.value.v).then(l,f):h(i[0][2],u)}function l(u){a("next",u)}function f(u){a("throw",u)}function h(u,b){u(b),i.shift(),i.length&&a(i[0][0],i[0][1])}};function Lc(t,e){return Cc(t,n=>{switch(n.kind){case Be.Unary:return Dc(e,t,n);case Be.ServerStreaming:return Mc(e,t,n);case Be.ClientStreaming:return Fc(e,t,n);case Be.BiDiStreaming:return Vc(e,t,n);default:return null}})}function Dc(t,e,n){return async function(r,s){var i,o;const a=await t.unary(e,n,s?.signal,s?.timeoutMs,s?.headers,r,s?.contextValues);return(i=s?.onHeader)===null||i===void 0||i.call(s,a.header),(o=s?.onTrailer)===null||o===void 0||o.call(s,a.trailer),a.message}}function Mc(t,e,n){return function(r,s){return Ai(t.stream(e,n,s?.signal,s?.timeoutMs,s?.headers,kc([r]),s?.contextValues),s)}}function Fc(t,e,n){return async function(r,s){var i,o,a,c,l,f;const h=await t.stream(e,n,s?.signal,s?.timeoutMs,s?.headers,r,s?.contextValues);(l=s?.onHeader)===null||l===void 0||l.call(s,h.header);let u;try{for(var b=!0,S=Oi(h.message),g;g=await S.next(),i=g.done,!i;b=!0)c=g.value,b=!1,u=c}catch(w){o={error:w}}finally{try{!b&&!i&&(a=S.return)&&await a.call(S)}finally{if(o)throw o.error}}if(!u)throw new be("protocol error: missing response message",K.Internal);return(f=s?.onTrailer)===null||f===void 0||f.call(s,h.trailer),u}}function Vc(t,e,n){return function(r,s){return Ai(t.stream(e,n,s?.signal,s?.timeoutMs,s?.headers,r,s?.contextValues),s)}}function Ai(t,e){const n=function(){var r,s;return jc(this,arguments,function*(){const i=yield Pt(t);(r=e?.onHeader)===null||r===void 0||r.call(e,i.header),yield Pt(yield*Rc(Oi(i.message))),(s=e?.onTrailer)===null||s===void 0||s.call(e,i.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function Jc(...t){const e=new AbortController,n=t.filter(s=>s!==void 0).concat(e.signal);for(const s of n){if(s.aborted){r.apply(s);break}s.addEventListener("abort",r)}function r(){e.signal.aborted||e.abort(vi(this));for(const s of n)s.removeEventListener("abort",r)}return e}function Gc(t){const e=new AbortController,n=()=>{e.abort(new be("the operation timed out",K.DeadlineExceeded))};let r;return t!==void 0&&(t<=0?n():r=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(r)}}function vi(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function hs(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function ms(t,e,n){const r=typeof e=="string"?e:e.typeName,s=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${r}/${s}`)}function Ci(t,e){return e instanceof oe?e:new t(e)}function Hc(t,e){function n(r){return r.done===!0?r:{done:r.done,value:Ci(t,r.value)}}return{[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator](),s={next:()=>r.next().then(n)};return r.throw!==void 0&&(s.throw=i=>r.throw(i).then(n)),r.return!==void 0&&(s.return=i=>r.return(i).then(n)),s}}}function Bi(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function gs(t,e,n,r){const s=e?bs(t.I,r):ps(t.I,n);return{parse:(e?bs(t.O,r):ps(t.O,n)).parse,serialize:s.serialize}}function bs(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(r){const s=r instanceof Error?r.message:String(r);throw new be(`parse binary: ${s}`,K.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(r){const s=r instanceof Error?r.message:String(r);throw new be(`serialize binary: ${s}`,K.Internal)}}}}function ps(t,e){var n,r;const s=(n=e?.textEncoder)!==null&&n!==void 0?n:new TextEncoder,i=(r=e?.textDecoder)!==null&&r!==void 0?r:new TextDecoder,o=Bi(e);return{parse(a){try{const c=i.decode(a);return t.fromJsonString(c,o)}catch(c){throw be.from(c,K.InvalidArgument)}},serialize(a){try{const c=a.toJsonString(o);return s.encode(c)}catch(c){throw be.from(c,K.Internal)}}}}const zc=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,qc="application/proto",Yc="application/json",Wc="application/connect+proto",Xc="application/connect+json";function Kc(t){const e=t?.match(zc);if(!e)return;const n=!!e[1],r=!!e[3];return{stream:n,binary:r}}function Pi(t,e,n){if(e&&new Headers(e).forEach((o,a)=>n.metadata.append(a,o)),typeof t!="object"||t==null||Array.isArray(t)||!("code"in t)||typeof t.code!="string")throw n;const r=Oc(t.code);if(r===void 0)throw n;const s=t.message;if(s!=null&&typeof s!="string")throw n;const i=new be(s??"",r,e);if("details"in t&&Array.isArray(t.details))for(const o of t.details){if(o===null||typeof o!="object"||Array.isArray(o)||typeof o.type!="string"||typeof o.value!="string"||"debug"in o&&typeof o.debug!="object")throw n;try{i.details.push({type:o.type,value:_n.dec(o.value),debug:o.debug})}catch{throw n}}return i}const ys=2;function Zc(t){const e=new be("invalid end stream",K.InvalidArgument);let n;try{n=JSON.parse(typeof t=="string"?t:new TextDecoder().decode(t))}catch{throw e}if(typeof n!="object"||n==null||Array.isArray(n))throw e;const r=new Headers;if("metadata"in n){if(typeof n.metadata!="object"||n.metadata==null||Array.isArray(n.metadata))throw e;for(const[i,o]of Object.entries(n.metadata)){if(!Array.isArray(o)||o.some(a=>typeof a!="string"))throw e;for(const a of o)r.append(i,a)}}const s="error"in n?Pi(n.error,r,e):void 0;return{metadata:r,error:s}}const fr="Content-Type",Qc="Content-Length",ws="Content-Encoding",el="Accept-Encoding",tl="Connect-Timeout-Ms",Ui="Connect-Protocol-Version",nl="User-Agent";function rl(t){switch(t){case 400:return K.InvalidArgument;case 401:return K.Unauthenticated;case 403:return K.PermissionDenied;case 404:return K.Unimplemented;case 408:return K.DeadlineExceeded;case 409:return K.Aborted;case 412:return K.FailedPrecondition;case 413:return K.ResourceExhausted;case 415:return K.Internal;case 429:return K.Unavailable;case 431:return K.ResourceExhausted;case 502:return K.Unavailable;case 503:return K.Unavailable;case 504:return K.Unavailable;default:return K.Unknown}}function Es(t){const e=new Headers,n=new Headers;return t.forEach((r,s)=>{s.toLowerCase().startsWith("trailer-")?n.set(s.substring(8),r):e.set(s,r)}),[e,n]}const $i="1";function Ss(t,e,n,r){const s=new Headers(r??{});return n!==void 0&&s.set(tl,`${n}`),s.set(fr,t==Be.Unary?e?qc:Yc:e?Wc:Xc),s.set(Ui,$i),s.set(nl,"connect-es/1.1.3"),s}function Ns(t,e,n){const r=n.get("Content-Type"),s=Kc(r);if(e!==200){const i=new be(`HTTP ${e}`,rl(e),n);if(t==Be.Unary&&s&&!s.binary)return{isUnaryError:!0,unaryError:i};throw i}return{isUnaryError:!1}}const xs="application/";function sl(t,e){return e?_n.enc(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(t))}function il(t,e,n){let r=`?connect=v${$i}`;const s=t.header.get(fr);s?.indexOf(xs)===0&&(r+="&encoding="+encodeURIComponent(s.slice(xs.length)));const i=t.header.get(ws);i!==null&&i!=="identity"&&(r+="&compression="+encodeURIComponent(i),n=!0),n&&(r+="&base64=1"),r+="&message="+sl(e,n);const o=t.url+r,a=new Headers(t.header);return[Ui,fr,Qc,ws,el].forEach(c=>a.delete(c)),Object.assign(Object.assign({},t),{init:Object.assign(Object.assign({},t.init),{method:"GET"}),url:o,header:a})}function ol(t){const e=ki(t.next,t.interceptors),[n,r,s]=_i(t),i=Object.assign(Object.assign({},t.req),{message:Ci(t.req.method.I,t.req.message),signal:n});return e(i).then(o=>(s(),o),r)}function al(t){const e=ki(t.next,t.interceptors),[n,r,s]=_i(t),i=Object.assign(Object.assign({},t.req),{message:Hc(t.req.method.I,t.req.message),signal:n});let o=!1;return n.addEventListener("abort",function(){var a,c;const l=t.req.message[Symbol.asyncIterator]();o||(a=l.throw)===null||a===void 0||a.call(l,this.reason).catch(()=>{}),(c=l.return)===null||c===void 0||c.call(l).catch(()=>{})}),e(i).then(a=>Object.assign(Object.assign({},a),{message:{[Symbol.asyncIterator](){const c=a.message[Symbol.asyncIterator]();return{next(){return c.next().then(l=>(l.done==!0&&(o=!0,s()),l),r)}}}}}),r)}function _i(t){const{signal:e,cleanup:n}=Gc(t.timeoutMs),r=Jc(t.signal,e);return[r.signal,function(i){const o=be.from(e.aborted?vi(e):i);return r.abort(o),n(),Promise.reject(o)},function(){n(),r.abort()}]}function ki(t,e){var n;return(n=e?.concat().reverse().reduce((r,s)=>s(r),t))!==null&&n!==void 0?n:t}function cl(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var qt=function(t){return this instanceof qt?(this.v=t,this):new qt(t)},ll=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(u){r[u]&&(s[u]=function(b){return new Promise(function(S,g){i.push([u,b,S,g])>1||a(u,b)})})}function a(u,b){try{c(r[u](b))}catch(S){h(i[0][3],S)}}function c(u){u.value instanceof qt?Promise.resolve(u.value.v).then(l,f):h(i[0][2],u)}function l(u){a("next",u)}function f(u){a("throw",u)}function h(u,b){u(b),i.shift(),i.length&&a(i[0][0],i[0][1])}};function ul(t){var e;cl();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!1;return{async unary(r,s,i,o,a,c,l){var f;const{serialize:h,parse:u}=gs(s,n,t.jsonOptions,t.binaryOptions);return o=o===void 0?t.defaultTimeoutMs:o<=0?void 0:o,await ol({interceptors:t.interceptors,signal:i,timeoutMs:o,req:{stream:!1,service:r,method:s,url:ms(t.baseUrl,r,s),init:{method:"POST",credentials:(f=t.credentials)!==null&&f!==void 0?f:"same-origin",redirect:"error",mode:"cors"},header:Ss(s.kind,n,o,a),contextValues:l??hs(),message:c},next:async b=>{var S;const g=t.useHttpGet===!0&&s.idempotency===lr.NoSideEffects;let w=null;g?b=il(b,h(b.message),n):w=h(b.message);const I=await((S=t.fetch)!==null&&S!==void 0?S:globalThis.fetch)(b.url,Object.assign(Object.assign({},b.init),{headers:b.header,signal:b.signal,body:w})),{isUnaryError:B,unaryError:p}=Ns(s.kind,I.status,I.headers);if(B)throw Pi(await I.json(),vc(...Es(I.headers)),p);const[$,U]=Es(I.headers);return{stream:!1,service:r,method:s,header:$,message:n?u(new Uint8Array(await I.arrayBuffer())):s.O.fromJson(await I.json(),Bi(t.jsonOptions)),trailer:U}}})},async stream(r,s,i,o,a,c,l){var f;const{serialize:h,parse:u}=gs(s,n,t.jsonOptions,t.binaryOptions);function b(g,w){return ll(this,arguments,function*(){const I=Bc(g).getReader();let B=!1;for(;;){const p=yield qt(I.read());if(p.done)break;const{flags:$,data:U}=p.value;if(($&ys)===ys){B=!0;const D=Zc(U);if(D.error)throw D.error;D.metadata.forEach((q,N)=>w.set(N,q));continue}yield yield qt(u(U))}if(!B)throw"missing EndStreamResponse"})}async function S(g){if(s.kind!=Be.ServerStreaming)throw"The fetch API does not support streaming request bodies";const w=await g[Symbol.asyncIterator]().next();if(w.done==!0)throw"missing request message";return Pc(0,h(w.value))}return o=o===void 0?t.defaultTimeoutMs:o<=0?void 0:o,await al({interceptors:t.interceptors,timeoutMs:o,signal:i,req:{stream:!0,service:r,method:s,url:ms(t.baseUrl,r,s),init:{method:"POST",credentials:(f=t.credentials)!==null&&f!==void 0?f:"same-origin",redirect:"error",mode:"cors"},header:Ss(s.kind,n,o,a),contextValues:l??hs(),message:c},next:async g=>{var w;const I=await((w=t.fetch)!==null&&w!==void 0?w:globalThis.fetch)(g.url,Object.assign(Object.assign({},g.init),{headers:g.header,signal:g.signal,body:await S(g.message)}));if(Ns(s.kind,I.status,I.headers),I.body===null)throw"missing response body";const B=new Headers;return Object.assign(Object.assign({},g),{header:I.headers,trailer:B,message:b(I.body,B)})}})}}}var pt;(function(t){t.INACTIVE="inactive",t.PROCESSING="processing",t.SUCCESS="success",t.WARNING="warning",t.ERROR="error"})(pt||(pt={}));function fl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Is(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Is(Object(n),!0).forEach(function(r){fl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dl(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function hl(t,e){if(t==null)return{};var n=dl(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ml(t,e){return gl(t)||bl(t,e)||pl(t,e)||yl()}function gl(t){if(Array.isArray(t))return t}function bl(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function pl(t,e){if(t){if(typeof t=="string")return Os(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Os(t,e)}}function Os(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function As(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?As(Object(n),!0).forEach(function(r){wl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function El(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(s,i){return i(s)},r)}}function Dt(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(s,a))}}}function gn(t){return{}.toString.call(t).includes("Object")}function Sl(t){return!Object.keys(t).length}function Yt(t){return typeof t=="function"}function Nl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xl(t,e){return gn(e)||ht("changeType"),Object.keys(e).some(function(n){return!Nl(t,n)})&&ht("changeField"),e}function Il(t){Yt(t)||ht("selectorType")}function Tl(t){Yt(t)||gn(t)||ht("handlerType"),gn(t)&&Object.values(t).some(function(e){return!Yt(e)})&&ht("handlersType")}function Ol(t){t||ht("initialIsRequired"),gn(t)||ht("initialType"),Sl(t)&&ht("initialContent")}function Al(t,e){throw new Error(t[e]||t.default)}var vl={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ht=Dt(Al)(vl),on={changes:xl,selector:Il,handler:Tl,initial:Ol};function Cl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};on.initial(t),on.handler(e);var n={current:t},r=Dt(Ul)(n,e),s=Dt(Pl)(n),i=Dt(on.changes)(t),o=Dt(Bl)(n);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return on.selector(l),l(n.current)}function c(l){El(r,s,i,o)(l)}return[a,c]}function Bl(t,e){return Yt(e)?e(t.current):e}function Pl(t,e){return t.current=vs(vs({},t.current),e),e}function Ul(t,e,n){return Yt(e)?e(t.current):Object.keys(n).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,t.current[r])}),n}var $l={create:Cl},_l={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function kl(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(s,a))}}}function Rl(t){return{}.toString.call(t).includes("Object")}function jl(t){return t||Cs("configIsRequired"),Rl(t)||Cs("configType"),t.urls?(Ll(),{paths:{vs:t.urls.monacoBase}}):t}function Ll(){console.warn(Ri.deprecation)}function Dl(t,e){throw new Error(t[e]||t.default)}var Ri={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Cs=kl(Dl)(Ri),Ml={config:jl},Fl=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(i,o){return o(i)},s)}};function ji(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],ji(t[n],e[n]))}),Ts(Ts({},t),e)}var Vl={type:"cancelation",msg:"operation is manually canceled"};function zn(t){var e=!1,n=new Promise(function(r,s){t.then(function(i){return e?s(Vl):r(i)}),t.catch(s)});return n.cancel=function(){return e=!0},n}var Jl=$l.create({config:_l,isInitialized:!1,resolve:null,reject:null,monaco:null}),Li=ml(Jl,2),tn=Li[0],kn=Li[1];function Gl(t){var e=Ml.config(t),n=e.monaco,r=hl(e,["monaco"]);kn(function(s){return{config:ji(s.config,r),monaco:n}})}function Hl(){var t=tn(function(e){var n=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:n,isInitialized:r,resolve:s}});if(!t.isInitialized){if(kn({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),zn(qn);if(window.monaco&&window.monaco.editor)return Di(window.monaco),t.resolve(window.monaco),zn(qn);Fl(zl,Yl)(Wl)}return zn(qn)}function zl(t){return document.body.appendChild(t)}function ql(t){var e=document.createElement("script");return t&&(e.src=t),e}function Yl(t){var e=tn(function(r){var s=r.config,i=r.reject;return{config:s,reject:i}}),n=ql("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Wl(){var t=tn(function(n){var r=n.config,s=n.resolve,i=n.reject;return{config:r,resolve:s,reject:i}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){Di(n),t.resolve(n)},function(n){t.reject(n)})}function Di(t){tn().monaco||kn({monaco:t})}function Xl(){return tn(function(t){var e=t.monaco;return e})}var qn=new Promise(function(t,e){return kn({resolve:t,reject:e})}),Mi={config:Gl,init:Hl,__getMonacoInstance:Xl},Kl={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Yn=Kl,Zl={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Ql=Zl;function eu({children:t}){return x.createElement("div",{style:Ql.container},t)}var tu=eu,nu=tu;function ru({width:t,height:e,isEditorReady:n,loading:r,_ref:s,className:i,wrapperProps:o}){return x.createElement("section",{style:{...Yn.wrapper,width:t,height:e},...o},!n&&x.createElement(nu,null,r),x.createElement("div",{ref:s,style:{...Yn.fullWidth,...!n&&Yn.hide},className:i}))}var su=ru,Fi=y.memo(su);function iu(t){y.useEffect(t,[])}var Vi=iu;function ou(t,e,n=!0){let r=y.useRef(!0);y.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var Oe=ou;function Gt(){}function At(t,e,n,r){return au(t,r)||cu(t,e,n,r)}function au(t,e){return t.editor.getModel(Ji(t,e))}function cu(t,e,n,r){return t.editor.createModel(e,n,r?Ji(t,r):void 0)}function Ji(t,e){return t.Uri.parse(e)}function lu({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:l="light",loading:f="Loading...",options:h={},height:u="100%",width:b="100%",className:S,wrapperProps:g={},beforeMount:w=Gt,onMount:k=Gt}){let[I,B]=y.useState(!1),[p,$]=y.useState(!0),U=y.useRef(null),D=y.useRef(null),q=y.useRef(null),N=y.useRef(k),v=y.useRef(w),_=y.useRef(!1);Vi(()=>{let G=Mi.init();return G.then(ne=>(D.current=ne)&&$(!1)).catch(ne=>ne?.type!=="cancelation"&&console.error("Monaco initialization: error:",ne)),()=>U.current?M():G.cancel()}),Oe(()=>{if(U.current&&D.current){let G=U.current.getOriginalEditor(),ne=At(D.current,t||"",r||n||"text",i||"");ne!==G.getModel()&&G.setModel(ne)}},[i],I),Oe(()=>{if(U.current&&D.current){let G=U.current.getModifiedEditor(),ne=At(D.current,e||"",s||n||"text",o||"");ne!==G.getModel()&&G.setModel(ne)}},[o],I),Oe(()=>{let G=U.current.getModifiedEditor();G.getOption(D.current.editor.EditorOption.readOnly)?G.setValue(e||""):e!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[e],I),Oe(()=>{U.current?.getModel()?.original.setValue(t||"")},[t],I),Oe(()=>{let{original:G,modified:ne}=U.current.getModel();D.current.editor.setModelLanguage(G,r||n||"text"),D.current.editor.setModelLanguage(ne,s||n||"text")},[n,r,s],I),Oe(()=>{D.current?.editor.setTheme(l)},[l],I),Oe(()=>{U.current?.updateOptions(h)},[h],I);let J=y.useCallback(()=>{if(!D.current)return;v.current(D.current);let G=At(D.current,t||"",r||n||"text",i||""),ne=At(D.current,e||"",s||n||"text",o||"");U.current?.setModel({original:G,modified:ne})},[n,e,s,t,r,i,o]),A=y.useCallback(()=>{!_.current&&q.current&&(U.current=D.current.editor.createDiffEditor(q.current,{automaticLayout:!0,...h}),J(),D.current?.editor.setTheme(l),B(!0),_.current=!0)},[h,l,J]);y.useEffect(()=>{I&&N.current(U.current,D.current)},[I]),y.useEffect(()=>{!p&&!I&&A()},[p,I,A]);function M(){let G=U.current?.getModel();a||G?.original?.dispose(),c||G?.modified?.dispose(),U.current?.dispose()}return x.createElement(Fi,{width:b,height:u,isEditorReady:I,loading:f,_ref:q,className:S,wrapperProps:g})}var uu=lu;y.memo(uu);function fu(t){let e=y.useRef();return y.useEffect(()=>{e.current=t},[t]),e.current}var du=fu,an=new Map;function hu({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:s,path:i,theme:o="light",line:a,loading:c="Loading...",options:l={},overrideServices:f={},saveViewState:h=!0,keepCurrentModel:u=!1,width:b="100%",height:S="100%",className:g,wrapperProps:w={},beforeMount:k=Gt,onMount:I=Gt,onChange:B,onValidate:p=Gt}){let[$,U]=y.useState(!1),[D,q]=y.useState(!0),N=y.useRef(null),v=y.useRef(null),_=y.useRef(null),J=y.useRef(I),A=y.useRef(k),M=y.useRef(),G=y.useRef(r),ne=du(i),ce=y.useRef(!1),me=y.useRef(!1);Vi(()=>{let H=Mi.init();return H.then(de=>(N.current=de)&&q(!1)).catch(de=>de?.type!=="cancelation"&&console.error("Monaco initialization: error:",de)),()=>v.current?Le():H.cancel()}),Oe(()=>{let H=At(N.current,t||r||"",e||s||"",i||n||"");H!==v.current?.getModel()&&(h&&an.set(ne,v.current?.saveViewState()),v.current?.setModel(H),h&&v.current?.restoreViewState(an.get(i)))},[i],$),Oe(()=>{v.current?.updateOptions(l)},[l],$),Oe(()=>{!v.current||r===void 0||(v.current.getOption(N.current.editor.EditorOption.readOnly)?v.current.setValue(r):r!==v.current.getValue()&&(me.current=!0,v.current.executeEdits("",[{range:v.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),v.current.pushUndoStop(),me.current=!1))},[r],$),Oe(()=>{let H=v.current?.getModel();H&&s&&N.current?.editor.setModelLanguage(H,s)},[s],$),Oe(()=>{a!==void 0&&v.current?.revealLine(a)},[a],$),Oe(()=>{N.current?.editor.setTheme(o)},[o],$);let $e=y.useCallback(()=>{if(!(!_.current||!N.current)&&!ce.current){A.current(N.current);let H=i||n,de=At(N.current,r||t||"",e||s||"",H||"");v.current=N.current?.editor.create(_.current,{model:de,automaticLayout:!0,...l},f),h&&v.current.restoreViewState(an.get(H)),N.current.editor.setTheme(o),a!==void 0&&v.current.revealLine(a),U(!0),ce.current=!0}},[t,e,n,r,s,i,l,f,h,o,a]);y.useEffect(()=>{$&&J.current(v.current,N.current)},[$]),y.useEffect(()=>{!D&&!$&&$e()},[D,$,$e]),G.current=r,y.useEffect(()=>{$&&B&&(M.current?.dispose(),M.current=v.current?.onDidChangeModelContent(H=>{me.current||B(v.current.getValue(),H)}))},[$,B]),y.useEffect(()=>{if($){let H=N.current.editor.onDidChangeMarkers(de=>{let Z=v.current.getModel()?.uri;if(Z&&de.find(ge=>ge.path===Z.path)){let ge=N.current.editor.getModelMarkers({resource:Z});p?.(ge)}});return()=>{H?.dispose()}}return()=>{}},[$,p]);function Le(){M.current?.dispose(),u?h&&an.set(i,v.current.saveViewState()):v.current.getModel()?.dispose(),v.current.dispose()}return x.createElement(Fi,{width:b,height:S,isEditorReady:$,loading:c,_ref:_,className:g,wrapperProps:w})}var mu=hu,gu=y.memo(mu),bu=gu;const pu=t=>{switch(t){case"typescript":case"tsx":case"javascript":case"java":return`// Welcome to Codeium Editor!
// Press Enter and use Tab to accept AI suggestions. Here's an example:

// fib(n) function to calculate the n-th fibonacci number`;case"python":return`# Welcome to Codeium Editor!
# Press Enter and use Tab to accept AI suggestions. Here's an example:

# fib(n) function to calculate the n-th fibonacci number`;case"css":return`/* Welcome to Codeium Editor!
Press Enter and use Tab to accept AI suggestions. Here's an example:*/

/* .action-button class with a hover effect. */`;default:return""}};var bn;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.JUPYTER_FORMAT=77]="JUPYTER_FORMAT"})(bn||(bn={}));O.util.setEnumType(bn,"exa.codeium_common_pb.ExperimentKey",[{no:0,name:"UNSPECIFIED"},{no:77,name:"JUPYTER_FORMAT"}]);var Wt;(function(t){t[t.CODEIUM=0]="CODEIUM"})(Wt||(Wt={}));O.util.setEnumType(Wt,"exa.codeium_common_pb.AuthSource",[{no:0,name:"AUTH_SOURCE_CODEIUM"}]);var Xt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ENABLE_CODEIUM=1]="ENABLE_CODEIUM",t[t.DISABLE_CODEIUM=2]="DISABLE_CODEIUM",t[t.SHOW_PREVIOUS_COMPLETION=3]="SHOW_PREVIOUS_COMPLETION",t[t.SHOW_NEXT_COMPLETION=4]="SHOW_NEXT_COMPLETION"})(Xt||(Xt={}));O.util.setEnumType(Xt,"exa.codeium_common_pb.EventType",[{no:0,name:"EVENT_TYPE_UNSPECIFIED"},{no:1,name:"EVENT_TYPE_ENABLE_CODEIUM"},{no:2,name:"EVENT_TYPE_DISABLE_CODEIUM"},{no:3,name:"EVENT_TYPE_SHOW_PREVIOUS_COMPLETION"},{no:4,name:"EVENT_TYPE_SHOW_NEXT_COMPLETION"}]);var Kt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.TYPING_AS_SUGGESTED=1]="TYPING_AS_SUGGESTED",t[t.CACHE=2]="CACHE",t[t.NETWORK=3]="NETWORK"})(Kt||(Kt={}));O.util.setEnumType(Kt,"exa.codeium_common_pb.CompletionSource",[{no:0,name:"COMPLETION_SOURCE_UNSPECIFIED"},{no:1,name:"COMPLETION_SOURCE_TYPING_AS_SUGGESTED"},{no:2,name:"COMPLETION_SOURCE_CACHE"},{no:3,name:"COMPLETION_SOURCE_NETWORK"}]);var P;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.C=1]="C",t[t.CLOJURE=2]="CLOJURE",t[t.COFFEESCRIPT=3]="COFFEESCRIPT",t[t.CPP=4]="CPP",t[t.CSHARP=5]="CSHARP",t[t.CSS=6]="CSS",t[t.CUDACPP=7]="CUDACPP",t[t.DOCKERFILE=8]="DOCKERFILE",t[t.GO=9]="GO",t[t.GROOVY=10]="GROOVY",t[t.HANDLEBARS=11]="HANDLEBARS",t[t.HASKELL=12]="HASKELL",t[t.HCL=13]="HCL",t[t.HTML=14]="HTML",t[t.INI=15]="INI",t[t.JAVA=16]="JAVA",t[t.JAVASCRIPT=17]="JAVASCRIPT",t[t.JSON=18]="JSON",t[t.JULIA=19]="JULIA",t[t.KOTLIN=20]="KOTLIN",t[t.LATEX=21]="LATEX",t[t.LESS=22]="LESS",t[t.LUA=23]="LUA",t[t.MAKEFILE=24]="MAKEFILE",t[t.MARKDOWN=25]="MARKDOWN",t[t.OBJECTIVEC=26]="OBJECTIVEC",t[t.OBJECTIVECPP=27]="OBJECTIVECPP",t[t.PERL=28]="PERL",t[t.PHP=29]="PHP",t[t.PLAINTEXT=30]="PLAINTEXT",t[t.PROTOBUF=31]="PROTOBUF",t[t.PBTXT=32]="PBTXT",t[t.PYTHON=33]="PYTHON",t[t.R=34]="R",t[t.RUBY=35]="RUBY",t[t.RUST=36]="RUST",t[t.SASS=37]="SASS",t[t.SCALA=38]="SCALA",t[t.SCSS=39]="SCSS",t[t.SHELL=40]="SHELL",t[t.SQL=41]="SQL",t[t.STARLARK=42]="STARLARK",t[t.SWIFT=43]="SWIFT",t[t.TSX=44]="TSX",t[t.TYPESCRIPT=45]="TYPESCRIPT",t[t.VISUALBASIC=46]="VISUALBASIC",t[t.VUE=47]="VUE",t[t.XML=48]="XML",t[t.XSL=49]="XSL",t[t.YAML=50]="YAML",t[t.SVELTE=51]="SVELTE",t[t.TOML=52]="TOML",t[t.DART=53]="DART",t[t.RST=54]="RST",t[t.OCAML=55]="OCAML",t[t.CMAKE=56]="CMAKE",t[t.PASCAL=57]="PASCAL",t[t.ELIXIR=58]="ELIXIR",t[t.FSHARP=59]="FSHARP",t[t.LISP=60]="LISP",t[t.MATLAB=61]="MATLAB",t[t.POWERSHELL=62]="POWERSHELL",t[t.SOLIDITY=63]="SOLIDITY",t[t.ADA=64]="ADA",t[t.OCAML_INTERFACE=65]="OCAML_INTERFACE"})(P||(P={}));O.util.setEnumType(P,"exa.codeium_common_pb.Language",[{no:0,name:"LANGUAGE_UNSPECIFIED"},{no:1,name:"LANGUAGE_C"},{no:2,name:"LANGUAGE_CLOJURE"},{no:3,name:"LANGUAGE_COFFEESCRIPT"},{no:4,name:"LANGUAGE_CPP"},{no:5,name:"LANGUAGE_CSHARP"},{no:6,name:"LANGUAGE_CSS"},{no:7,name:"LANGUAGE_CUDACPP"},{no:8,name:"LANGUAGE_DOCKERFILE"},{no:9,name:"LANGUAGE_GO"},{no:10,name:"LANGUAGE_GROOVY"},{no:11,name:"LANGUAGE_HANDLEBARS"},{no:12,name:"LANGUAGE_HASKELL"},{no:13,name:"LANGUAGE_HCL"},{no:14,name:"LANGUAGE_HTML"},{no:15,name:"LANGUAGE_INI"},{no:16,name:"LANGUAGE_JAVA"},{no:17,name:"LANGUAGE_JAVASCRIPT"},{no:18,name:"LANGUAGE_JSON"},{no:19,name:"LANGUAGE_JULIA"},{no:20,name:"LANGUAGE_KOTLIN"},{no:21,name:"LANGUAGE_LATEX"},{no:22,name:"LANGUAGE_LESS"},{no:23,name:"LANGUAGE_LUA"},{no:24,name:"LANGUAGE_MAKEFILE"},{no:25,name:"LANGUAGE_MARKDOWN"},{no:26,name:"LANGUAGE_OBJECTIVEC"},{no:27,name:"LANGUAGE_OBJECTIVECPP"},{no:28,name:"LANGUAGE_PERL"},{no:29,name:"LANGUAGE_PHP"},{no:30,name:"LANGUAGE_PLAINTEXT"},{no:31,name:"LANGUAGE_PROTOBUF"},{no:32,name:"LANGUAGE_PBTXT"},{no:33,name:"LANGUAGE_PYTHON"},{no:34,name:"LANGUAGE_R"},{no:35,name:"LANGUAGE_RUBY"},{no:36,name:"LANGUAGE_RUST"},{no:37,name:"LANGUAGE_SASS"},{no:38,name:"LANGUAGE_SCALA"},{no:39,name:"LANGUAGE_SCSS"},{no:40,name:"LANGUAGE_SHELL"},{no:41,name:"LANGUAGE_SQL"},{no:42,name:"LANGUAGE_STARLARK"},{no:43,name:"LANGUAGE_SWIFT"},{no:44,name:"LANGUAGE_TSX"},{no:45,name:"LANGUAGE_TYPESCRIPT"},{no:46,name:"LANGUAGE_VISUALBASIC"},{no:47,name:"LANGUAGE_VUE"},{no:48,name:"LANGUAGE_XML"},{no:49,name:"LANGUAGE_XSL"},{no:50,name:"LANGUAGE_YAML"},{no:51,name:"LANGUAGE_SVELTE"},{no:52,name:"LANGUAGE_TOML"},{no:53,name:"LANGUAGE_DART"},{no:54,name:"LANGUAGE_RST"},{no:55,name:"LANGUAGE_OCAML"},{no:56,name:"LANGUAGE_CMAKE"},{no:57,name:"LANGUAGE_PASCAL"},{no:58,name:"LANGUAGE_ELIXIR"},{no:59,name:"LANGUAGE_FSHARP"},{no:60,name:"LANGUAGE_LISP"},{no:61,name:"LANGUAGE_MATLAB"},{no:62,name:"LANGUAGE_POWERSHELL"},{no:63,name:"LANGUAGE_SOLIDITY"},{no:64,name:"LANGUAGE_ADA"},{no:65,name:"LANGUAGE_OCAML_INTERFACE"}]);class Xe extends oe{constructor(e){super(),this.completionId="",this.text="",this.prefix="",this.stop="",this.score=0,this.tokens=[],this.decodedTokens=[],this.probabilities=[],this.adjustedProbabilities=[],this.generatedLength=se.zero,O.util.initPartial(e,this)}static fromBinary(e,n){return new Xe().fromBinary(e,n)}static fromJson(e,n){return new Xe().fromJson(e,n)}static fromJsonString(e,n){return new Xe().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Xe,e,n)}}Xe.runtime=O;Xe.typeName="exa.codeium_common_pb.Completion";Xe.fields=O.util.newFieldList(()=>[{no:1,name:"completion_id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"prefix",kind:"scalar",T:9},{no:4,name:"stop",kind:"scalar",T:9},{no:5,name:"score",kind:"scalar",T:1},{no:6,name:"tokens",kind:"scalar",T:4,repeated:!0},{no:7,name:"decoded_tokens",kind:"scalar",T:9,repeated:!0},{no:8,name:"probabilities",kind:"scalar",T:1,repeated:!0},{no:9,name:"adjusted_probabilities",kind:"scalar",T:1,repeated:!0},{no:10,name:"generated_length",kind:"scalar",T:4}]);class ke extends oe{constructor(e){super(),this.ideName="",this.ideVersion="",this.extensionName="",this.extensionVersion="",this.apiKey="",this.locale="",this.sessionId="",this.requestId=se.zero,this.userAgent="",this.url="",this.authSource=Wt.CODEIUM,O.util.initPartial(e,this)}static fromBinary(e,n){return new ke().fromBinary(e,n)}static fromJson(e,n){return new ke().fromJson(e,n)}static fromJsonString(e,n){return new ke().fromJsonString(e,n)}static equals(e,n){return O.util.equals(ke,e,n)}}ke.runtime=O;ke.typeName="exa.codeium_common_pb.Metadata";ke.fields=O.util.newFieldList(()=>[{no:1,name:"ide_name",kind:"scalar",T:9},{no:7,name:"ide_version",kind:"scalar",T:9},{no:12,name:"extension_name",kind:"scalar",T:9},{no:2,name:"extension_version",kind:"scalar",T:9},{no:3,name:"api_key",kind:"scalar",T:9},{no:4,name:"locale",kind:"scalar",T:9},{no:10,name:"session_id",kind:"scalar",T:9},{no:9,name:"request_id",kind:"scalar",T:4},{no:13,name:"user_agent",kind:"scalar",T:9},{no:14,name:"url",kind:"scalar",T:9},{no:15,name:"auth_source",kind:"enum",T:O.getEnumType(Wt)}]);class Ke extends oe{constructor(e){super(),this.tabSize=se.zero,this.insertSpaces=!1,O.util.initPartial(e,this)}static fromBinary(e,n){return new Ke().fromBinary(e,n)}static fromJson(e,n){return new Ke().fromJson(e,n)}static fromJsonString(e,n){return new Ke().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Ke,e,n)}}Ke.runtime=O;Ke.typeName="exa.codeium_common_pb.EditorOptions";Ke.fields=O.util.newFieldList(()=>[{no:1,name:"tab_size",kind:"scalar",T:4},{no:2,name:"insert_spaces",kind:"scalar",T:8}]);let Sr=class Mt extends oe{constructor(e){super(),this.eventType=Xt.UNSPECIFIED,this.eventJson="",this.timestampUnixMs=se.zero,O.util.initPartial(e,this)}static fromBinary(e,n){return new Mt().fromBinary(e,n)}static fromJson(e,n){return new Mt().fromJson(e,n)}static fromJsonString(e,n){return new Mt().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Mt,e,n)}};Sr.runtime=O;Sr.typeName="exa.codeium_common_pb.Event";Sr.fields=O.util.newFieldList(()=>[{no:1,name:"event_type",kind:"enum",T:O.getEnumType(Xt)},{no:2,name:"event_json",kind:"scalar",T:9},{no:3,name:"timestamp_unix_ms",kind:"scalar",T:3}]);var Zt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.INACTIVE=1]="INACTIVE",t[t.PROCESSING=2]="PROCESSING",t[t.SUCCESS=3]="SUCCESS",t[t.WARNING=4]="WARNING",t[t.ERROR=5]="ERROR"})(Zt||(Zt={}));O.util.setEnumType(Zt,"exa.language_server_pb.CodeiumState",[{no:0,name:"CODEIUM_STATE_UNSPECIFIED"},{no:1,name:"CODEIUM_STATE_INACTIVE"},{no:2,name:"CODEIUM_STATE_PROCESSING"},{no:3,name:"CODEIUM_STATE_SUCCESS"},{no:4,name:"CODEIUM_STATE_WARNING"},{no:5,name:"CODEIUM_STATE_ERROR"}]);var dr;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SINGLE=1]="SINGLE",t[t.MULTI=2]="MULTI"})(dr||(dr={}));O.util.setEnumType(dr,"exa.language_server_pb.LineType",[{no:0,name:"LINE_TYPE_UNSPECIFIED"},{no:1,name:"LINE_TYPE_SINGLE"},{no:2,name:"LINE_TYPE_MULTI"}]);var Qt;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.INLINE=1]="INLINE",t[t.BLOCK=2]="BLOCK",t[t.INLINE_MASK=3]="INLINE_MASK"})(Qt||(Qt={}));O.util.setEnumType(Qt,"exa.language_server_pb.CompletionPartType",[{no:0,name:"COMPLETION_PART_TYPE_UNSPECIFIED"},{no:1,name:"COMPLETION_PART_TYPE_INLINE"},{no:2,name:"COMPLETION_PART_TYPE_BLOCK"},{no:3,name:"COMPLETION_PART_TYPE_INLINE_MASK"}]);class De extends oe{constructor(e){super(),this.threshold=0,O.util.initPartial(e,this)}static fromBinary(e,n){return new De().fromBinary(e,n)}static fromJson(e,n){return new De().fromJson(e,n)}static fromJsonString(e,n){return new De().fromJsonString(e,n)}static equals(e,n){return O.util.equals(De,e,n)}}De.runtime=O;De.typeName="exa.language_server_pb.MultilineConfig";De.fields=O.util.newFieldList(()=>[{no:1,name:"threshold",kind:"scalar",T:2}]);class Ze extends oe{constructor(e){super(),this.otherDocuments=[],this.modelName="",O.util.initPartial(e,this)}static fromBinary(e,n){return new Ze().fromBinary(e,n)}static fromJson(e,n){return new Ze().fromJson(e,n)}static fromJsonString(e,n){return new Ze().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Ze,e,n)}}Ze.runtime=O;Ze.typeName="exa.language_server_pb.GetCompletionsRequest";Ze.fields=O.util.newFieldList(()=>[{no:1,name:"metadata",kind:"message",T:ke},{no:2,name:"document",kind:"message",T:Ut},{no:3,name:"editor_options",kind:"message",T:Ke},{no:5,name:"other_documents",kind:"message",T:Ut,repeated:!0},{no:7,name:"experiment_config",kind:"message",T:st},{no:10,name:"model_name",kind:"scalar",T:9},{no:13,name:"multiline_config",kind:"message",T:De}]);class Qe extends oe{constructor(e){super(),this.completionItems=[],O.util.initPartial(e,this)}static fromBinary(e,n){return new Qe().fromBinary(e,n)}static fromJson(e,n){return new Qe().fromJson(e,n)}static fromJsonString(e,n){return new Qe().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Qe,e,n)}}Qe.runtime=O;Qe.typeName="exa.language_server_pb.GetCompletionsResponse";Qe.fields=O.util.newFieldList(()=>[{no:1,name:"state",kind:"message",T:it},{no:2,name:"completion_items",kind:"message",T:ct,repeated:!0}]);class et extends oe{constructor(e){super(),this.completionId="",O.util.initPartial(e,this)}static fromBinary(e,n){return new et().fromBinary(e,n)}static fromJson(e,n){return new et().fromJson(e,n)}static fromJsonString(e,n){return new et().fromJsonString(e,n)}static equals(e,n){return O.util.equals(et,e,n)}}et.runtime=O;et.typeName="exa.language_server_pb.AcceptCompletionRequest";et.fields=O.util.newFieldList(()=>[{no:1,name:"metadata",kind:"message",T:ke},{no:2,name:"completion_id",kind:"scalar",T:9}]);class tt extends oe{constructor(e){super(),O.util.initPartial(e,this)}static fromBinary(e,n){return new tt().fromBinary(e,n)}static fromJson(e,n){return new tt().fromJson(e,n)}static fromJsonString(e,n){return new tt().fromJsonString(e,n)}static equals(e,n){return O.util.equals(tt,e,n)}}tt.runtime=O;tt.typeName="exa.language_server_pb.AcceptCompletionResponse";tt.fields=O.util.newFieldList(()=>[]);class nt extends oe{constructor(e){super(),O.util.initPartial(e,this)}static fromBinary(e,n){return new nt().fromBinary(e,n)}static fromJson(e,n){return new nt().fromJson(e,n)}static fromJsonString(e,n){return new nt().fromJsonString(e,n)}static equals(e,n){return O.util.equals(nt,e,n)}}nt.runtime=O;nt.typeName="exa.language_server_pb.GetAuthTokenRequest";nt.fields=O.util.newFieldList(()=>[]);class rt extends oe{constructor(e){super(),this.authToken="",this.uuid="",O.util.initPartial(e,this)}static fromBinary(e,n){return new rt().fromBinary(e,n)}static fromJson(e,n){return new rt().fromJson(e,n)}static fromJsonString(e,n){return new rt().fromJsonString(e,n)}static equals(e,n){return O.util.equals(rt,e,n)}}rt.runtime=O;rt.typeName="exa.language_server_pb.GetAuthTokenResponse";rt.fields=O.util.newFieldList(()=>[{no:1,name:"auth_token",kind:"scalar",T:9},{no:2,name:"uuid",kind:"scalar",T:9}]);class Re extends oe{constructor(e){super(),this.row=se.zero,this.col=se.zero,O.util.initPartial(e,this)}static fromBinary(e,n){return new Re().fromBinary(e,n)}static fromJson(e,n){return new Re().fromJson(e,n)}static fromJsonString(e,n){return new Re().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Re,e,n)}}Re.runtime=O;Re.typeName="exa.language_server_pb.DocumentPosition";Re.fields=O.util.newFieldList(()=>[{no:1,name:"row",kind:"scalar",T:4},{no:2,name:"col",kind:"scalar",T:4}]);let Ut=class Ft extends oe{constructor(e){super(),this.absolutePath="",this.relativePath="",this.text="",this.editorLanguage="",this.language=P.UNSPECIFIED,this.cursorOffset=se.zero,this.lineEnding="",O.util.initPartial(e,this)}static fromBinary(e,n){return new Ft().fromBinary(e,n)}static fromJson(e,n){return new Ft().fromJson(e,n)}static fromJsonString(e,n){return new Ft().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Ft,e,n)}};Ut.runtime=O;Ut.typeName="exa.language_server_pb.Document";Ut.fields=O.util.newFieldList(()=>[{no:1,name:"absolute_path",kind:"scalar",T:9},{no:2,name:"relative_path",kind:"scalar",T:9},{no:3,name:"text",kind:"scalar",T:9},{no:4,name:"editor_language",kind:"scalar",T:9},{no:5,name:"language",kind:"enum",T:O.getEnumType(P)},{no:6,name:"cursor_offset",kind:"scalar",T:4},{no:8,name:"cursor_position",kind:"message",T:Re},{no:7,name:"line_ending",kind:"scalar",T:9}]);class st extends oe{constructor(e){super(),this.forceEnableExperiments=[],O.util.initPartial(e,this)}static fromBinary(e,n){return new st().fromBinary(e,n)}static fromJson(e,n){return new st().fromJson(e,n)}static fromJsonString(e,n){return new st().fromJsonString(e,n)}static equals(e,n){return O.util.equals(st,e,n)}}st.runtime=O;st.typeName="exa.language_server_pb.ExperimentConfig";st.fields=O.util.newFieldList(()=>[{no:1,name:"force_enable_experiments",kind:"enum",T:O.getEnumType(bn),repeated:!0}]);class it extends oe{constructor(e){super(),this.state=Zt.UNSPECIFIED,this.message="",O.util.initPartial(e,this)}static fromBinary(e,n){return new it().fromBinary(e,n)}static fromJson(e,n){return new it().fromJson(e,n)}static fromJsonString(e,n){return new it().fromJsonString(e,n)}static equals(e,n){return O.util.equals(it,e,n)}}it.runtime=O;it.typeName="exa.language_server_pb.State";it.fields=O.util.newFieldList(()=>[{no:1,name:"state",kind:"enum",T:O.getEnumType(Zt)},{no:2,name:"message",kind:"scalar",T:9}]);let Rn=class Vt extends oe{constructor(e){super(),this.startOffset=se.zero,this.endOffset=se.zero,O.util.initPartial(e,this)}static fromBinary(e,n){return new Vt().fromBinary(e,n)}static fromJson(e,n){return new Vt().fromJson(e,n)}static fromJsonString(e,n){return new Vt().fromJsonString(e,n)}static equals(e,n){return O.util.equals(Vt,e,n)}};Rn.runtime=O;Rn.typeName="exa.language_server_pb.Range";Rn.fields=O.util.newFieldList(()=>[{no:1,name:"start_offset",kind:"scalar",T:4},{no:2,name:"end_offset",kind:"scalar",T:4},{no:3,name:"start_position",kind:"message",T:Re},{no:4,name:"end_position",kind:"message",T:Re}]);class ot extends oe{constructor(e){super(),this.text="",this.deltaCursorOffset=se.zero,O.util.initPartial(e,this)}static fromBinary(e,n){return new ot().fromBinary(e,n)}static fromJson(e,n){return new ot().fromJson(e,n)}static fromJsonString(e,n){return new ot().fromJsonString(e,n)}static equals(e,n){return O.util.equals(ot,e,n)}}ot.runtime=O;ot.typeName="exa.language_server_pb.Suffix";ot.fields=O.util.newFieldList(()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"delta_cursor_offset",kind:"scalar",T:3}]);class at extends oe{constructor(e){super(),this.text="",this.offset=se.zero,this.type=Qt.UNSPECIFIED,this.prefix="",this.line=se.zero,O.util.initPartial(e,this)}static fromBinary(e,n){return new at().fromBinary(e,n)}static fromJson(e,n){return new at().fromJson(e,n)}static fromJsonString(e,n){return new at().fromJsonString(e,n)}static equals(e,n){return O.util.equals(at,e,n)}}at.runtime=O;at.typeName="exa.language_server_pb.CompletionPart";at.fields=O.util.newFieldList(()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"offset",kind:"scalar",T:4},{no:3,name:"type",kind:"enum",T:O.getEnumType(Qt)},{no:4,name:"prefix",kind:"scalar",T:9},{no:5,name:"line",kind:"scalar",T:4}]);class ct extends oe{constructor(e){super(),this.source=Kt.UNSPECIFIED,this.completionParts=[],O.util.initPartial(e,this)}static fromBinary(e,n){return new ct().fromBinary(e,n)}static fromJson(e,n){return new ct().fromJson(e,n)}static fromJsonString(e,n){return new ct().fromJsonString(e,n)}static equals(e,n){return O.util.equals(ct,e,n)}}ct.runtime=O;ct.typeName="exa.language_server_pb.CompletionItem";ct.fields=O.util.newFieldList(()=>[{no:1,name:"completion",kind:"message",T:Xe},{no:5,name:"suffix",kind:"message",T:ot},{no:2,name:"range",kind:"message",T:Rn},{no:3,name:"source",kind:"enum",T:O.getEnumType(Kt)},{no:8,name:"completion_parts",kind:"message",T:at,repeated:!0}]);const yu={typeName:"exa.language_server_pb.LanguageServerService",methods:{getCompletions:{name:"GetCompletions",I:Ze,O:Qe,kind:Be.Unary},acceptCompletion:{name:"AcceptCompletion",I:et,O:tt,kind:Be.Unary},getAuthToken:{name:"GetAuthToken",I:nt,O:rt,kind:Be.Unary}}};class Me{constructor(e,n){this.line=e,this.character=n,this.lineNumber=e+1,this.column=n+1}static fromMonaco(e){return new Me(e.lineNumber-1,e.column-1)}static fromPosition(e){return new Me(e.line,e.character)}}class $t{constructor(e,n){this.start=e,this.end=n,this.startLineNumber=e.line+1,this.startColumn=e.character+1,this.endLineNumber=n.line+1,this.endColumn=n.character+1}static fromMonaco(e){return new $t(new Me(e.startLineNumber-1,e.startColumn-1),new Me(e.endLineNumber-1,e.endColumn-1))}static fromRange(e){return new $t(e.start,e.end)}}class wu{constructor(e,n){this.text=e,this.range=n}}class Eu{constructor(e){this.model=e,this.uri=e.uri,this.languageId=e.getLanguageId()}get lineCount(){return this.model.getLineCount()}lineAt(e){return typeof e!="number"&&(e=e.line),new wu(this.model.getLineContent(e+1),new $t(new Me(e,0),new Me(e,this.model.getLineLength(e+1))))}offsetAt(e){return this.model.getOffsetAt(Me.fromPosition(e))}positionAt(e){return Me.fromMonaco(this.model.getPositionAt(e))}getText(e){return e?this.model.getValueInRange($t.fromRange(e)):this.model.getValue()}}function Gi(t){return t<128?1:t<2048?2:t<65536?3:4}function Su(t,e){if(e===0)return 0;let n=0,r=0;for(const s of t)if(r+=s.length,n+=Gi(s.codePointAt(0)),e!==void 0&&r>=e)break;return n}function Bs(t,e){if(e===0)return 0;let n=0,r=0;for(const s of t)if(r+=Gi(s.codePointAt(0)),n+=s.length,e!==void 0&&r>=e)break;return n}const Nu=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),xu=()=>{try{return window.location.href}catch{return null}},Iu=()=>{try{return window.CODEIUM_REACT_CODE_VERSION?window.CODEIUM_REACT_CODE_VERSION:null}catch{return null}},Tu=t=>{switch(t.toLowerCase()){case"c":return P.C;case"clojure":return P.CLOJURE;case"coffeescript":return P.COFFEESCRIPT;case"cpp":return P.CPP;case"csharp":return P.CSHARP;case"css":return P.CSS;case"cudacpp":return P.CUDACPP;case"dockerfile":return P.DOCKERFILE;case"go":return P.GO;case"groovy":return P.GROOVY;case"handlebars":return P.HANDLEBARS;case"haskell":return P.HASKELL;case"hcl":return P.HCL;case"html":return P.HTML;case"ini":return P.INI;case"java":return P.JAVA;case"javascript":return P.JAVASCRIPT;case"json":return P.JSON;case"julia":return P.JULIA;case"kotlin":return P.KOTLIN;case"latex":return P.LATEX;case"less":return P.LESS;case"lua":return P.LUA;case"makefile":return P.MAKEFILE;case"markdown":return P.MARKDOWN;case"objectivec":return P.OBJECTIVEC;case"objectivecpp":return P.OBJECTIVECPP;case"perl":return P.PERL;case"php":return P.PHP;case"plaintext":return P.PLAINTEXT;case"protobuf":return P.PROTOBUF;case"pbtxt":return P.PBTXT;case"python":return P.PYTHON;case"r":return P.R;case"ruby":return P.RUBY;case"rust":return P.RUST;case"sass":return P.SASS;case"scala":return P.SCALA;case"scss":return P.SCSS;case"shell":return P.SHELL;case"sql":return P.SQL;case"starlark":return P.STARLARK;case"swift":return P.SWIFT;case"tsx":return P.TSX;case"typescript":return P.TYPESCRIPT;case"visualbasic":return P.VISUALBASIC;case"vue":return P.VUE;case"xml":return P.XML;case"xsl":return P.XSL;case"yaml":return P.YAML;case"svelte":return P.SVELTE;case"toml":return P.TOML;case"dart":return P.DART;case"rst":return P.RST;case"ocaml":return P.OCAML;case"cmake":return P.CMAKE;case"pascal":return P.PASCAL;case"elixir":return P.ELIXIR;case"fsharp":return P.FSHARP;case"lisp":return P.LISP;case"matlab":return P.MATLAB;case"powershell":return P.POWERSHELL;case"solidity":return P.SOLIDITY;case"ada":return P.ADA;case"ocaml_interface":return P.OCAML_INTERFACE;default:return P.UNSPECIFIED}};class Ou{constructor(e,n,r){this.insertText=e,this.text=e,this.range=n,this.command={id:"codeium.acceptCompletion",title:"Accept Completion",arguments:[r,e]}}}const Au="d49954eb-cfba-4992-980f-d8fb37f0e942";class vu{constructor(e,n,r,s,i){this.setStatus=n,this.setMessage=r,this.apiKey=s,this.multilineModelThreshold=i,this.otherDocuments=[],this.sessionId=`react-editor-${Nu()}`,this.client=e}getAuthHeader(){const e=this.getMetadata();return{Authorization:`Basic ${e.apiKey}-${e.sessionId}`}}getMetadata(){var e,n,r;return new ke({ideName:"web",ideVersion:(e=xu())!==null&&e!==void 0?e:"unknown",extensionName:"@codeium/react-code-editor",extensionVersion:(n=Iu())!==null&&n!==void 0?n:"unknown",apiKey:(r=this.apiKey)!==null&&r!==void 0?r:Au,sessionId:this.sessionId})}provideInlineCompletions(e,n,r){return wr(this,void 0,void 0,function*(){const s=new Eu(e),i=Me.fromMonaco(n);r.onCancellationRequested(()=>{var w;return(w=r.cancellationCallback)===null||w===void 0?void 0:w.call(r)});const o=new AbortController;r.onCancellationRequested(()=>{o.abort()});const a=o.signal;this.setStatus(pt.PROCESSING),this.setMessage("Generating completions...");const c=this.getDocumentInfo(s,i),l={tabSize:BigInt(e.getOptions().tabSize),insertSpaces:e.getOptions().insertSpaces};let f=this.otherDocuments;f.length>10&&(console.warn(`Too many other documents: ${f.length} (max 10)`),f=f.slice(0,10));let h;this.multilineModelThreshold!==void 0&&(h=new De({threshold:this.multilineModelThreshold}));let u;try{u=yield this.client.getCompletions({metadata:this.getMetadata(),document:c,editorOptions:l,otherDocuments:f,multilineConfig:h},{signal:a,headers:this.getAuthHeader()})}catch(w){w instanceof be&&w.code===K.Canceled||(this.setStatus(pt.ERROR),this.setMessage("Something went wrong; please try again."));return}if(!u.completionItems){const w=" No completions were generated";this.setStatus(pt.SUCCESS),this.setMessage(w);return}const S=u.completionItems.map(w=>this.createInlineCompletionItem(w,s)).filter(w=>!!w);this.setStatus(pt.SUCCESS);let g=`Generated ${S.length} completions`;return S.length===1&&(g="Generated 1 completion"),this.setMessage(g),{items:S}})}acceptedLastCompletion(e){new Promise((n,r)=>{this.client.acceptCompletion({metadata:this.getMetadata(),completionId:e},{headers:this.getAuthHeader()}).then(n).catch(s=>{console.log("Error: ",s)})})}getDocumentInfo(e,n){const r=e.getText(),s=e.offsetAt(n),i=Su(r,s),o=Tu(e.languageId);return o===P.UNSPECIFIED&&console.warn(`Unknown language: ${e.languageId}`),new Ut({text:r,editorLanguage:e.languageId,language:o,cursorOffset:BigInt(i),lineEnding:`
`})}createInlineCompletionItem(e,n){if(!e.completion||!e.range)return;const r=n.getText(),s=n.positionAt(Bs(r,Number(e.range.startOffset))),i=n.positionAt(Bs(r,Number(e.range.endOffset))),o=new $t(s,i);return new Ou(e.completion.text,o,e.completion.completionId)}}class Cu{constructor(e,n,r,s,i,o){this.setCompletionCount=n,this.numCompletionsProvided=0,this.completionProvider=new vu(e,r,s,i,o)}freeInlineCompletions(){}provideInlineCompletions(e,n,r,s){return wr(this,void 0,void 0,function*(){const i=yield this.completionProvider.provideInlineCompletions(e,n,s);return i&&(this.numCompletionsProvided+=1,this.setCompletionCount(this.numCompletionsProvided)),i})}acceptedLastCompletion(e){this.completionProvider.acceptedLastCompletion(e)}updateOtherDocuments(e){this.completionProvider.otherDocuments=e}}const Bu=t=>{var{className:e,loading:n=!1}=t,r=hi(t,["className","loading"]);return x.createElement("svg",Object.assign({viewBox:"0 0 124 124","aria-label":"Codeium Logo",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{className:e}),x.createElement("mask",{id:"mask0_306_96",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"124",height:"124"},x.createElement("path",{d:"M0 10C0 4.47715 4.47715 0 10 0H114C119.523 0 124 4.47715 124 10V114C124 119.523 119.523 124 114 124H10C4.47715 124 0 119.523 0 114V10Z",fill:"#D9D9D9"})),x.createElement("g",{mask:"url(#mask0_306_96)"},x.createElement("path",{d:"M62 62L0 124V0L62 62Z",fill:"#60D5C4"}),x.createElement("path",{d:"M62 62L124 124V0L62 62Z",fill:"#60D5C4"}),x.createElement("path",{d:"M62 62L124 124L0 124L62 62Z",fill:"#71E9D8"}),x.createElement("path",{d:"M62 62L124 0L0 0L62 62Z",fill:"#71E9D8"}),x.createElement("path",{d:"M107.387 16H16.6133C16.2746 16 16 16.2746 16 16.6133V107.387C16 107.725 16.2746 108 16.6133 108H107.387C107.725 108 108 107.725 108 107.387V16.6133C108 16.2746 107.725 16 107.387 16Z",fill:"#09B6A2"}),x.createElement("path",{d:"M75.196 77.1134C74.1902 77.1134 73.3102 76.7612 72.5559 76.0566C71.8375 75.3169 71.4783 74.4538 71.4783 73.4675C71.4783 72.4459 71.8375 71.5828 72.5559 70.8783C73.3102 70.1386 74.1902 69.7687 75.196 69.7687C76.2377 69.7687 77.1177 70.1386 77.8361 70.8783C78.5545 71.5828 78.9137 72.4459 78.9137 73.4675C78.9137 74.4538 78.5545 75.3169 77.8361 76.0566C77.1177 76.7612 76.2377 77.1134 75.196 77.1134Z",fill:"white","aria-label":"right-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"666ms"}}),x.createElement("path",{d:"M62.3573 77.1134C61.3516 77.1134 60.4715 76.7612 59.7172 76.0566C58.9988 75.3169 58.6396 74.4538 58.6396 73.4675C58.6396 72.4459 58.9988 71.5828 59.7172 70.8783C60.4715 70.1386 61.3516 69.7687 62.3573 69.7687C63.399 69.7687 64.2791 70.1386 64.9974 70.8783C65.7158 71.5828 66.075 72.4459 66.075 73.4675C66.075 74.4538 65.7158 75.3169 64.9974 76.0566C64.2791 76.7612 63.399 77.1134 62.3573 77.1134Z",fill:"white","aria-label":"middle-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"333ms"}}),x.createElement("path",{d:"M49.519 77.1134C48.5132 77.1134 47.6332 76.7612 46.8789 76.0566C46.1605 75.3169 45.8013 74.4538 45.8013 73.4675C45.8013 72.4459 46.1605 71.5828 46.8789 70.8783C47.6332 70.1386 48.5132 69.7687 49.519 69.7687C50.5607 69.7687 51.4407 70.1386 52.1591 70.8783C52.8775 71.5828 53.2367 72.4459 53.2367 73.4675C53.2367 74.4538 52.8775 75.3169 52.1591 76.0566C51.4407 76.7612 50.5607 77.1134 49.519 77.1134Z",fill:"white","aria-label":"left-dot",className:n?"animate-blink duration-1000":"",style:{animationDelay:"0ms"}}),x.createElement("path",{d:"M85.9869 88.6325C85.1967 88.6325 84.5501 88.3683 84.0473 87.8399C83.5444 87.3468 83.2929 86.7127 83.2929 85.9377C83.2929 85.1275 83.5444 84.4758 84.0473 83.9826C84.5501 83.4894 85.1967 83.2429 85.9869 83.2429C88.178 83.2429 89.2736 82.1684 89.2736 80.0196V67.7079C89.2736 65.2421 89.8483 63.287 90.9977 61.8427C90.423 61.1029 89.992 60.2399 89.7046 59.2535C89.4173 58.2672 89.2736 57.1575 89.2736 55.9246V43.6129C89.2736 41.4641 88.178 40.3897 85.9869 40.3897C85.1967 40.3897 84.5501 40.1431 84.0473 39.6499C83.5444 39.1567 83.2929 38.5227 83.2929 37.7477C83.2929 36.9727 83.5444 36.321 84.0473 35.7926C84.5501 35.2642 85.1967 35 85.9869 35C91.8419 35 94.7693 37.871 94.7693 43.6129V55.9246C94.7693 58.0734 95.8469 59.1478 98.0021 59.1478C98.7924 59.1478 99.4389 59.3944 99.9418 59.8876C100.481 60.3808 100.75 61.0325 100.75 61.8427C100.75 62.6177 100.481 63.2517 99.9418 63.7449C99.4389 64.2381 98.7924 64.4847 98.0021 64.4847C95.8469 64.4847 94.7693 65.5591 94.7693 67.7079V80.0196C94.7693 85.7616 91.8419 88.6325 85.9869 88.6325Z",fill:"white","aria-label":"open-bracket"}),x.createElement("path",{d:"M38.7631 88.6325C32.9081 88.6325 29.9807 85.7616 29.9807 80.0196V67.7079C29.9807 65.5591 28.9031 64.4847 26.7479 64.4847C25.9576 64.4847 25.2931 64.2381 24.7543 63.7449C24.2514 63.2517 24 62.6177 24 61.8427C24 61.0325 24.2514 60.3808 24.7543 59.8876C25.2931 59.3944 25.9576 59.1478 26.7479 59.1478C28.9031 59.1478 29.9807 58.0734 29.9807 55.9246V43.6129C29.9807 37.871 32.9081 35 38.7631 35C39.5533 35 40.1999 35.2642 40.7027 35.7926C41.2056 36.321 41.4571 36.9727 41.4571 37.7477C41.4571 38.5227 41.2056 39.1567 40.7027 39.6499C40.1999 40.1431 39.5533 40.3897 38.7631 40.3897C36.572 40.3897 35.4764 41.4641 35.4764 43.6129V55.9246C35.4764 57.1575 35.3327 58.2672 35.0454 59.2535C34.758 60.2399 34.327 61.1029 33.7522 61.8427C34.9017 63.287 35.4764 65.2421 35.4764 67.7079V80.0196C35.4764 82.1684 36.572 83.2429 38.7631 83.2429C39.5533 83.2429 40.1999 83.4894 40.7027 83.9826C41.2056 84.4758 41.4571 85.1275 41.4571 85.9377C41.4571 86.7127 41.2056 87.3468 40.7027 87.8399C40.1999 88.3683 39.5533 88.6325 38.7631 88.6325Z",fill:"white","aria-label":"close-bracket"})))};function Hi(t,e){const n=Object.assign({},e);for(const r in t)typeof t[r]=="object"&&!Array.isArray(t[r])?e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?n[r]=Hi(t[r],e[r]):n[r]=Object.assign({},t[r]):n[r]=t[r];return n}const Pu=t=>{var{languageServerAddress:e="https://web-backend.codeium.com",otherDocuments:n=[],containerClassName:r="",containerStyle:s={}}=t,i=hi(t,["languageServerAddress","otherDocuments","containerClassName","containerStyle"]);const o=y.useRef(null),a=y.useRef(null),c=y.useRef(null),[l,f]=y.useState(-1),[h,u]=y.useState(0),[b,S]=y.useState(pt.INACTIVE),[g,w]=y.useState(""),[k,I]=y.useState(!1),B=y.useMemo(()=>ul({baseUrl:e,useBinaryFormat:!0}),[e]),p=y.useMemo(()=>Lc(yu,B),[B]);c.current=y.useMemo(()=>new Cu(p,u,S,w,i.apiKey,i.multilineModelThreshold),[]),y.useEffect(()=>{if(!o?.current||!a.current||!c.current)return;const q=a.current,N=q.languages.registerInlineCompletionsProvider({pattern:"**"},c.current),v=q.editor.registerCommand("codeium.acceptCompletion",(_,J,A)=>{var M;try{i.onAutocomplete&&i.onAutocomplete(A),f(l+1),(M=c.current)===null||M===void 0||M.acceptedLastCompletion(J)}catch{console.log("Err")}});return()=>{N.dispose(),v.dispose()}},[o?.current,a?.current,c?.current,l,k]);const $=(q,N)=>wr(void 0,void 0,void 0,function*(){o.current=q,a.current=N,I(!0);try{yield p.getCompletions({})}catch{}i.onMount&&i.onMount(q,N)});y.useEffect(()=>{var q;(q=c.current)===null||q===void 0||q.updateOtherDocuments(n)},[n]);let U={defaultLanguage:i.language,defaultValue:pu(i.language)};const D={width:i.width||"100%",height:i.height||"300px"};return x.createElement("div",{style:Object.assign(Object.assign(Object.assign({},D),{position:"relative"}),s),className:r},x.createElement("a",{href:"https://codeium.com?referrer=codeium-editor",target:"_blank",rel:"noreferrer noopener"},x.createElement(Bu,{width:30,height:30,style:{position:"absolute",top:12,right:12,zIndex:1}})),x.createElement(bu,Object.assign({},U,i,{width:D.width,height:D.height,onMount:$,options:Hi(i.options,{scrollBeyondLastColumn:0,scrollbar:{alwaysConsumeMouseWheel:!1},codeLens:!1,minimap:{enabled:!1},quickSuggestions:!1,folding:!1,foldingHighlight:!1,foldingImportsByDefault:!1,links:!1,fontSize:14,wordWrap:"on"})})))},Ps=({message:t,type:e="error",onClose:n})=>!t||t.trim()==""?null:m.jsx("div",{className:"w-full",children:m.jsxs("div",{className:"inline-flex items-center px-2 py-1 text-xs text-red-500 bg-red-100 border border-red-300 border-solid rounded-sm",children:[t,m.jsx("button",{className:"ml-2 text-xs text-red-500 rounded-sm hover:bg-red-200",onClick:n,children:m.jsx(dn,{})})]})}),Uu=({onChange:t})=>m.jsx(Pu,{language:"json",className:"text-sm",theme:"light",onChange:t,options:{fontSize:12,padding:{top:10}}});function Zu(){const t=Yi(),[e,n]=y.useState({page:1,pageSize:10}),[r,s]=y.useState({field:"",direction:1}),i=Wi(),o=y.useRef(!1),[a,c]=y.useState("list"),[l,f]=y.useState({}),[h,u]=y.useState(""),[b,S]=y.useState(""),[g,w]=y.useState(!1),k=Xi(),{columns:I}=t,[B,p]=y.useState(t),{title:$,stats:U,count:D,documents:q,params:N,pagination:v}=B,_=fe.parse(q);if(y.useEffect(()=>{if(!N||!o||!o.current){o.current=!0;return}const A={};if(e.page>1){const M=(e.page-1)*e.pageSize;A.skip=M}e.pageSize!=10&&(A.limit=e.pageSize),i.submit({query:l?fe.stringify(l):{},...A,sort:r.field,direction:r.direction},{method:"POST",encType:"application/json",action:`/database/${N.db}/${N.col}`})},[e.page,e.pageSize,r.field,r.direction]),y.useEffect(()=>{i.data&&i.data.status=="success"?p(i.data.collection):i.data&&i.data.status=="error"&&S(i.data?.message||"")},[i.data]),!U)return m.jsx("div",{children:"Loading..."});let J=null;return a=="grid"?J=m.jsx(Ma,{sort:r,onSort:A=>{s(M=>({field:A,direction:M.field==A?M.direction*-1:1})),n({...e,page:1})},rows:_}):J=_.map((A,M)=>m.jsx("div",{className:"w-full p-4 mb-3 overflow-auto bg-white border border-solid border-neutral-300",children:m.jsx(sr,{autocompleteItems:I,isExpanded:!1,data:A})},A._id?A._id.toString():`document-${M}`)),m.jsxs(m.Fragment,{children:[m.jsx(ro,{className:"database-page",fullWidth:!0,children:m.jsxs(so,{lg:16,md:8,sm:4,children:[m.jsxs("div",{className:"flex items-center justify-between pb-4",children:[m.jsxs("div",{children:[m.jsxs(io,{title:$,children:[m.jsx("span",{className:"font-normal opacity-50",children:"Collection:"})," ",$]}),m.jsxs("p",{className:"text-sm",children:["Documents: ",U?.count]}),m.jsx("div",{className:"flex items-center gap-2 mt-4",children:m.jsx(xt,{size:"sm",kind:"danger--tertiary",renderIcon:Kn,iconDescription:"Delete Database",onClick:A=>{A.preventDefault(),w(!0)},children:"Delete Collection"})})]}),m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[m.jsx(xt,{hasIconOnly:!0,size:"md",kind:"ghost",isSelected:a=="list",renderIcon:So,iconDescription:"List View",onClick:A=>{A.preventDefault(),c("list")}}),m.jsx(xt,{hasIconOnly:!0,size:"md",kind:"ghost",isSelected:a=="grid",renderIcon:yo,iconDescription:"Table View",onClick:A=>{A.preventDefault(),c("grid")}})]})]}),m.jsxs("div",{className:"mt-1 mb-1 border-t border-solid border-neutral-100",children:[m.jsxs("div",{className:"py-1",children:[m.jsx("span",{className:"block text-base font-bold",children:"Query"}),m.jsx("span",{className:"block mb-2 text-xs opacity-50",children:"Please enter your query below"})]}),m.jsxs(Ys,{children:[m.jsxs(Ws,{"aria-label":"List of tabs",contained:!0,children:[m.jsx(hn,{children:"Json Editor"}),m.jsx(hn,{children:"Codeium (Raw)"})]}),m.jsxs(Xs,{children:[m.jsxs(nr,{children:[m.jsx("div",{className:"bg-white min-h-36",children:m.jsx(sr,{data:l,autocompleteItems:I,onChange:A=>f(A)})}),m.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[m.jsxs("div",{className:"flex items-center",children:[i.state=="submitting"||i.state=="loading"?m.jsx(Qn,{size:"sm"}):m.jsx(xt,{size:"sm",renderIcon:Pr,onClick:A=>{A.preventDefault(),S(""),n({...e,page:1}),i.submit({query:fe.stringify(l)},{method:"POST",encType:"application/json",action:`/database/${N.db}/${N.col}`})},children:"Execute"}),m.jsx(_o,{size:"sm",className:"ml-2",kind:"ghost",text:fe.stringify(l),children:"Copy as BSON"})]}),b!=""&&m.jsx(Ps,{message:b,onClose:()=>S("")})]})]}),m.jsxs(nr,{children:[m.jsx(Uu,{onChange:A=>{u(A);try{f(fe.parse(A)),S("")}catch(M){S(M.message)}}}),m.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.state=="submitting"||i.state=="loading"?m.jsx(Qn,{size:"sm"}):m.jsx(xt,{size:"sm",renderIcon:Pr,onClick:A=>{A.preventDefault();let M=null;try{M=fe.parse(h)}catch(G){S(G.message);return}S(""),n({...e,page:1}),i.submit({query:h},{method:"POST",encType:"application/json",action:`/database/${N.db}/${N.col}`})},children:"Execute"}),b!=""&&m.jsx(Ps,{message:b,onClose:()=>S("")})]})]})]})]})]}),m.jsx("div",{className:"mb-3 bg-neutral-100",children:m.jsx(Zi,{children:m.jsx(Qi,{title:"Statistics",className:"pr-0 ",children:m.jsxs("div",{className:"flex flex-col items-start w-full pb-4 lg:flex-row",children:[m.jsx("div",{className:"flex-1 w-full",children:m.jsx(Wn,{children:m.jsxs(Xn,{children:[m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Namespace"}),m.jsx(te,{children:U.ns})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Host"}),m.jsx(te,{children:U.host})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Local Time"}),m.jsx(te,{children:U.localTime})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Reads Latency"}),m.jsxs(te,{children:[Ve(U.latencyStats?.reads.latency)," ms"]})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Writes Latency"}),m.jsxs(te,{children:[Ve(U.latencyStats?.writes.latency)," ms"]})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Commands Latency"}),m.jsxs(te,{children:[Ve(U.latencyStats?.commands.latency)," ms"]})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Transactions Latency"}),m.jsxs(te,{children:[Ve(U.latencyStats?.transactions.latency)," ms"]})]})]})})}),m.jsx("div",{className:"flex-1 w-full",children:m.jsx(Wn,{className:"mt-4 lg:mt-0",children:m.jsxs(Xn,{children:[m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Storage Size"}),m.jsxs(te,{children:[Ve(U.storageStats?.storageSize)," B"]})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Total Index Size"}),m.jsxs(te,{children:[Ve(U.storageStats?.totalIndexSize)," B"]})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Total Size"}),m.jsxs(te,{children:[Ve(U.storageStats?.totalSize)," B"]})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Count"}),m.jsx(te,{children:U.storageStats?.count})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Collection Scans Total"}),m.jsx(te,{children:Ve(U.queryExecStats?.collectionScans.total)})]}),m.jsxs(we,{children:[m.jsx(te,{className:"font-bold",children:"Collection Scans Non-Tailable"}),m.jsx(te,{children:Ve(U.queryExecStats?.collectionScans.nonTailable)})]})]})})})]})})})}),m.jsx("div",{className:"w-ful min-h-72",children:J})]})}),m.jsx(Hs,{className:"mt-3 mb-10",backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"Items per page:",onChange:({page:A,pageSize:M})=>{n({page:A,pageSize:M})},page:Math.floor(v.skip/v.limit)+1,pageSize:Number(v.limit),pageSizes:[10,20,30,40,50,100,500],size:"md",totalItems:D}),m.jsx(Eo,{open:g,onClose:()=>w(!1),collectionName:$,dbName:N.db,onSuccess:()=>{w(!1),k(`/database/${N.db}`)}})]})}export{Zu as default};
